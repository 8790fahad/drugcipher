/*! For license information please see 2.1c790abd.chunk.js.LICENSE.txt */
(this["webpackJsonpnear-marketplace"]=this["webpackJsonpnear-marketplace"]||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(228)},function(t,e,n){"use strict";t.exports=n(173)},function(t,e,n){t.exports=n(230)()},function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=a(t,o(n)))}return t}function o(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var r in t)n.call(t,r)&&t[r]&&(e=a(e,r));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}var i;n.d(e,"a",(function(){return K})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return lt})),n.d(e,"d",(function(){return st})),n.d(e,"e",(function(){return $})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return F})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return s})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return pt})),n.d(e,"n",(function(){return G})),n.d(e,"o",(function(){return I})),n.d(e,"p",(function(){return Q})),n.d(e,"q",(function(){return U})),n.d(e,"r",(function(){return q})),n.d(e,"s",(function(){return D})),n.d(e,"t",(function(){return _})),n.d(e,"u",(function(){return d})),n.d(e,"v",(function(){return X})),n.d(e,"w",(function(){return J})),n.d(e,"x",(function(){return L})),n.d(e,"y",(function(){return B})),n.d(e,"z",(function(){return R})),function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(i||(i={}));const o="popstate";function a(t){void 0===t&&(t={});let e,{initialEntries:n=["/"],initialIndex:r,v5Compat:o=!1}=t;e=n.map(((t,e)=>m(t,"string"===typeof t?null:t.state,0===e?"default":void 0)));let a=u(null==r?e.length-1:r),s=i.Pop,l=null;function u(t){return Math.min(Math.max(t,0),e.length-1)}function h(){return e[a]}function m(t,n,r){void 0===n&&(n=null);let i=p(e?h().pathname:"/",t,n,r);return c("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(t)),i}function g(t){return"string"===typeof t?t:f(t)}return{get index(){return a},get action(){return s},get location(){return h()},createHref:g,createURL:t=>new URL(g(t),"http://localhost"),encodeLocation(t){let e="string"===typeof t?d(t):t;return{pathname:e.pathname||"",search:e.search||"",hash:e.hash||""}},push(t,n){s=i.Push;let r=m(t,n);a+=1,e.splice(a,e.length,r),o&&l&&l({action:s,location:r,delta:1})},replace(t,n){s=i.Replace;let r=m(t,n);e[a]=r,o&&l&&l({action:s,location:r,delta:0})},go(t){s=i.Pop;let n=u(a+t),r=e[n];a=n,l&&l({action:s,location:r,delta:t})},listen:t=>(l=t,()=>{l=null})}}function s(t){return void 0===t&&(t={}),m((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return p("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:f(e)}),null,t)}function l(t){return void 0===t&&(t={}),m((function(t,e){let{pathname:n="/",search:r="",hash:i=""}=d(t.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let n=t.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");r=-1===n?e:e.slice(0,n)}return r+"#"+("string"===typeof e?e:f(e))}),(function(t,e){c("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")}),t)}function u(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function c(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function h(t,e){return{usr:t.state,key:t.key,idx:e}}function p(t,e,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?d(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function f(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function m(t,e,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d=i.Pop,m=null,g=y();function y(){return(c.state||{idx:null}).idx}function v(){d=i.Pop;let t=y(),e=null==t?null:t-g;g=t,m&&m({action:d,location:b.location,delta:e})}function _(t){let e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:f(t);return u(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==g&&(g=0,c.replaceState(r({},c.state,{idx:g}),""));let b={get action(){return d},get location(){return t(s,c)},listen(t){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(o,v),m=t,()=>{s.removeEventListener(o,v),m=null}},createHref:t=>e(s,t),createURL:_,encodeLocation(t){let e=_(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){d=i.Push;let r=p(b.location,t,e);n&&n(r,t),g=y()+1;let o=h(r,g),a=b.createHref(r);try{c.pushState(o,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(a)}l&&m&&m({action:d,location:b.location,delta:1})},replace:function(t,e){d=i.Replace;let r=p(b.location,t,e);n&&n(r,t),g=y();let o=h(r,g),a=b.createHref(r);c.replaceState(o,"",a),l&&m&&m({action:d,location:b.location,delta:0})},go:t=>c.go(t)};return b}var g;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(g||(g={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function v(t,e,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),t.map(((t,o)=>{let a=[...n,o],s="string"===typeof t.id?t.id:a.join("-");if(u(!0!==t.index||!t.children,"Cannot specify children on an index route"),u(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(t){return!0===t.index}(t)){let n=r({},t,e(t),{id:s});return i[s]=n,n}{let n=r({},t,e(t),{id:s,children:void 0});return i[s]=n,t.children&&(n.children=v(t.children,e,a,i)),n}}))}function _(t,e,n){void 0===n&&(n="/");let r=R(("string"===typeof e?d(e):e).pathname||"/",n);if(null==r)return null;let i=x(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=A(i[a],j(r));return o}function b(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function x(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,o)=>{let a={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=U([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(u(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),x(t.children,e,l,s)),(null!=t.path||t.index)&&e.push({path:s,score:P(s,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of w(t.path))i(t,e,r);else i(t,e)})),e}function w(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=w(r.join("/")),s=[];return s.push(...a.map((t=>""===t?o:[o,t].join("/")))),i&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}const S=/^:[\w-]+$/,E=3,O=2,k=1,M=10,C=-2,T=t=>"*"===t;function P(t,e){let n=t.split("/"),r=n.length;return n.some(T)&&(r+=C),e&&(r+=O),n.filter((t=>!T(t))).reduce(((t,e)=>t+(S.test(e)?E:""===e?k:M)),r)}function A(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let t=n[a],s=a===n.length-1,l="/"===i?e:e.slice(i.length)||"/",u=D({path:t.relativePath,caseSensitive:t.caseSensitive,end:s},l);if(!u)return null;Object.assign(r,u.params);let c=t.route;o.push({params:r,pathname:U([i,u.pathname]),pathnameBase:V(U([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=U([i,u.pathnameBase]))}return o}function I(t,e){void 0===e&&(e={});let n=t;n.endsWith("*")&&"*"!==n&&!n.endsWith("/*")&&(c(!1,'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=t=>null==t?"":"string"===typeof t?t:String(t);return r+n.split(/\/+/).map(((t,n,r)=>{if(n===r.length-1&&"*"===t){return i(e["*"])}const o=t.match(/^:([\w-]+)(\??)$/);if(o){const[,t,n]=o;let r=e[t];return u("?"===n||null!=r,'Missing ":'+t+'" param'),i(r)}return t.replace(/\?$/g,"")})).filter((t=>!!t)).join("/")}function D(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);c("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const l=s[n];return t[r]=i&&!l?void 0:function(t,e){try{return decodeURIComponent(t)}catch(n){return c(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(l||"",r),t}),{}),pathname:o,pathnameBase:a,pattern:t}}function j(t){try{return decodeURI(t)}catch(e){return c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function R(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function L(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof t?d(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:H(r),hash:W(i)}}function z(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function F(t,e){let n=N(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function B(t,e,n,i){let o;void 0===i&&(i=!1),"string"===typeof t?o=d(t):(o=r({},t),u(!o.pathname||!o.pathname.includes("?"),z("?","pathname","search",o)),u(!o.pathname||!o.pathname.includes("#"),z("#","pathname","hash",o)),u(!o.search||!o.search.includes("#"),z("#","search","hash",o)));let a,s=""===t||""===o.pathname,l=s?"/":o.pathname;if(null==l)a=n;else{let t=e.length-1;if(!i&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;o.pathname=e.join("/")}a=t>=0?e[t]:"/"}let c=L(o,a),h=l&&"/"!==l&&l.endsWith("/"),p=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!p||(c.pathname+="/"),c}const U=t=>t.join("/").replace(/\/\/+/g,"/"),V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",W=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"",q=function(t,e){void 0===e&&(e={});let n="number"===typeof e?{status:e}:e,i=new Headers(n.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),r({},n,{headers:i}))};class K extends Error{}class Y{constructor(t,e){let n;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],u(t&&"object"===typeof t&&!Array.isArray(t),"defer() only accepts plain objects"),this.abortPromise=new Promise(((t,e)=>n=e)),this.controller=new AbortController;let r=()=>n(new K("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(t).reduce(((t,e)=>{let[n,r]=e;return Object.assign(t,{[n]:this.trackPromise(n,r)})}),{}),this.done&&this.unlistenAbortSignal(),this.init=e}trackPromise(t,e){if(!(e instanceof Promise))return e;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([e,this.abortPromise]).then((e=>this.onSettle(n,t,void 0,e)),(e=>this.onSettle(n,t,e)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,e,n,r){if(this.controller.signal.aborted&&n instanceof K)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n);if(this.pendingKeysSet.delete(e),this.done&&this.unlistenAbortSignal(),void 0===n&&void 0===r){let n=new Error('Deferred data for key "'+e+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,e),Promise.reject(n)}return void 0===r?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,e),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>r}),this.emit(!1,e),r)}emit(t,e){this.subscribers.forEach((n=>n(t,e)))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach(((t,e)=>this.pendingKeysSet.delete(e))),this.emit(!0)}async resolveData(t){let e=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),e=await new Promise((e=>{this.subscribe((r=>{t.removeEventListener("abort",n),(r||this.done)&&e(r)}))}))}return e}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return u(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((t,e)=>{let[n,r]=e;return Object.assign(t,{[n]:Z(r)})}),{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Z(t){if(!function(t){return t instanceof Promise&&!0===t._tracked}(t))return t;if(t._error)throw t._error;return t._data}const G=function(t,e){return void 0===e&&(e={}),new Y(t,"number"===typeof e?{status:e}:e)},X=function(t,e){void 0===e&&(e=302);let n=e;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);let i=new Headers(n.headers);return i.set("Location",t),new Response(null,r({},n,{headers:i}))},J=(t,e)=>{let n=X(t,e);return n.headers.set("X-Remix-Reload-Document","true"),n};class ${constructor(t,e,n,r){void 0===r&&(r=!1),this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Q(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const tt=["post","put","patch","delete"],et=new Set(tt),nt=["get",...tt],rt=new Set(nt),it=new Set([301,302,303,307,308]),ot=new Set([307,308]),at={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},st={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ut=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=t=>({hasErrorBoundary:Boolean(t.hasErrorBoundary)}),ht="remix-router-transitions";function pt(t){const e=t.window?t.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof e&&"undefined"!==typeof e.document&&"undefined"!==typeof e.document.createElement,o=!n;let a;if(u(t.routes.length>0,"You must provide a non-empty routes array to createRouter"),t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let e=t.detectErrorBoundary;a=t=>({hasErrorBoundary:e(t)})}else a=ct;let s,l,h={},f=v(t.routes,a,void 0,h),d=t.basename||"/",m=r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),y=null,x=new Set,w=null,S=null,E=null,O=null!=t.hydrationData,k=_(f,t.history.location,d),M=null;if(null==k){let e=Tt(404,{pathname:t.history.location.pathname}),{matches:n,route:r}=Ct(f);k=n,M={[r.id]:e}}let C,T=k.some((t=>t.route.lazy)),P=k.some((t=>t.route.loader));if(T)l=!1;else if(P)if(m.v7_partialHydration){let e=t.hydrationData?t.hydrationData.loaderData:null,n=t.hydrationData?t.hydrationData.errors:null;l=k.every((t=>t.route.loader&&!0!==t.route.loader.hydrate&&(e&&void 0!==e[t.route.id]||n&&void 0!==n[t.route.id])))}else l=null!=t.hydrationData;else l=!0;let A,I={historyAction:t.history.action,location:t.history.location,matches:k,initialized:l,navigation:at,restoreScrollPosition:null==t.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},D=i.Pop,j=!1,L=!1,z=new Map,N=null,F=!1,B=!1,U=[],V=[],H=new Map,W=0,q=-1,K=new Map,Y=new Set,Z=new Map,G=new Map,X=new Set,J=new Map,$=new Map,Q=!1;function tt(t,e){void 0===e&&(e={}),I=r({},I,t);let n=[],i=[];m.v7_fetcherPersist&&I.fetchers.forEach(((t,e)=>{"idle"===t.state&&(X.has(e)?i.push(e):n.push(e))})),[...x].forEach((t=>t(I,{deletedFetchers:i,unstable_viewTransitionOpts:e.viewTransitionOpts,unstable_flushSync:!0===e.flushSync}))),m.v7_fetcherPersist&&(n.forEach((t=>I.fetchers.delete(t))),i.forEach((t=>_t(t))))}function et(e,n,o){var a,l;let u,{flushSync:c}=void 0===o?{}:o,h=null!=I.actionData&&null!=I.navigation.formMethod&&zt(I.navigation.formMethod)&&"loading"===I.navigation.state&&!0!==(null==(a=e.state)?void 0:a._isRedirect);u=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?I.actionData:null;let p=n.loaderData?kt(I.loaderData,n.loaderData,n.matches||[],n.errors):I.loaderData,d=I.blockers;d.size>0&&(d=new Map(d),d.forEach(((t,e)=>d.set(e,lt))));let m,g=!0===j||null!=I.navigation.formMethod&&zt(I.navigation.formMethod)&&!0!==(null==(l=e.state)?void 0:l._isRedirect);if(s&&(f=s,s=void 0),F||D===i.Pop||(D===i.Push?t.history.push(e,e.state):D===i.Replace&&t.history.replace(e,e.state)),D===i.Pop){let t=z.get(I.location.pathname);t&&t.has(e.pathname)?m={currentLocation:I.location,nextLocation:e}:z.has(e.pathname)&&(m={currentLocation:e,nextLocation:I.location})}else if(L){let t=z.get(I.location.pathname);t?t.add(e.pathname):(t=new Set([e.pathname]),z.set(I.location.pathname,t)),m={currentLocation:I.location,nextLocation:e}}tt(r({},n,{actionData:u,loaderData:p,historyAction:D,location:e,initialized:!0,navigation:at,revalidation:"idle",restoreScrollPosition:Zt(e,n.matches||I.matches),preventScrollReset:g,blockers:d}),{viewTransitionOpts:m,flushSync:!0===c}),D=i.Pop,j=!1,L=!1,F=!1,B=!1,U=[],V=[]}async function nt(e,n,o){A&&A.abort(),A=null,D=e,F=!0===(o&&o.startUninterruptedRevalidation),function(t,e){if(w&&E){let n=Yt(t,e);w[n]=E()}}(I.location,I.matches),j=!0===(o&&o.preventScrollReset),L=!0===(o&&o.enableViewTransition);let l=s||f,u=o&&o.overrideNavigation,c=_(l,n,d),p=!0===(o&&o.flushSync);if(!c){let t=Tt(404,{pathname:n.pathname}),{matches:e,route:r}=Ct(l);return Kt(),void et(n,{matches:e,loaderData:{},errors:{[r.id]:t}},{flushSync:p})}if(I.initialized&&!B&&function(t,e){if(t.pathname!==e.pathname||t.search!==e.search)return!1;if(""===t.hash)return""!==e.hash;if(t.hash===e.hash)return!0;if(""!==e.hash)return!0;return!1}(I.location,n)&&!(o&&o.submission&&zt(o.submission.formMethod)))return void et(n,{matches:c},{flushSync:p});A=new AbortController;let y,v,b=xt(t.history,n,A.signal,o&&o.submission);if(o&&o.pendingError)v={[Mt(c).route.id]:o.pendingError};else if(o&&o.submission&&zt(o.submission.formMethod)){let t=await async function(t,e,n,r,o){void 0===o&&(o={});pt();let s,l=function(t,e){let n={state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text};return n}(e,n);tt({navigation:l},{flushSync:!0===o.flushSync});let u=Ut(r,e);if(u.route.action||u.route.lazy){if(s=await bt("action",t,u,r,h,a,d,m.v7_relativeSplatPath),t.signal.aborted)return{shortCircuited:!0}}else s={type:g.error,error:Tt(405,{method:t.method,pathname:e.pathname,routeId:u.route.id})};if(jt(s)){let t;return t=o&&null!=o.replace?o.replace:s.location===I.location.pathname+I.location.search,await rt(I,s,{submission:n,replace:t}),{shortCircuited:!0}}if(Dt(s)){let t=Mt(r,u.route.id);return!0!==(o&&o.replace)&&(D=i.Push),{pendingActionData:{},pendingActionError:{[t.route.id]:s.error}}}if(It(s))throw Tt(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:s.data}}}(b,n,o.submission,c,{replace:o.replace,flushSync:p});if(t.shortCircuited)return;y=t.pendingActionData,v=t.pendingActionError,u=Ht(n,o.submission),p=!1,b=new Request(b.url,{signal:b.signal})}let{shortCircuited:x,loaderData:S,errors:O}=await async function(e,n,i,o,a,l,u,c,h,p,g){let y=o||Ht(n,a),v=a||l||Vt(y),_=s||f,[b,x]=gt(t.history,I,i,v,n,m.v7_partialHydration&&!0===c,B,U,V,X,Z,Y,_,d,p,g);if(Kt((t=>!(i&&i.some((e=>e.route.id===t)))||b&&b.some((e=>e.route.id===t)))),q=++W,0===b.length&&0===x.length){let t=Et();return et(n,r({matches:i,loaderData:{},errors:g||null},p?{actionData:p}:{},t?{fetchers:new Map(I.fetchers)}:{}),{flushSync:h}),{shortCircuited:!0}}if(!F&&(!m.v7_partialHydration||!c)){x.forEach((t=>{let e=I.fetchers.get(t.key),n=Wt(void 0,e?e.data:void 0);I.fetchers.set(t.key,n)}));let t=p||I.actionData;tt(r({navigation:y},t?0===Object.keys(t).length?{actionData:null}:{actionData:t}:{},x.length>0?{fetchers:new Map(I.fetchers)}:{}),{flushSync:h})}x.forEach((t=>{H.has(t.key)&&wt(t.key),t.controller&&H.set(t.key,t.controller)}));let w=()=>x.forEach((t=>wt(t.key)));A&&A.signal.addEventListener("abort",w);let{results:S,loaderResults:E,fetcherResults:O}=await it(I.matches,i,b,x,e);if(e.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",w);x.forEach((t=>H.delete(t.key)));let k=Pt(S);if(k){if(k.idx>=b.length){let t=x[k.idx-b.length].key;Y.add(t)}return await rt(I,k.result,{replace:u}),{shortCircuited:!0}}let{loaderData:M,errors:C}=Ot(I,i,b,E,g,x,O,J);J.forEach(((t,e)=>{t.subscribe((n=>{(n||t.done)&&J.delete(e)}))}));let T=Et(),P=At(q),D=T||P||x.length>0;return r({loaderData:M,errors:C},D?{fetchers:new Map(I.fetchers)}:{})}(b,n,c,u,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,o&&!0===o.initialHydration,p,y,v);x||(A=null,et(n,r({matches:c},y?{actionData:y}:{},{loaderData:S,errors:O})))}async function rt(o,a,s){let{submission:l,fetcherSubmission:c,replace:h}=void 0===s?{}:s;a.revalidate&&(B=!0);let f=p(o.location,a.location,{_isRedirect:!0});if(u(f,"Expected a location on the redirect navigation"),n){let n=!1;if(a.reloadDocument)n=!0;else if(ut.test(a.location)){const r=t.history.createURL(a.location);n=r.origin!==e.location.origin||null==R(r.pathname,d)}if(n)return void(h?e.location.replace(a.location):e.location.assign(a.location))}A=null;let m=!0===h?i.Replace:i.Push,{formMethod:g,formAction:y,formEncType:v}=o.navigation;!l&&!c&&g&&y&&v&&(l=Vt(o.navigation));let _=l||c;if(ot.has(a.status)&&_&&zt(_.formMethod))await nt(m,f,{submission:r({},_,{formAction:a.location}),preventScrollReset:j});else{let t=Ht(f,l);await nt(m,f,{overrideNavigation:t,fetcherSubmission:c,preventScrollReset:j})}}async function it(e,n,r,i,o){let s=await Promise.all([...r.map((t=>bt("loader",o,t,n,h,a,d,m.v7_relativeSplatPath))),...i.map((e=>{if(e.matches&&e.match&&e.controller)return bt("loader",xt(t.history,e.path,e.controller.signal),e.match,e.matches,h,a,d,m.v7_relativeSplatPath);return{type:g.error,error:Tt(404,{pathname:e.path})}}))]),l=s.slice(0,r.length),u=s.slice(r.length);return await Promise.all([Nt(e,r,l,l.map((()=>o.signal)),!1,I.loaderData),Nt(e,i.map((t=>t.match)),u,i.map((t=>t.controller?t.controller.signal:null)),!0)]),{results:s,loaderResults:l,fetcherResults:u}}function pt(){B=!0,U.push(...Kt()),Z.forEach(((t,e)=>{H.has(e)&&(V.push(e),wt(e))}))}function mt(t,e,n){void 0===n&&(n={}),I.fetchers.set(t,e),tt({fetchers:new Map(I.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function yt(t,e,n,r){void 0===r&&(r={});let i=Mt(I.matches,e);_t(t),tt({errors:{[i.route.id]:n},fetchers:new Map(I.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function vt(t){return m.v7_fetcherPersist&&(G.set(t,(G.get(t)||0)+1),X.has(t)&&X.delete(t)),I.fetchers.get(t)||st}function _t(t){let e=I.fetchers.get(t);!H.has(t)||e&&"loading"===e.state&&K.has(t)||wt(t),Z.delete(t),K.delete(t),Y.delete(t),X.delete(t),I.fetchers.delete(t)}function wt(t){let e=H.get(t);u(e,"Expected fetch controller: "+t),e.abort(),H.delete(t)}function St(t){for(let e of t){let t=qt(vt(e).data);I.fetchers.set(e,t)}}function Et(){let t=[],e=!1;for(let n of Y){let r=I.fetchers.get(n);u(r,"Expected fetcher: "+n),"loading"===r.state&&(Y.delete(n),t.push(n),e=!0)}return St(t),e}function At(t){let e=[];for(let[n,r]of K)if(r<t){let t=I.fetchers.get(n);u(t,"Expected fetcher: "+n),"loading"===t.state&&(wt(n),K.delete(n),e.push(n))}return St(e),e.length>0}function Rt(t){I.blockers.delete(t),$.delete(t)}function Lt(t,e){let n=I.blockers.get(t)||lt;u("unblocked"===n.state&&"blocked"===e.state||"blocked"===n.state&&"blocked"===e.state||"blocked"===n.state&&"proceeding"===e.state||"blocked"===n.state&&"unblocked"===e.state||"proceeding"===n.state&&"unblocked"===e.state,"Invalid blocker state transition: "+n.state+" -> "+e.state);let r=new Map(I.blockers);r.set(t,e),tt({blockers:r})}function Bt(t){let{currentLocation:e,nextLocation:n,historyAction:r}=t;if(0===$.size)return;$.size>1&&c(!1,"A router only supports one blocker at a time");let i=Array.from($.entries()),[o,a]=i[i.length-1],s=I.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:e,nextLocation:n,historyAction:r})?o:void 0}function Kt(t){let e=[];return J.forEach(((n,r)=>{t&&!t(r)||(n.cancel(),e.push(r),J.delete(r))})),e}function Yt(t,e){if(S){return S(t,e.map((t=>b(t,I.loaderData))))||t.key}return t.key}function Zt(t,e){if(w){let n=Yt(t,e),r=w[n];if("number"===typeof r)return r}return null}return C={get basename(){return d},get future(){return m},get state(){return I},get routes(){return f},get window(){return e},initialize:function(){if(y=t.history.listen((e=>{let{action:n,location:r,delta:i}=e;if(Q)return void(Q=!1);c(0===$.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=Bt({currentLocation:I.location,nextLocation:r,historyAction:n});return o&&null!=i?(Q=!0,t.history.go(-1*i),void Lt(o,{state:"blocked",location:r,proceed(){Lt(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.history.go(i)},reset(){let t=new Map(I.blockers);t.set(o,lt),tt({blockers:t})}})):nt(n,r)})),n){!function(t,e){try{let n=t.sessionStorage.getItem(ht);if(n){let t=JSON.parse(n);for(let[n,r]of Object.entries(t||{}))r&&Array.isArray(r)&&e.set(n,new Set(r||[]))}}catch(n){}}(e,z);let t=()=>function(t,e){if(e.size>0){let r={};for(let[t,n]of e)r[t]=[...n];try{t.sessionStorage.setItem(ht,JSON.stringify(r))}catch(n){c(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(e,z);e.addEventListener("pagehide",t),N=()=>e.removeEventListener("pagehide",t)}return I.initialized||nt(i.Pop,I.location,{initialHydration:!0}),C},subscribe:function(t){return x.add(t),()=>x.delete(t)},enableScrollRestoration:function(t,e,n){if(w=t,E=e,S=n||null,!O&&I.navigation===at){O=!0;let t=Zt(I.location,I.matches);null!=t&&tt({restoreScrollPosition:t})}return()=>{w=null,E=null,S=null}},navigate:async function e(n,o){if("number"===typeof n)return void t.history.go(n);let a=ft(I.location,I.matches,d,m.v7_prependBasename,n,m.v7_relativeSplatPath,null==o?void 0:o.fromRouteId,null==o?void 0:o.relative),{path:s,submission:l,error:u}=dt(m.v7_normalizeFormMethod,!1,a,o),c=I.location,h=p(I.location,s,o&&o.state);h=r({},h,t.history.encodeLocation(h));let f=o&&null!=o.replace?o.replace:void 0,g=i.Push;!0===f?g=i.Replace:!1===f||null!=l&&zt(l.formMethod)&&l.formAction===I.location.pathname+I.location.search&&(g=i.Replace);let y=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,v=!0===(o&&o.unstable_flushSync),_=Bt({currentLocation:c,nextLocation:h,historyAction:g});if(!_)return await nt(g,h,{submission:l,pendingError:u,preventScrollReset:y,replace:o&&o.replace,enableViewTransition:o&&o.unstable_viewTransition,flushSync:v});Lt(_,{state:"blocked",location:h,proceed(){Lt(_,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),e(n,o)},reset(){let t=new Map(I.blockers);t.set(_,lt),tt({blockers:t})}})},fetch:function(e,n,r,i){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(e)&&wt(e);let l=!0===(i&&i.unstable_flushSync),c=s||f,p=ft(I.location,I.matches,d,m.v7_prependBasename,r,m.v7_relativeSplatPath,n,null==i?void 0:i.relative),g=_(c,p,d);if(!g)return void yt(e,n,Tt(404,{pathname:p}),{flushSync:l});let{path:y,submission:v,error:b}=dt(m.v7_normalizeFormMethod,!0,p,i);if(b)return void yt(e,n,b,{flushSync:l});let x=Ut(g,y);j=!0===(i&&i.preventScrollReset),v&&zt(v.formMethod)?async function(e,n,r,i,o,l,c){if(pt(),Z.delete(e),!i.route.action&&!i.route.lazy){let t=Tt(405,{method:c.formMethod,pathname:r,routeId:n});return void yt(e,n,t,{flushSync:l})}let p=I.fetchers.get(e);mt(e,function(t,e){let n={state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0};return n}(c,p),{flushSync:l});let g=new AbortController,y=xt(t.history,r,g.signal,c);H.set(e,g);let v=W,b=await bt("action",y,i,o,h,a,d,m.v7_relativeSplatPath);if(y.signal.aborted)return void(H.get(e)===g&&H.delete(e));if(m.v7_fetcherPersist&&X.has(e)){if(jt(b)||Dt(b))return void mt(e,qt(void 0))}else{if(jt(b))return H.delete(e),q>v?void mt(e,qt(void 0)):(Y.add(e),mt(e,Wt(c)),rt(I,b,{fetcherSubmission:c}));if(Dt(b))return void yt(e,n,b.error)}if(It(b))throw Tt(400,{type:"defer-action"});let x=I.navigation.location||I.location,w=xt(t.history,x,g.signal),S=s||f,E="idle"!==I.navigation.state?_(S,I.navigation.location,d):I.matches;u(E,"Didn't find any matches after fetcher action");let O=++W;K.set(e,O);let k=Wt(c,b.data);I.fetchers.set(e,k);let[M,C]=gt(t.history,I,E,c,x,!1,B,U,V,X,Z,Y,S,d,{[i.route.id]:b.data},void 0);C.filter((t=>t.key!==e)).forEach((t=>{let e=t.key,n=I.fetchers.get(e),r=Wt(void 0,n?n.data:void 0);I.fetchers.set(e,r),H.has(e)&&wt(e),t.controller&&H.set(e,t.controller)})),tt({fetchers:new Map(I.fetchers)});let T=()=>C.forEach((t=>wt(t.key)));g.signal.addEventListener("abort",T);let{results:P,loaderResults:j,fetcherResults:R}=await it(I.matches,E,M,C,w);if(g.signal.aborted)return;g.signal.removeEventListener("abort",T),K.delete(e),H.delete(e),C.forEach((t=>H.delete(t.key)));let L=Pt(P);if(L){if(L.idx>=M.length){let t=C[L.idx-M.length].key;Y.add(t)}return rt(I,L.result)}let{loaderData:z,errors:N}=Ot(I,I.matches,M,j,void 0,C,R,J);if(I.fetchers.has(e)){let t=qt(b.data);I.fetchers.set(e,t)}At(O),"loading"===I.navigation.state&&O>q?(u(D,"Expected pending action"),A&&A.abort(),et(I.navigation.location,{matches:E,loaderData:z,errors:N,fetchers:new Map(I.fetchers)})):(tt({errors:N,loaderData:kt(I.loaderData,z,E,N),fetchers:new Map(I.fetchers)}),B=!1)}(e,n,y,x,g,l,v):(Z.set(e,{routeId:n,path:y}),async function(e,n,r,i,o,s,l){let c=I.fetchers.get(e);mt(e,Wt(l,c?c.data:void 0),{flushSync:s});let p=new AbortController,f=xt(t.history,r,p.signal);H.set(e,p);let g=W,y=await bt("loader",f,i,o,h,a,d,m.v7_relativeSplatPath);It(y)&&(y=await Ft(y,f.signal,!0)||y);H.get(e)===p&&H.delete(e);if(f.signal.aborted)return;if(X.has(e))return void mt(e,qt(void 0));if(jt(y))return q>g?void mt(e,qt(void 0)):(Y.add(e),void await rt(I,y));if(Dt(y))return void yt(e,n,y.error);u(!It(y),"Unhandled fetcher deferred data"),mt(e,qt(y.data))}(e,n,y,x,g,l,v))},revalidate:function(){pt(),tt({revalidation:"loading"}),"submitting"!==I.navigation.state&&("idle"!==I.navigation.state?nt(D||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation}):nt(I.historyAction,I.location,{startUninterruptedRevalidation:!0}))},createHref:e=>t.history.createHref(e),encodeLocation:e=>t.history.encodeLocation(e),getFetcher:vt,deleteFetcher:function(t){if(m.v7_fetcherPersist){let e=(G.get(t)||0)-1;e<=0?(G.delete(t),X.add(t)):G.set(t,e)}else _t(t);tt({fetchers:new Map(I.fetchers)})},dispose:function(){y&&y(),N&&N(),x.clear(),A&&A.abort(),I.fetchers.forEach(((t,e)=>_t(e))),I.blockers.forEach(((t,e)=>Rt(e)))},getBlocker:function(t,e){let n=I.blockers.get(t)||lt;return $.get(t)!==e&&$.set(t,e),n},deleteBlocker:Rt,_internalFetchControllers:H,_internalActiveDeferreds:J,_internalSetRoutes:function(t){h={},s=v(t,a,void 0,h)}},C}Symbol("deferred");function ft(t,e,n,r,i,o,a,s){let l,u;if(a){l=[];for(let t of e)if(l.push(t),t.route.id===a){u=t;break}}else l=e,u=e[e.length-1];let c=B(i||".",F(l,o),R(t.pathname,n)||t.pathname,"path"===s);return null==i&&(c.search=t.search,c.hash=t.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||Bt(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:U([n,c.pathname])),f(c)}function dt(t,e,n,r){if(!r||!function(t){return null!=t&&("formData"in t&&null!=t.formData||"body"in t&&void 0!==t.body)}(r))return{path:n};if(r.formMethod&&!Lt(r.formMethod))return{path:n,error:Tt(405,{method:r.formMethod})};let i,o,a=()=>({path:n,error:Tt(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=t?s.toUpperCase():s.toLowerCase(),c=At(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!zt(l))return a();let t="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((t,e)=>{let[n,r]=e;return""+t+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:t}}}if("application/json"===r.formEncType){if(!zt(l))return a();try{let t="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:t,text:void 0}}}catch(m){return a()}}}if(u("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=wt(r.formData),o=r.formData;else if(r.body instanceof FormData)i=wt(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=St(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=St(i)}catch(m){return a()}let h={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(zt(h.formMethod))return{path:n,submission:h};let p=d(n);return e&&p.search&&Bt(p.search)&&i.append("index",""),p.search="?"+i,{path:f(p),submission:h}}function mt(t,e){let n=t;if(e){let r=t.findIndex((t=>t.route.id===e));r>=0&&(n=t.slice(0,r))}return n}function gt(t,e,n,i,o,a,s,l,u,c,h,p,f,d,m,g){let y=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,v=t.createURL(e.location),b=t.createURL(o),x=g?Object.keys(g)[0]:void 0,w=mt(n,x).filter(((t,n)=>{let{route:o}=t;if(o.lazy)return!0;if(null==o.loader)return!1;if(a)return!!o.loader.hydrate||void 0===e.loaderData[o.id]&&(!e.errors||void 0===e.errors[o.id]);if(function(t,e,n){let r=!e||n.route.id!==e.route.id,i=void 0===t[n.route.id];return r||i}(e.loaderData,e.matches[n],t)||l.some((e=>e===t.route.id)))return!0;let u=e.matches[n],c=t;return vt(t,r({currentUrl:v,currentParams:u.params,nextUrl:b,nextParams:c.params},i,{actionResult:y,defaultShouldRevalidate:s||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||yt(u,c)}))})),S=[];return h.forEach(((t,o)=>{if(a||!n.some((e=>e.route.id===t.routeId))||c.has(o))return;let l=_(f,t.path,d);if(!l)return void S.push({key:o,routeId:t.routeId,path:t.path,matches:null,match:null,controller:null});let h=e.fetchers.get(o),m=Ut(l,t.path),g=!1;g=!p.has(o)&&(!!u.includes(o)||(h&&"idle"!==h.state&&void 0===h.data?s:vt(m,r({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},i,{actionResult:y,defaultShouldRevalidate:s})))),g&&S.push({key:o,routeId:t.routeId,path:t.path,matches:l,match:m,controller:new AbortController})})),[w,S]}function yt(t,e){let n=t.route.path;return t.pathname!==e.pathname||null!=n&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function vt(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if("boolean"===typeof n)return n}return e.defaultShouldRevalidate}async function _t(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let o=n[t.id];u(o,"No route found in manifest");let a={};for(let r in i){let t=void 0!==o[r]&&"hasErrorBoundary"!==r;c(!t,'Route "'+o.id+'" has a static property "'+r+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+r+'" will be ignored.'),t||y.has(r)||(a[r]=i[r])}Object.assign(o,a),Object.assign(o,r({},e(o),{lazy:void 0}))}async function bt(t,e,n,r,i,o,a,s,l){let c,h,p;void 0===l&&(l={});let f=t=>{let r,i=new Promise(((t,e)=>r=e));return p=()=>r(),e.signal.addEventListener("abort",p),Promise.race([t({request:e,params:n.params,context:l.requestContext}),i])};try{let r=n.route[t];if(n.route.lazy)if(r){let t,e=await Promise.all([f(r).catch((e=>{t=e})),_t(n.route,o,i)]);if(t)throw t;h=e[0]}else{if(await _t(n.route,o,i),r=n.route[t],!r){if("action"===t){let t=new URL(e.url),r=t.pathname+t.search;throw Tt(405,{method:e.method,pathname:r,routeId:n.route.id})}return{type:g.data,data:void 0}}h=await f(r)}else{if(!r){let t=new URL(e.url);throw Tt(404,{pathname:t.pathname+t.search})}h=await f(r)}u(void 0!==h,"You defined "+("action"===t?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`.")}catch(y){c=g.error,h=y}finally{p&&e.signal.removeEventListener("abort",p)}if(Rt(h)){let t,i=h.status;if(it.has(i)){let t=h.headers.get("Location");if(u(t,"Redirects returned/thrown from loaders/actions must have a Location header"),ut.test(t)){if(!l.isStaticRequest){let n=new URL(e.url),r=t.startsWith("//")?new URL(n.protocol+t):new URL(t),i=null!=R(r.pathname,a);r.origin===n.origin&&i&&(t=r.pathname+r.search+r.hash)}}else t=ft(new URL(e.url),r.slice(0,r.indexOf(n)+1),a,!0,t,s);if(l.isStaticRequest)throw h.headers.set("Location",t),h;return{type:g.redirect,status:i,location:t,revalidate:null!==h.headers.get("X-Remix-Revalidate"),reloadDocument:null!==h.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:c===g.error?g.error:g.data,response:h}}try{let e=h.headers.get("Content-Type");t=e&&/\bapplication\/json\b/.test(e)?null==h.body?null:await h.json():await h.text()}catch(y){return{type:g.error,error:y}}return c===g.error?{type:c,error:new $(i,h.statusText,t),headers:h.headers}:{type:g.data,data:t,statusCode:h.status,headers:h.headers}}return c===g.error?{type:c,error:h}:function(t){let e=t;return e&&"object"===typeof e&&"object"===typeof e.data&&"function"===typeof e.subscribe&&"function"===typeof e.cancel&&"function"===typeof e.resolveData}(h)?{type:g.deferred,deferredData:h,statusCode:null==(d=h.init)?void 0:d.status,headers:(null==(m=h.init)?void 0:m.headers)&&new Headers(h.init.headers)}:{type:g.data,data:h};var d,m}function xt(t,e,n,r){let i=t.createURL(At(e)).toString(),o={signal:n};if(r&&zt(r.formMethod)){let{formMethod:t,formEncType:e}=r;o.method=t.toUpperCase(),"application/json"===e?(o.headers=new Headers({"Content-Type":e}),o.body=JSON.stringify(r.json)):"text/plain"===e?o.body=r.text:"application/x-www-form-urlencoded"===e&&r.formData?o.body=wt(r.formData):o.body=r.formData}return new Request(i,o)}function wt(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,"string"===typeof r?r:r.name);return e}function St(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Et(t,e,n,r,i){let o,a={},s=null,l=!1,c={};return n.forEach(((n,h)=>{let p=e[h].route.id;if(u(!jt(n),"Cannot handle redirect results in processLoaderData"),Dt(n)){let e=Mt(t,p),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[e.route.id]&&(s[e.route.id]=i),a[p]=void 0,l||(l=!0,o=Q(n.error)?n.error.status:500),n.headers&&(c[p]=n.headers)}else It(n)?(i.set(p,n.deferredData),a[p]=n.deferredData.data):a[p]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[p]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function Ot(t,e,n,i,o,a,s,l){let{loaderData:c,errors:h}=Et(e,n,i,o,l);for(let p=0;p<a.length;p++){let{key:e,match:n,controller:i}=a[p];u(void 0!==s&&void 0!==s[p],"Did not find corresponding fetcher result");let o=s[p];if(!i||!i.signal.aborted)if(Dt(o)){let i=Mt(t.matches,null==n?void 0:n.route.id);h&&h[i.route.id]||(h=r({},h,{[i.route.id]:o.error})),t.fetchers.delete(e)}else if(jt(o))u(!1,"Unhandled fetcher revalidation redirect");else if(It(o))u(!1,"Unhandled fetcher deferred data");else{let n=qt(o.data);t.fetchers.set(e,n)}}return{loaderData:c,errors:h}}function kt(t,e,n,i){let o=r({},e);for(let r of n){let n=r.route.id;if(e.hasOwnProperty(n)?void 0!==e[n]&&(o[n]=e[n]):void 0!==t[n]&&r.route.loader&&(o[n]=t[n]),i&&i.hasOwnProperty(n))break}return o}function Mt(t,e){return(e?t.slice(0,t.findIndex((t=>t.route.id===e))+1):[...t]).reverse().find((t=>!0===t.route.hasErrorBoundary))||t[0]}function Ct(t){let e=1===t.length?t[0]:t.find((t=>t.index||!t.path||"/"===t.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tt(t,e){let{pathname:n,routeId:r,method:i,type:o}=void 0===e?{}:e,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===t?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===t?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===t?(a="Not Found",s='No route matches URL "'+n+'"'):405===t&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new $(t||500,a,new Error(s),!0)}function Pt(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(jt(n))return{result:n,idx:e}}}function At(t){return f(r({},"string"===typeof t?d(t):t,{hash:""}))}function It(t){return t.type===g.deferred}function Dt(t){return t.type===g.error}function jt(t){return(t&&t.type)===g.redirect}function Rt(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"object"===typeof t.headers&&"undefined"!==typeof t.body}function Lt(t){return rt.has(t.toLowerCase())}function zt(t){return et.has(t.toLowerCase())}async function Nt(t,e,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=e[a];if(!l)continue;let c=t.find((t=>t.route.id===l.route.id)),h=null!=c&&!yt(c,l)&&void 0!==(o&&o[l.route.id]);if(It(s)&&(i||h)){let t=r[a];u(t,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ft(s,t,i).then((t=>{t&&(n[a]=t||n[a])}))}}}async function Ft(t,e,n){if(void 0===n&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:g.data,data:t.deferredData.unwrappedData}}catch(r){return{type:g.error,error:r}}return{type:g.data,data:t.deferredData.data}}}function Bt(t){return new URLSearchParams(t).getAll("index").some((t=>""===t))}function Ut(t,e){let n="string"===typeof e?d(e).search:e.search;if(t[t.length-1].route.index&&Bt(n||""))return t[t.length-1];let r=N(t);return r[r.length-1]}function Vt(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:a}=t;if(e&&n&&r)return null!=i?{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function Ht(t,e){if(e){return{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}return{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wt(t,e){if(t){return{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qt(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}},function(t,e,n){"use strict";n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"c",(function(){return h})),n.d(e,"k",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return g})),n.d(e,"f",(function(){return y})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return S}));var r,i=n(2),o=n.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return e?t.split(" ").map((function(t){return e[t]||t})).join(" "):t}function l(t,e){var n={};return Object.keys(t).forEach((function(r){-1===e.indexOf(r)&&(n[r]=t[r])})),n}function u(t,e){for(var n,r=Array.isArray(e)?e:[e],i=r.length,o={};i>0;)o[n=r[i-=1]]=t[n];return o}var c={};function h(t,e){return function(n,r,i){var o;null!==n[r]&&"undefined"!==typeof n[r]&&(o='"'.concat(r,'" property of "').concat(i,'" has been deprecated.\n').concat(e),c[o]||("undefined"!==typeof console&&console.error(o),c[o]=!0));for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return t.apply(void 0,[n,r,i].concat(s))}}var p="object"===("undefined"===typeof window?"undefined":a(window))&&window.Element||function(){};var f=o.a.oneOfType([o.a.string,o.a.func,function(t,e,n){if(!(t[e]instanceof p))return new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},o.a.shape({current:o.a.any})]),d=o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func}),o.a.arrayOf(o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func})]))]),m={Fade:150,Collapse:350,Modal:300,Carousel:600,Offcanvas:300},g=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],y={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},v=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function b(t){var e=a(t);return null!=t&&("object"===e||"function"===e)}function x(t){if(function(t){return!(!t||"object"!==a(t))&&"current"in t}(t))return t.current;if(function(t){if(!b(t))return!1;var e=_(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}(t))return t();if("string"===typeof t&&v){var e=document.querySelectorAll(t);if(e.length||(e=document.querySelectorAll("#".concat(t))),!e.length)throw new Error("The target '".concat(t,"' could not be identified in the dom, tip: check spelling"));return e}return t}function w(t){return null!==t&&(Array.isArray(t)||v&&"number"===typeof t.length)}function S(t,e){var n=x(t);return e?w(n)?n:null===n?[]:[n]:w(n)?n[0]:n}},function(t,e,n){"use strict";n.d(e,"u",(function(){return r})),n.d(e,"i",(function(){return i})),n.d(e,"s",(function(){return o})),n.d(e,"l",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"t",(function(){return u})),n.d(e,"k",(function(){return c})),n.d(e,"j",(function(){return h})),n.d(e,"w",(function(){return p})),n.d(e,"p",(function(){return f})),n.d(e,"r",(function(){return d})),n.d(e,"v",(function(){return m})),n.d(e,"o",(function(){return g})),n.d(e,"g",(function(){return y})),n.d(e,"q",(function(){return v})),n.d(e,"b",(function(){return _})),n.d(e,"f",(function(){return b})),n.d(e,"m",(function(){return x})),n.d(e,"a",(function(){return w})),n.d(e,"h",(function(){return S})),n.d(e,"x",(function(){return E})),n.d(e,"c",(function(){return O})),n.d(e,"n",(function(){return k}));var r="top",i="bottom",o="right",a="left",s="auto",l=[r,i,o,a],u="start",c="end",h="clippingParents",p="viewport",f="popper",d="reference",m=l.reduce((function(t,e){return t.concat([e+"-"+u,e+"-"+c])}),[]),g=[].concat(l,[s]).reduce((function(t,e){return t.concat([e,e+"-"+u,e+"-"+c])}),[]),y="beforeRead",v="read",_="afterRead",b="beforeMain",x="main",w="afterMain",S="beforeWrite",E="write",O="afterWrite",k=[y,v,_,b,x,w,S,E,O]},function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return p}));var r=n(1);n(0);const i=["xxl","xl","lg","md","sm","xs"],o="xs",a=r.createContext({prefixes:{},breakpoints:i,minBreakpoint:o}),{Consumer:s,Provider:l}=a;function u(t,e){const{prefixes:n}=Object(r.useContext)(a);return t||n[e]||e}function c(){const{breakpoints:t}=Object(r.useContext)(a);return t}function h(){const{minBreakpoint:t}=Object(r.useContext)(a);return t}function p(){const{dir:t}=Object(r.useContext)(a);return"rtl"===t}},function(t,e,n){"use strict";n.r(e),n.d(e,"Await",(function(){return ot})),n.d(e,"MemoryRouter",(function(){return Q})),n.d(e,"Navigate",(function(){return tt})),n.d(e,"Outlet",(function(){return et})),n.d(e,"Route",(function(){return nt})),n.d(e,"Router",(function(){return rt})),n.d(e,"RouterProvider",(function(){return J})),n.d(e,"Routes",(function(){return it})),n.d(e,"UNSAFE_DataRouterContext",(function(){return a})),n.d(e,"UNSAFE_DataRouterStateContext",(function(){return s})),n.d(e,"UNSAFE_LocationContext",(function(){return c})),n.d(e,"UNSAFE_NavigationContext",(function(){return u})),n.d(e,"UNSAFE_RouteContext",(function(){return h})),n.d(e,"UNSAFE_mapRouteProperties",(function(){return pt})),n.d(e,"UNSAFE_useRouteId",(function(){return z})),n.d(e,"UNSAFE_useRoutesImpl",(function(){return k})),n.d(e,"createMemoryRouter",(function(){return ft})),n.d(e,"createRoutesFromChildren",(function(){return ct})),n.d(e,"createRoutesFromElements",(function(){return ct})),n.d(e,"renderMatches",(function(){return ht})),n.d(e,"useActionData",(function(){return H})),n.d(e,"useAsyncError",(function(){return K})),n.d(e,"useAsyncValue",(function(){return q})),n.d(e,"useBlocker",(function(){return Z})),n.d(e,"useHref",(function(){return f})),n.d(e,"useInRouterContext",(function(){return d})),n.d(e,"useLoaderData",(function(){return U})),n.d(e,"useLocation",(function(){return m})),n.d(e,"useMatch",(function(){return y})),n.d(e,"useMatches",(function(){return B})),n.d(e,"useNavigate",(function(){return _})),n.d(e,"useNavigation",(function(){return N})),n.d(e,"useNavigationType",(function(){return g})),n.d(e,"useOutlet",(function(){return w})),n.d(e,"useOutletContext",(function(){return x})),n.d(e,"useParams",(function(){return S})),n.d(e,"useResolvedPath",(function(){return E})),n.d(e,"useRevalidator",(function(){return F})),n.d(e,"useRouteError",(function(){return W})),n.d(e,"useRouteLoaderData",(function(){return V})),n.d(e,"useRoutes",(function(){return O}));var r=n(1),i=n(4);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}n.d(e,"AbortedDeferredError",(function(){return i.a})),n.d(e,"NavigationType",(function(){return i.b})),n.d(e,"createPath",(function(){return i.l})),n.d(e,"defer",(function(){return i.n})),n.d(e,"generatePath",(function(){return i.o})),n.d(e,"isRouteErrorResponse",(function(){return i.p})),n.d(e,"json",(function(){return i.r})),n.d(e,"matchPath",(function(){return i.s})),n.d(e,"matchRoutes",(function(){return i.t})),n.d(e,"parsePath",(function(){return i.u})),n.d(e,"redirect",(function(){return i.v})),n.d(e,"redirectDocument",(function(){return i.w})),n.d(e,"resolvePath",(function(){return i.x}));const a=r.createContext(null);const s=r.createContext(null);const l=r.createContext(null);const u=r.createContext(null);const c=r.createContext(null);const h=r.createContext({outlet:null,matches:[],isDataRoute:!1});const p=r.createContext(null);function f(t,e){let{relative:n}=void 0===e?{}:e;d()||Object(i.h)(!1);let{basename:o,navigator:a}=r.useContext(u),{hash:s,pathname:l,search:c}=E(t,{relative:n}),h=l;return"/"!==o&&(h="/"===l?o:Object(i.q)([o,l])),a.createHref({pathname:h,search:c,hash:s})}function d(){return null!=r.useContext(c)}function m(){return d()||Object(i.h)(!1),r.useContext(c).location}function g(){return r.useContext(c).navigationType}function y(t){d()||Object(i.h)(!1);let{pathname:e}=m();return r.useMemo((()=>Object(i.s)(t,e)),[e,t])}function v(t){r.useContext(u).static||r.useLayoutEffect(t)}function _(){let{isDataRoute:t}=r.useContext(h);return t?function(){let{router:t}=j(I.UseNavigateStable),e=L(D.UseNavigateStable),n=r.useRef(!1);return v((()=>{n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?t.navigate(r):t.navigate(r,o({fromRouteId:e},i)))}),[t,e])}():function(){d()||Object(i.h)(!1);let t=r.useContext(a),{basename:e,future:n,navigator:o}=r.useContext(u),{matches:s}=r.useContext(h),{pathname:l}=m(),c=JSON.stringify(Object(i.g)(s,n.v7_relativeSplatPath)),p=r.useRef(!1);return v((()=>{p.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!p.current)return;if("number"===typeof n)return void o.go(n);let a=Object(i.y)(n,JSON.parse(c),l,"path"===r.relative);null==t&&"/"!==e&&(a.pathname="/"===a.pathname?e:Object(i.q)([e,a.pathname])),(r.replace?o.replace:o.push)(a,r.state,r)}),[e,o,c,l,t])}()}const b=r.createContext(null);function x(){return r.useContext(b)}function w(t){let e=r.useContext(h).outlet;return e?r.createElement(b.Provider,{value:t},e):e}function S(){let{matches:t}=r.useContext(h),e=t[t.length-1];return e?e.params:{}}function E(t,e){let{relative:n}=void 0===e?{}:e,{future:o}=r.useContext(u),{matches:a}=r.useContext(h),{pathname:s}=m(),l=JSON.stringify(Object(i.g)(a,o.v7_relativeSplatPath));return r.useMemo((()=>Object(i.y)(t,JSON.parse(l),s,"path"===n)),[t,l,s,n])}function O(t,e){return k(t,e)}function k(t,e,n,a){d()||Object(i.h)(!1);let{navigator:s}=r.useContext(u),{matches:l}=r.useContext(h),p=l[l.length-1],f=p?p.params:{},g=(p&&p.pathname,p?p.pathnameBase:"/");p&&p.route;let y,v=m();if(e){var _;let t="string"===typeof e?Object(i.u)(e):e;"/"===g||(null==(_=t.pathname)?void 0:_.startsWith(g))||Object(i.h)(!1),y=t}else y=v;let b=y.pathname||"/",x="/"===g?b:b.slice(g.length)||"/",w=Object(i.t)(t,{pathname:x});let S=A(w&&w.map((t=>Object.assign({},t,{params:Object.assign({},f,t.params),pathname:Object(i.q)([g,s.encodeLocation?s.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?g:Object(i.q)([g,s.encodeLocation?s.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),l,n,a);return e&&S?r.createElement(c.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:i.b.Pop}},S):S}function M(){let t=W(),e=Object(i.p)(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:a},n):null,null)}const C=r.createElement(M,null);class T extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(h.Provider,{value:this.props.routeContext},r.createElement(p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P(t){let{routeContext:e,match:n,children:i}=t,o=r.useContext(a);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(h.Provider,{value:e},i)}function A(t,e,n,o){var a;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==t){var s;if(null==(s=n)||!s.errors)return null;t=n.matches}let l=t,u=null==(a=n)?void 0:a.errors;if(null!=u){let t=l.findIndex((t=>t.route.id&&(null==u?void 0:u[t.route.id])));t>=0||Object(i.h)(!1),l=l.slice(0,Math.min(l.length,t+1))}let c=!1,h=-1;if(n&&o&&o.v7_partialHydration)for(let r=0;r<l.length;r++){let t=l[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=r),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){c=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((t,i,o)=>{let a,s=!1,p=null,f=null;var d;n&&(a=u&&i.route.id?u[i.route.id]:void 0,p=i.route.errorElement||C,c&&(h<0&&0===o?(d="route-fallback",!1||G[d]||(G[d]=!0),s=!0,f=null):h===o&&(s=!0,f=i.route.hydrateFallbackElement||null)));let m=e.concat(l.slice(0,o+1)),g=()=>{let e;return e=a?p:s?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:t,r.createElement(P,{match:i,routeContext:{outlet:t,matches:m,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(T,{location:n.location,revalidation:n.revalidation,component:p,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var I=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(I||{}),D=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D||{});function j(t){let e=r.useContext(a);return e||Object(i.h)(!1),e}function R(t){let e=r.useContext(s);return e||Object(i.h)(!1),e}function L(t){let e=function(t){let e=r.useContext(h);return e||Object(i.h)(!1),e}(),n=e.matches[e.matches.length-1];return n.route.id||Object(i.h)(!1),n.route.id}function z(){return L(D.UseRouteId)}function N(){return R(D.UseNavigation).navigation}function F(){let t=j(I.UseRevalidator),e=R(D.UseRevalidator);return r.useMemo((()=>({revalidate:t.router.revalidate,state:e.revalidation})),[t.router.revalidate,e.revalidation])}function B(){let{matches:t,loaderData:e}=R(D.UseMatches);return r.useMemo((()=>t.map((t=>Object(i.f)(t,e)))),[t,e])}function U(){let t=R(D.UseLoaderData),e=L(D.UseLoaderData);if(!t.errors||null==t.errors[e])return t.loaderData[e];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")")}function V(t){return R(D.UseRouteLoaderData).loaderData[t]}function H(){let t=R(D.UseActionData),e=L(D.UseLoaderData);return t.actionData?t.actionData[e]:void 0}function W(){var t;let e=r.useContext(p),n=R(D.UseRouteError),i=L(D.UseRouteError);return void 0!==e?e:null==(t=n.errors)?void 0:t[i]}function q(){let t=r.useContext(l);return null==t?void 0:t._data}function K(){let t=r.useContext(l);return null==t?void 0:t._error}let Y=0;function Z(t){let{router:e,basename:n}=j(I.UseBlocker),a=R(D.UseBlocker),[s,l]=r.useState(""),u=r.useCallback((e=>{if("function"!==typeof t)return!!t;if("/"===n)return t(e);let{currentLocation:r,nextLocation:a,historyAction:s}=e;return t({currentLocation:o({},r,{pathname:Object(i.z)(r.pathname,n)||r.pathname}),nextLocation:o({},a,{pathname:Object(i.z)(a.pathname,n)||a.pathname}),historyAction:s})}),[n,t]);return r.useEffect((()=>{let t=String(++Y);return l(t),()=>e.deleteBlocker(t)}),[e]),r.useEffect((()=>{""!==s&&e.getBlocker(s,u)}),[e,s,u]),s&&a.blockers.has(s)?a.blockers.get(s):i.c}const G={};const X=r.startTransition;function J(t){let{fallbackElement:e,router:n,future:i}=t,[o,l]=r.useState(n.state),{v7_startTransition:u}=i||{},c=r.useCallback((t=>{u&&X?X((()=>l(t))):l(t)}),[l,u]);r.useLayoutEffect((()=>n.subscribe(c)),[n,c]),r.useEffect((()=>{}),[]);let h=r.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:t=>n.navigate(t),push:(t,e,r)=>n.navigate(t,{state:e,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(t,e,r)=>n.navigate(t,{replace:!0,state:e,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),p=n.basename||"/",f=r.useMemo((()=>({router:n,navigator:h,static:!1,basename:p})),[n,h,p]);return r.createElement(r.Fragment,null,r.createElement(a.Provider,{value:f},r.createElement(s.Provider,{value:o},r.createElement(rt,{basename:p,location:o.location,navigationType:o.historyAction,navigator:h,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?r.createElement($,{routes:n.routes,future:n.future,state:o}):e))),null)}function $(t){let{routes:e,future:n,state:r}=t;return k(e,void 0,r,n)}function Q(t){let{basename:e,children:n,initialEntries:o,initialIndex:a,future:s}=t,l=r.useRef();null==l.current&&(l.current=Object(i.k)({initialEntries:o,initialIndex:a,v5Compat:!0}));let u=l.current,[c,h]=r.useState({action:u.action,location:u.location}),{v7_startTransition:p}=s||{},f=r.useCallback((t=>{p&&X?X((()=>h(t))):h(t)}),[h,p]);return r.useLayoutEffect((()=>u.listen(f)),[u,f]),r.createElement(rt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:u,future:s})}function tt(t){let{to:e,replace:n,state:o,relative:a}=t;d()||Object(i.h)(!1);let{future:s,static:l}=r.useContext(u),{matches:c}=r.useContext(h),{pathname:p}=m(),f=_(),g=Object(i.y)(e,Object(i.g)(c,s.v7_relativeSplatPath),p,"path"===a),y=JSON.stringify(g);return r.useEffect((()=>f(JSON.parse(y),{replace:n,state:o,relative:a})),[f,y,a,n,o]),null}function et(t){return w(t.context)}function nt(t){Object(i.h)(!1)}function rt(t){let{basename:e="/",children:n=null,location:a,navigationType:s=i.b.Pop,navigator:l,static:h=!1,future:p}=t;d()&&Object(i.h)(!1);let f=e.replace(/^\/*/,"/"),m=r.useMemo((()=>({basename:f,navigator:l,static:h,future:o({v7_relativeSplatPath:!1},p)})),[f,p,l,h]);"string"===typeof a&&(a=Object(i.u)(a));let{pathname:g="/",search:y="",hash:v="",state:_=null,key:b="default"}=a,x=r.useMemo((()=>{let t=Object(i.z)(g,f);return null==t?null:{location:{pathname:t,search:y,hash:v,state:_,key:b},navigationType:s}}),[f,g,y,v,_,b,s]);return null==x?null:r.createElement(u.Provider,{value:m},r.createElement(c.Provider,{children:n,value:x}))}function it(t){let{children:e,location:n}=t;return O(ct(e),n)}function ot(t){let{children:e,errorElement:n,resolve:i}=t;return r.createElement(lt,{resolve:i,errorElement:n},r.createElement(ut,null,e))}var at=function(t){return t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error",t}(at||{});const st=new Promise((()=>{}));class lt extends r.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,e){console.error("<Await> caught the following error during render",t,e)}render(){let{children:t,errorElement:e,resolve:n}=this.props,o=null,a=at.pending;if(n instanceof Promise)if(this.state.error){a=at.error;let t=this.state.error;o=Promise.reject().catch((()=>{})),Object.defineProperty(o,"_tracked",{get:()=>!0}),Object.defineProperty(o,"_error",{get:()=>t})}else n._tracked?(o=n,a=void 0!==o._error?at.error:void 0!==o._data?at.success:at.pending):(a=at.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),o=n.then((t=>Object.defineProperty(n,"_data",{get:()=>t})),(t=>Object.defineProperty(n,"_error",{get:()=>t}))));else a=at.success,o=Promise.resolve(),Object.defineProperty(o,"_tracked",{get:()=>!0}),Object.defineProperty(o,"_data",{get:()=>n});if(a===at.error&&o._error instanceof i.a)throw st;if(a===at.error&&!e)throw o._error;if(a===at.error)return r.createElement(l.Provider,{value:o,children:e});if(a===at.success)return r.createElement(l.Provider,{value:o,children:t});throw o}}function ut(t){let{children:e}=t,n=q(),i="function"===typeof e?e(n):e;return r.createElement(r.Fragment,null,i)}function ct(t,e){void 0===e&&(e=[]);let n=[];return r.Children.forEach(t,((t,o)=>{if(!r.isValidElement(t))return;let a=[...e,o];if(t.type===r.Fragment)return void n.push.apply(n,ct(t.props.children,a));t.type!==nt&&Object(i.h)(!1),t.props.index&&t.props.children&&Object(i.h)(!1);let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=ct(t.props.children,a)),n.push(s)})),n}function ht(t){return A(t)}function pt(t){let e={hasErrorBoundary:null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&Object.assign(e,{element:r.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:r.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:r.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}function ft(t,e){return Object(i.m)({basename:null==e?void 0:e.basename,future:o({},null==e?void 0:e.future,{v7_prependBasename:!0}),history:Object(i.k)({initialEntries:null==e?void 0:e.initialEntries,initialIndex:null==e?void 0:e.initialIndex}),hydrationData:null==e?void 0:e.hydrationData,routes:t,mapRouteProperties:pt}).initialize()}},function(t,e,n){var r=n(159);t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return L}));var r=n(1),i=n.n(r);function o(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=o(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}var a=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=o(t))&&(r&&(r+=" "),r+=e);return r};function s(t){return"number"==typeof t&&!isNaN(t)}function l(t){return"boolean"==typeof t}function u(t){return"string"==typeof t}function c(t){return"function"==typeof t}function h(t){return u(t)||c(t)?t:null}function p(t){return 0===t||t}function f(t){return Object(r.isValidElement)(t)||u(t)||c(t)||s(t)}const d={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},m={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function g(t){let{enter:e,exit:n,appendPosition:o=!1,collapse:a=!0,collapseDuration:s=300}=t;return function(t){let{children:l,position:u,preventExitTransition:c,done:h,nodeRef:p,isIn:f}=t;const d=o?e+"--"+u:e,m=o?n+"--"+u:n,g=Object(r.useRef)(),y=Object(r.useRef)(0);function v(t){if(t.target!==p.current)return;const e=p.current;e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",v),e.removeEventListener("animationcancel",v),0===y.current&&"animationcancel"!==t.type&&(e.className=g.current)}function _(){const t=p.current;t.removeEventListener("animationend",_),a?function(t,e,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)}))}))}(t,h,s):h()}return Object(r.useLayoutEffect)((()=>{!function(){const t=p.current;g.current=t.className,t.className+=" "+d,t.addEventListener("animationend",v),t.addEventListener("animationcancel",v)}()}),[]),Object(r.useEffect)((()=>{f||(c?_():function(){y.current=1;const t=p.current;t.className+=" "+m,t.addEventListener("animationend",_)}())}),[f]),i.a.createElement(i.a.Fragment,null,l)}}function y(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const v={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter((t=>t!==e));return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach((e=>{const n=setTimeout((()=>{e(...[].slice.call(arguments,1))}),0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)}))}},_=t=>{let{theme:e,type:n,...r}=t;return i.a.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":"var(--toastify-icon-color-"+n+")",...r})},b={info:function(t){return i.a.createElement(_,{...t},i.a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return i.a.createElement(_,{...t},i.a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return i.a.createElement(_,{...t},i.a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return i.a.createElement(_,{...t},i.a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.a.createElement("div",{className:"Toastify__spinner"})}};function x(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function w(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function S(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return i.a.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:t=>{t.stopPropagation(),e(t)},"aria-label":r},i.a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function E(t){let{delay:e,isRunning:n,closeToast:r,type:o,hide:s,className:l,style:u,controlledProgress:h,progress:p,rtl:f,isIn:d,theme:m}=t;const g={...u,animationDuration:e+"ms",animationPlayState:n?"running":"paused",opacity:s?0:1};h&&(g.transform="scaleX("+p+")");const y=a("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+m,"Toastify__progress-bar--"+o,{"Toastify__progress-bar--rtl":f}),v=c(l)?l({rtl:f,type:o,defaultClassName:y}):a(y,l);return i.a.createElement("div",{role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:v,style:g,[h&&p>=1?"onTransitionEnd":"onAnimationEnd"]:h&&p<1?null:()=>{d&&r()}})}E.defaultProps={type:m.DEFAULT,hide:!1};const O=t=>{const{isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:s}=function(t){const[e,n]=Object(r.useState)(!1),[i,o]=Object(r.useState)(!1),a=Object(r.useRef)(null),s=Object(r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=Object(r.useRef)(t),{autoClose:u,pauseOnHover:h,closeToast:p,onClick:f,closeOnClick:d}=t;function m(e){if(t.draggable){s.didMove=!1,document.addEventListener("mousemove",_),document.addEventListener("mouseup",b),document.addEventListener("touchmove",_),document.addEventListener("touchend",b);const n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=n.getBoundingClientRect(),n.style.transition="",s.x=x(e.nativeEvent),s.y=w(e.nativeEvent),"x"===t.draggableDirection?(s.start=s.x,s.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(s.start=s.y,s.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function g(){if(s.boundingRect){const{top:e,bottom:n,left:r,right:i}=s.boundingRect;t.pauseOnHover&&s.x>=r&&s.x<=i&&s.y>=e&&s.y<=n?v():y()}}function y(){n(!0)}function v(){n(!1)}function _(n){const r=a.current;s.canDrag&&r&&(s.didMove=!0,e&&v(),s.x=x(n),s.y=w(n),s.delta="x"===t.draggableDirection?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),r.style.transform="translate"+t.draggableDirection+"("+s.delta+"px)",r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function b(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",b);const e=a.current;if(s.canDrag&&s.didMove&&e){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate"+t.draggableDirection+"(0)",e.style.opacity="1"}}Object(r.useEffect)((()=>{l.current=t})),Object(r.useEffect)((()=>(a.current&&a.current.addEventListener("d",y,{once:!0}),c(t.onOpen)&&t.onOpen(Object(r.isValidElement)(t.children)&&t.children.props),()=>{const t=l.current;c(t.onClose)&&t.onClose(Object(r.isValidElement)(t.children)&&t.children.props)})),[]),Object(r.useEffect)((()=>(t.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",y),window.addEventListener("blur",v)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",v))})),[t.pauseOnFocusLoss]);const S={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return u&&h&&(S.onMouseEnter=v,S.onMouseLeave=y),d&&(S.onClick=t=>{f&&f(t),s.canCloseOnClick&&p()}),{playToast:y,pauseToast:v,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:S}}(t),{closeButton:l,children:u,autoClose:h,onClick:p,type:f,hideProgressBar:d,closeToast:m,transition:g,position:y,className:v,style:_,bodyClassName:b,bodyStyle:O,progressClassName:k,progressStyle:M,updateId:C,role:T,progress:P,rtl:A,toastId:I,deleteToast:D,isIn:j,isLoading:R,iconOut:L,theme:z}=t,N=a("Toastify__toast","Toastify__toast-theme--"+z,"Toastify__toast--"+f,{"Toastify__toast--rtl":A}),F=c(v)?v({rtl:A,position:y,type:f,defaultClassName:N}):a(N,v),B=!!P,U={closeToast:m,type:f,theme:z};let V=null;return!1===l||(V=c(l)?l(U):i.a.isValidElement(l)?i.a.cloneElement(l,U):S(U)),i.a.createElement(g,{isIn:j,done:D,position:y,preventExitTransition:n,nodeRef:o},i.a.createElement("div",{id:I,onClick:p,className:F,...s,style:_,ref:o},i.a.createElement("div",{...j&&{role:T},className:c(b)?b({type:f}):a("Toastify__toast-body",b),style:O},null!=L&&i.a.createElement("div",{className:a("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},L),i.a.createElement("div",null,u)),V,(h||B)&&i.a.createElement(E,{...C&&!B?{key:"pb-"+C}:{},rtl:A,theme:z,delay:h,isRunning:e,isIn:j,closeToast:m,hide:d,type:f,style:M,className:k,controlledProgress:B,progress:P})))},k=g({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),M=(g({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0}),g({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"}),g({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),Object(r.forwardRef)(((t,e)=>{const{getToastToRender:n,containerRef:o,isToastActive:d}=function(t){const[,e]=Object(r.useReducer)((t=>t+1),0),[n,i]=Object(r.useState)([]),o=Object(r.useRef)(null),a=Object(r.useRef)(new Map).current,d=t=>-1!==n.indexOf(t),m=Object(r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:d,getToast:t=>a.get(t)}).current;function g(t){let{containerId:e}=t;const{limit:n}=m.props;!n||e&&m.containerId!==e||(m.count-=m.queue.length,m.queue=[])}function _(t){i((e=>p(t)?e.filter((e=>e!==t)):[]))}function x(){const{toastContent:t,toastProps:e,staleId:n}=m.queue.shift();S(t,e,n)}function w(t,n){let{delay:i,staleId:d,...g}=n;if(!f(t)||function(t){return!o.current||m.props.enableMultiContainer&&t.containerId!==m.props.containerId||a.has(t.toastId)&&null==t.updateId}(g))return;const{toastId:w,updateId:E,data:O}=g,{props:k}=m,M=()=>_(w),C=null==E;C&&m.count++;const T={toastId:w,updateId:E,data:O,containerId:g.containerId,isLoading:g.isLoading,theme:g.theme||k.theme,icon:null!=g.icon?g.icon:k.icon,isIn:!1,key:g.key||m.toastKey++,type:g.type,closeToast:M,closeButton:g.closeButton,rtl:k.rtl,position:g.position||k.position,transition:g.transition||k.transition,className:h(g.className||k.toastClassName),bodyClassName:h(g.bodyClassName||k.bodyClassName),style:g.style||k.toastStyle,bodyStyle:g.bodyStyle||k.bodyStyle,onClick:g.onClick||k.onClick,pauseOnHover:l(g.pauseOnHover)?g.pauseOnHover:k.pauseOnHover,pauseOnFocusLoss:l(g.pauseOnFocusLoss)?g.pauseOnFocusLoss:k.pauseOnFocusLoss,draggable:l(g.draggable)?g.draggable:k.draggable,draggablePercent:g.draggablePercent||k.draggablePercent,draggableDirection:g.draggableDirection||k.draggableDirection,closeOnClick:l(g.closeOnClick)?g.closeOnClick:k.closeOnClick,progressClassName:h(g.progressClassName||k.progressClassName),progressStyle:g.progressStyle||k.progressStyle,autoClose:!g.isLoading&&(P=g.autoClose,A=k.autoClose,!1===P||s(P)&&P>0?P:A),hideProgressBar:l(g.hideProgressBar)?g.hideProgressBar:k.hideProgressBar,progress:g.progress,role:g.role||k.role,deleteToast(){const t=y(a.get(w),"removed");a.delete(w),v.emit(4,t);const n=m.queue.length;if(m.count=p(w)?m.count-1:m.count-m.displayedToast,m.count<0&&(m.count=0),n>0){const t=p(w)?1:m.props.limit;if(1===n||1===t)m.displayedToast++,x();else{const e=t>n?n:t;m.displayedToast=e;for(let t=0;t<e;t++)x()}}else e()}};var P,A;T.iconOut=function(t){let{theme:e,type:n,isLoading:i,icon:o}=t,a=null;const l={theme:e,type:n};return!1===o||(c(o)?a=o(l):Object(r.isValidElement)(o)?a=Object(r.cloneElement)(o,l):u(o)||s(o)?a=o:i?a=b.spinner():(t=>t in b)(n)&&(a=b[n](l))),a}(T),c(g.onOpen)&&(T.onOpen=g.onOpen),c(g.onClose)&&(T.onClose=g.onClose),T.closeButton=k.closeButton,!1===g.closeButton||f(g.closeButton)?T.closeButton=g.closeButton:!0===g.closeButton&&(T.closeButton=!f(k.closeButton)||k.closeButton);let I=t;Object(r.isValidElement)(t)&&!u(t.type)?I=Object(r.cloneElement)(t,{closeToast:M,toastProps:T,data:O}):c(t)&&(I=t({closeToast:M,toastProps:T,data:O})),k.limit&&k.limit>0&&m.count>k.limit&&C?m.queue.push({toastContent:I,toastProps:T,staleId:d}):s(i)?setTimeout((()=>{S(I,T,d)}),i):S(I,T,d)}function S(t,e,n){const{toastId:r}=e;n&&a.delete(n);const o={content:t,props:e};a.set(r,o),i((t=>[...t,r].filter((t=>t!==n)))),v.emit(4,y(o,null==o.props.updateId?"added":"updated"))}return Object(r.useEffect)((()=>(m.containerId=t.containerId,v.cancelEmit(3).on(0,w).on(1,(t=>o.current&&_(t))).on(5,g).emit(2,m),()=>v.emit(3,m))),[]),Object(r.useEffect)((()=>{m.props=t,m.isToastActive=d,m.displayedToast=n.length})),{getToastToRender:function(e){const n=new Map,r=Array.from(a.values());return t.newestOnTop&&r.reverse(),r.forEach((t=>{const{position:e}=t.props;n.has(e)||n.set(e,[]),n.get(e).push(t)})),Array.from(n,(t=>e(t[0],t[1])))},containerRef:o,isToastActive:d}}(t),{className:m,style:g,rtl:_,containerId:x}=t;function w(t){const e=a("Toastify__toast-container","Toastify__toast-container--"+t,{"Toastify__toast-container--rtl":_});return c(m)?m({position:t,rtl:_,defaultClassName:e}):a(e,h(m))}return Object(r.useEffect)((()=>{e&&(e.current=o.current)}),[]),i.a.createElement("div",{ref:o,className:"Toastify",id:x},n(((t,e)=>{const n=e.length?{...g}:{...g,pointerEvents:"none"};return i.a.createElement("div",{className:w(t),style:n,key:"container-"+t},e.map(((t,n)=>{let{content:r,props:o}=t;return i.a.createElement(O,{...o,isIn:d(o.toastId),style:{...o.style,"--nth":n+1,"--len":e.length},key:"toast-"+o.key},r)})))})))})));M.displayName="ToastContainer",M.defaultProps={position:d.TOP_RIGHT,transition:k,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:S,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let C,T=new Map,P=[];function A(){return Math.random().toString(36).substring(2,9)}function I(t){return t&&(u(t.toastId)||s(t.toastId))?t.toastId:A()}function D(t,e){return T.size>0?v.emit(0,t,e):P.push({content:t,options:e}),e.toastId}function j(t,e){return{...e,type:e&&e.type||t,toastId:I(e)}}function R(t){return(e,n)=>D(e,j(t,n))}function L(t,e){return D(t,j(m.DEFAULT,e))}L.loading=(t,e)=>D(t,j(m.DEFAULT,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),L.promise=function(t,e,n){let r,{pending:i,error:o,success:a}=e;i&&(r=u(i)?L.loading(i,n):L.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},l=(t,e,i)=>{if(null==e)return void L.dismiss(r);const o={type:t,...s,...n,data:i},a=u(e)?{render:e}:e;return r?L.update(r,{...o,...a}):L(a.render,{...o,...a}),i},h=c(t)?t():t;return h.then((t=>l("success",a,t))).catch((t=>l("error",o,t))),h},L.success=R(m.SUCCESS),L.info=R(m.INFO),L.error=R(m.ERROR),L.warning=R(m.WARNING),L.warn=L.warning,L.dark=(t,e)=>D(t,j(m.DEFAULT,{theme:"dark",...e})),L.dismiss=t=>v.emit(1,t),L.clearWaitingQueue=function(t){return void 0===t&&(t={}),v.emit(5,t)},L.isActive=t=>{let e=!1;return T.forEach((n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)})),e},L.update=function(t,e){void 0===e&&(e={}),setTimeout((()=>{const n=function(t,e){let{containerId:n}=e;const r=T.get(n||C);return r?r.getToast(t):null}(t,e);if(n){const{props:r,content:i}=n,o={...r,...e,toastId:e.toastId||t,updateId:A()};o.toastId!==t&&(o.staleId=t);const a=o.render||i;delete o.render,D(a,o)}}),0)},L.done=t=>{L.update(t,{progress:1})},L.onChange=t=>(v.on(4,t),()=>{v.off(4,t)}),L.POSITION=d,L.TYPE=m,v.on(2,(t=>{C=t.containerId||t,T.set(C,t),P.forEach((t=>{v.emit(0,t.content,t.options)})),P=[]})).on(3,(t=>{T.delete(t.containerId||t),0===T.size&&v.off(0).off(1).off(5)}))},function(t,e){function n(){return t.exports=n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(this,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a}));var r=n(21);function i(t){return t instanceof Object(r.a)(t).Element||t instanceof Element}function o(t){return t instanceof Object(r.a)(t).HTMLElement||t instanceof HTMLElement}function a(t){return"undefined"!==typeof ShadowRoot&&(t instanceof Object(r.a)(t).ShadowRoot||t instanceof ShadowRoot)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(260);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return _}));var r=n(132),i=n(161),o=n(17);let a=function(t){t()};const s=()=>a;var l=n(1);const u=Symbol.for("react-redux-context"),c="undefined"!==typeof globalThis?globalThis:{};function h(){var t;if(!l.createContext)return{};const e=null!=(t=c[u])?t:c[u]=new Map;let n=e.get(l.createContext);return n||(n=l.createContext(null),e.set(l.createContext,n)),n}const p=h();function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(){return Object(l.useContext)(t)}}const d=f(),m=()=>{throw new Error("uSES not initialized!")};let g=m;const y=(t,e)=>t===e;function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const e=t===p?d:f(t);return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=y,stabilityCheck:i,noopCheck:o}="function"===typeof n?{equalityFn:n}:n;const{store:a,subscription:s,getServerState:u,stabilityCheck:c,noopCheck:h}=e(),p=(Object(l.useRef)(!0),Object(l.useCallback)({[t.name]:e=>t(e)}[t.name],[t,c,i])),f=g(s.addNestedSub,a.getState,u||a.getState,p,r);return Object(l.useDebugValue)(f),f}}const _=v();n(30),n(41),n(134),n(162);const b={notify(){},get:()=>[]};function x(t,e){let n,r=b,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function l(){i++,n||(n=e?e.addNestedSub(a):t.subscribe(a),r=function(){const t=s();let e=null,n=null;return{clear(){e=null,n=null},notify(){t((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=b)}const c={addNestedSub:function(t){l();const e=r.subscribe(t);let n=!1;return()=>{n||(n=!0,e(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,l())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>r};return c}const w=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?l.useLayoutEffect:l.useEffect;let S=m;var E=function(t){let{store:e,context:n,children:r,serverState:i,stabilityCheck:o="once",noopCheck:a="once"}=t;const s=l.useMemo((()=>{const t=x(e);return{store:e,subscription:t,getServerState:i?()=>i:void 0,stabilityCheck:o,noopCheck:a}}),[e,i,o,a]),u=l.useMemo((()=>e.getState()),[e]);w((()=>{const{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[s,u]);const c=n||p;return l.createElement(c.Provider,{value:s},r)};function O(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const e=t===p?d:f(t);return function(){const{store:t}=e();return t}}const k=O();function M(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const e=t===p?k:O(t);return function(){return e().dispatch}}const C=M();var T,P;T=i.useSyncExternalStoreWithSelector,g=T,(t=>{S=t})(r.useSyncExternalStore),P=o.unstable_batchedUpdates,a=P},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(1),i=n(17),o=n(8),a=n(4);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const s=r.startTransition;i.flushSync,r.useId;function l(t){let{basename:e,children:n,future:i,window:l}=t,u=r.useRef();null==u.current&&(u.current=Object(a.i)({window:l,v5Compat:!0}));let c=u.current,[h,p]=r.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},d=r.useCallback((t=>{f&&s?s((()=>p(t))):p(t)}),[p,f]);return r.useLayoutEffect((()=>c.listen(d)),[c,d]),r.createElement(o.Router,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:c,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var u,c;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u||(u={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(c||(c={}))},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(174)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o}));var r=Math.max,i=Math.min,o=Math.round},function(t,e,n){t.exports=function(){"use strict";var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=i;else t=i}return r(["exports"],(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r;function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function l(t,e,r,i){var o=new n(t,e,r,i);return function(t){return o.solve(t)}}var u=l(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function h(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function p(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var f=1;function d(){return f++}function m(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function g(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function y(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function v(t,e){return-1!==t.indexOf(e,t.length-e.length)}function _(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function b(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function x(t){return Array.isArray(t)?t.map(x):"object"==typeof t&&t?_(t,x):t}var w={};function S(t){w[t]||("undefined"!=typeof console&&console.warn(t),w[t]=!0)}function E(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function O(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)e+=((a=t[i]).x-(o=t[n]).x)*(o.y+a.y);return e}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function M(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var C=null;function T(t){if(null==C){var e=t.navigator?t.navigator.userAgent:null;C=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return C}function P(t){try{var e=a[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var A,I,D,j,R=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),L=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,z=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,N={now:R,frame:function(t){var e=L(t);return{cancel:function(){return z(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return A||(A=a.document.createElement("a")),A.href=t,A.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==I&&(I=a.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},F={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(t){!U&&j&&(V?H(t):D=t)}},U=!1,V=!1;function H(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,j),t.isContextLost())return;B.supported=!0}catch(t){}t.deleteTexture(e),U=!0}a.document&&((j=a.document.createElement("img")).onload=function(){D&&H(D),D=null,V=!0},j.onerror=function(){U=!0,D=null},j.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var W="01",q=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function K(t){return 0===t.indexOf("mapbox:")}q.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},q.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},q.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},q.prototype.normalizeStyleURL=function(t,e){if(!K(t))return t;var n=X(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},q.prototype.normalizeGlyphsURL=function(t,e){if(!K(t))return t;var n=X(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},q.prototype.normalizeSourceURL=function(t,e){if(!K(t))return t;var n=X(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},q.prototype.normalizeSpriteURL=function(t,e,n,r){var i=X(t);return K(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+e+n,J(i))},q.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!K(t))return t;var n=X(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(N.devicePixelRatio>=2||512===e?"@2x":"")+(B.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||F.ACCESS_TOKEN;return F.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},q.prototype.canonicalizeTileURL=function(t,e){var n=X(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return e&&(i=i.filter((function(t){return!t.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},q.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&K(e),r=[],i=0,o=t.tiles||[];i<o.length;i+=1){var a=o[i];Z(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},q.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=X(F.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"http"===t.protocol){var i=t.params.indexOf("secure");i>=0&&t.params.splice(i,1)}if("/"!==r.path&&(t.path=""+r.path+t.path),!F.REQUIRE_ACCESS_TOKEN)return J(t);if(!(e=e||F.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),J(t)};var Y=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Z(t){return Y.test(t)}var G=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(t){var e=t.match(G);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function J(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function $(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var Q=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(t){var e,n=$(F.ACCESS_TOKEN);return e=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):F.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},Q.prototype.fetchEventData=function(){var t=P("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=a.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){S("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var t=P("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){S("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(t){},Q.prototype.postEvent=function(t,e,n,r){var i=this;if(F.EVENTS_URL){var o=X(F.EVENTS_URL);o.params.push("access_token="+(r||F.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:W,userId:this.anonId},s=e?p(a,e):a,l={url:J(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xt(l,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}},Q.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var tt,et,nt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,r){this.skuToken=n;var i=!(!r&&!F.ACCESS_TOKEN),o=Array.isArray(t)&&t.some((function(t){return K(t)||Z(t)}));F.EVENTS_URL&&i&&o&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=m()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}(Q),rt=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){F.EVENTS_URL&&F.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return K(t)||Z(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=$(F.ACCESS_TOKEN),r=n?n.u:F.ACCESS_TOKEN,i=r!==this.eventData.tokenU;g(this.anonId)||(this.anonId=m(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}},e}(Q)),it=rt.postTurnstileEvent.bind(rt),ot=new nt,at=ot.postMapLoadEvent.bind(ot),st=500,lt=50;function ut(){a.caches&&!tt&&(tt=a.caches.open("mapbox-tiles"))}function ct(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var ht,pt=1/0;function ft(){return null==ht&&(ht=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),ht}var dt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(dt);var mt,gt,yt=function(t){function e(e,n,r){401===n&&Z(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),vt=k()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},_t=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(vt())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,r=new a.AbortController,i=new a.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:vt(),signal:r.signal}),o=!1,s=!1,l=(n=i.url).indexOf("sku=")>0&&Z(n);"json"===t.type&&i.headers.set("Accept","application/json");var u=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&S(n),r&&o)return c(r);var u=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=l?n.clone():null;return c(n,r,u)}return e(new yt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(n,r,l){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){s||(r&&l&&function(t,e,n){if(ut(),tt){var r={status:e.status,statusText:e.statusText,headers:new a.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=M(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===et)try{new Response(new ReadableStream),et=!0}catch(t){et=!1}et?e(t.body):t.blob().then(e)}(e,(function(e){var n=new a.Response(e,r);ut(),tt&&tt.then((function(e){return e.put(ct(t.url),n)})).catch((function(t){return S(t.message)}))})))}}(i,r,l),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){s||e(new Error(t.message))}))};return l?function(t,e){if(ut(),!tt)return e(null);var n=ct(t.url);tt.then((function(t){t.match(n).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=M(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)})).catch(e)})).catch(e)}(i,u):u(null,null),{cancel:function(){s=!0,o||r.abort()}}}(t,e);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new a.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new yt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},bt=function(t,e){return _t(p(t,{type:"arrayBuffer"}),e)},xt=function(t,e){return _t(p(t,{method:"POST"}),e)},wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";mt=[],gt=0;var St=function(t,e){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),gt>=F.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return mt.push(n),n}gt++;var r=!1,i=function(){if(!r)for(r=!0,gt--;mt.length&&gt<F.MAX_PARALLEL_IMAGE_REQUESTS;){var t=mt.shift();t.cancelled||(t.cancel=St(t.requestParameters,t.callback).cancel)}},o=bt(t,(function(t,n,r,o){i(),t?e(t):n&&(ft()?function(t,e){var n=new a.Blob([new Uint8Array(t)],{type:"image/png"});a.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(n,e):function(t,e,n,r){var i=new a.Image,o=a.URL;i.onload=function(){e(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=wt}))},i.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(t)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=t.byteLength?o.createObjectURL(s):wt}(n,e,r,o))}));return{cancel:function(){o.cancel(),i()}}};function Et(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Ot(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var kt=function(t,e){void 0===e&&(e={}),p(this,e),this.type=t},Mt=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",p({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(kt),Ct=function(){};Ct.prototype.on=function(t,e){return this._listeners=this._listeners||{},Et(t,e,this._listeners),this},Ct.prototype.off=function(t,e){return Ot(t,e,this._listeners),Ot(t,e,this._oneTimeListeners),this},Ct.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},Et(t,e,this._oneTimeListeners),this},Ct.prototype.fire=function(t,e){"string"==typeof t&&(t=new kt(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Ot(n,s,this._oneTimeListeners),s.call(this,t)}var l=this._eventedParent;l&&(p(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof Mt&&console.error(t.error);return this},Ct.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Ct.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Tt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Pt=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function At(t){var e=t.value;return e?[new Pt(t.key,e,"constants have been deprecated as of v8")]:[]}function It(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Dt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function jt(t){if(Array.isArray(t))return t.map(jt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=jt(t[n]);return e}return Dt(t)}var Rt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Lt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Lt.prototype.concat=function(t){return new Lt(this,t)},Lt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Lt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var zt={kind:"null"},Nt={kind:"number"},Ft={kind:"string"},Bt={kind:"boolean"},Ut={kind:"color"},Vt={kind:"object"},Ht={kind:"value"},Wt={kind:"collator"},qt={kind:"formatted"},Kt={kind:"resolvedImage"};function Yt(t,e){return{kind:"array",itemType:t,N:e}}function Zt(t){if("array"===t.kind){var e=Zt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Gt=[zt,Nt,Ft,Bt,Ut,qt,Vt,Yt(Ht),Kt];function Xt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Xt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=Gt;n<r.length;n+=1)if(!Xt(r[n],e))return null}return"Expected "+Zt(t)+" but found "+Zt(e)+" instead."}function Jt(t,e){return e.some((function(e){return e.kind===t.kind}))}function $t(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t}))}var Qt=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),h=s.substr(l+1,u-(l+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=o(h.pop());case"rgb":return 3!==h.length?null:[i(h[0]),i(h[1]),i(h[2]),p];case"hsla":if(4!==h.length)return null;p=o(h.pop());case"hsl":if(3!==h.length)return null;var f=(parseFloat(h[0])%360+360)%360/360,d=o(h[1]),m=o(h[2]),g=m<=.5?m*(d+1):m+d-m*d,y=2*m-g;return[r(255*a(y,g,f+1/3)),r(255*a(y,g,f)),r(255*a(y,g,f-1/3)),p];default:return null}}return null}}catch(t){}})).parseCSSColor,te=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};te.parse=function(t){if(t){if(t instanceof te)return t;if("string"==typeof t){var e=Qt(t);if(e)return new te(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},te.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+r+")"},te.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},te.black=new te(0,0,0,1),te.white=new te(1,1,1,1),te.transparent=new te(0,0,0,0),te.red=new te(1,0,0,1);var ee=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ee.prototype.compare=function(t,e){return this.collator.compare(t,e)},ee.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ne=function(t,e,n,r,i){this.text=t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i},re=function(t){this.sections=t};re.fromString=function(t){return new re([new ne(t,null,null,null,null)])},re.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},re.factory=function(t){return t instanceof re?t:re.fromString(t)},re.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},re.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}return t};var ie=function(t){this.name=t.name,this.available=t.available};function oe(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ae(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof te)return!0;if(t instanceof ee)return!0;if(t instanceof re)return!0;if(t instanceof ie)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!ae(n[e]))return!1;return!0}if("object"==typeof t){for(var r in t)if(!ae(t[r]))return!1;return!0}return!1}function se(t){if(null===t)return zt;if("string"==typeof t)return Ft;if("boolean"==typeof t)return Bt;if("number"==typeof t)return Nt;if(t instanceof te)return Ut;if(t instanceof ee)return Wt;if(t instanceof re)return qt;if(t instanceof ie)return Kt;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=se(i[r]);if(e){if(e===o)continue;e=Ht;break}e=o}return Yt(e||Ht,n)}return Vt}function le(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof te||t instanceof re||t instanceof ie?t.toString():JSON.stringify(t)}ie.prototype.toString=function(){return this.name},ie.fromString=function(t){return t?new ie({name:t,available:!1}):null},ie.prototype.serialize=function(){return["image",this.name]};var ue=function(t,e){this.type=t,this.value=e};ue.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ae(t[1]))return e.error("invalid value");var n=t[1],r=se(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ue(r,n)},ue.prototype.evaluate=function(){return this.value},ue.prototype.eachChild=function(){},ue.prototype.outputDefined=function(){return!0},ue.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof te?["rgba"].concat(this.value.toArray()):this.value instanceof re?this.value.serialize():this.value};var ce=function(t){this.name="ExpressionEvaluationError",this.message=t};ce.prototype.toJSON=function(){return this.message};var he={string:Ft,number:Nt,boolean:Bt,object:Vt},pe=function(t,e){this.type=t,this.args=e};pe.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in he)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=he[s],r++}else o=Ht;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=Yt(o,a)}else n=he[i];for(var l=[];r<t.length;r++){var u=e.parse(t[r],r,Ht);if(!u)return null;l.push(u)}return new pe(n,l)},pe.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Xt(this.type,se(n)))return n;if(e===this.args.length-1)throw new ce("Expected value to be of type "+Zt(this.type)+", but found "+Zt(se(n))+" instead.")}return null},pe.prototype.eachChild=function(t){this.args.forEach(t)},pe.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},pe.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var fe=function(t){this.type=qt,this.sections=t};fe.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=t.length-1;++o){var a=t[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Nt)))return null;var l=null;if(a["text-font"]&&!(l=e.parse(a["text-font"],1,Yt(Ft))))return null;var u=null;if(a["text-color"]&&!(u=e.parse(a["text-color"],1,Ut)))return null;var c=r[r.length-1];c.scale=s,c.font=l,c.textColor=u}else{var h=e.parse(t[o],1,Ht);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:h,scale:null,font:null,textColor:null})}}return new fe(r)},fe.prototype.evaluate=function(t){return new re(this.sections.map((function(e){var n=e.content.evaluate(t);return se(n)===Kt?new ne("",n,null,null,null):new ne(le(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},fe.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var de=function(t){this.type=Kt,this.input=t};de.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Ft);return n?new de(n):e.error("No image name provided.")},de.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ie.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},de.prototype.eachChild=function(t){t(this.input)},de.prototype.outputDefined=function(){return!1},de.prototype.serialize=function(){return["image",this.input.serialize()]};var me={"to-boolean":Bt,"to-color":Ut,"to-number":Nt,"to-string":Ft},ge=function(t,e){this.type=t,this.args=e};ge.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=me[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Ht);if(!a)return null;i.push(a)}return new ge(r,i)},ge.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof te)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":oe(e[0],e[1],e[2],e[3])))return new te(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ce(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(t)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new ce("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?re.fromString(le(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ie.fromString(le(this.args[0].evaluate(t))):le(this.args[0].evaluate(t))},ge.prototype.eachChild=function(t){this.args.forEach(t)},ge.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ge.prototype.serialize=function(){if("formatted"===this.type.kind)return new fe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new de(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var ye=["Unknown","Point","LineString","Polygon"],ve=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ve.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ve.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ye[this.feature.type]:this.feature.type:null},ve.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ve.prototype.canonicalID=function(){return this.canonical},ve.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ve.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=te.parse(t)),e};var _e=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};_e.prototype.evaluate=function(t){return this._evaluate(t,this.args)},_e.prototype.eachChild=function(t){this.args.forEach(t)},_e.prototype.outputDefined=function(){return!1},_e.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},_e.parse=function(t,e){var n,r=t[0],i=_e.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var h=c[u],p=h[0],f=h[1];l=new Ue(e.registry,e.path,null,e.scope);for(var d=[],m=!1,g=1;g<t.length;g++){var y=t[g],v=Array.isArray(p)?p[g-1]:p.type,_=l.parse(y,1+d.length,v);if(!_){m=!0;break}d.push(_)}if(!m)if(Array.isArray(p)&&p.length!==d.length)l.error("Expected "+p.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var x=Array.isArray(p)?p[b]:p.type,w=d[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new _e(r,o,f,d)}}if(1===s.length)(n=e.errors).push.apply(n,l.errors);else{for(var S=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Zt).join(", ")+")":"("+Zt(e.type)+"...)"})).join(" | "),E=[],O=1;O<t.length;O++){var k=e.parse(t[O],1+E.length);if(!k)return null;E.push(Zt(k.type))}e.error("Expected arguments of type "+S+", but found ("+E.join(", ")+") instead.")}return null},_e.register=function(t,e){for(var n in _e.definitions=e,e)t[n]=_e};var be=function(t,e,n){this.type=Wt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function xe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function we(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Se(t,e){var n=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Ee(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Oe(t,e){for(var n,r,i,o,a,s,l,u=!1,c=0,h=e.length;c<h;c++)for(var p=e[c],f=0,d=p.length;f<d-1;f++){if((o=(n=t)[0]-(r=p[f])[0])*(l=n[1]-(i=p[f+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*l<=0)return!1;Ee(t,p[f],p[f+1])&&(u=!u)}return u}function ke(t,e){for(var n=0;n<e.length;n++)if(Oe(t,e[n]))return!0;return!1}function Me(t,e,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(t[0]-n[0])*o-i*(t[1]-n[1]),s=(e[0]-n[0])*o-i*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function Ce(t,e,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(h=[(c=o[a+1])[0]-(u=o[a])[0],c[1]-u[1]])[0]*(p=[(l=e)[0]-(s=t)[0],l[1]-s[1]])[1]-h[1]*p[0]&&Me(s,l,u,c)&&Me(u,c,s,l))return!0;var s,l,u,c,h,p;return!1}function Te(t,e){for(var n=0;n<t.length;++n)if(!Oe(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(Ce(t[r],t[r+1],e))return!1;return!0}function Pe(t,e){for(var n=0;n<e.length;n++)if(Te(t,e[n]))return!0;return!1}function Ae(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<t[i].length;a++){var s=Se(t[i][a],n);xe(e,s),o.push(s)}r.push(o)}return r}function Ie(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=Ae(t[i],e,n);r.push(o)}return r}function De(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=.5*r,o=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;0===o&&(o=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=o}xe(e,t)}function je(t,e,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,l=t;s<l.length;s+=1)for(var u=0,c=l[s];u<c.length;u+=1){var h=c[u],p=[h.x+o[0],h.y+o[1]];De(p,e,n,i),a.push(p)}return a}function Re(t,e,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],l=0,u=t;l<u.length;l+=1){for(var c=[],h=0,p=u[l];h<p.length;h+=1){var f=p[h],d=[f.x+a[0],f.y+a[1]];xe(e,d),c.push(d)}s.push(c)}if(e[2]-e[0]<=o/2){(i=e)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,g=s;m<g.length;m+=1)for(var y=0,v=g[m];y<v.length;y+=1)De(v[y],e,n,o)}return s}be.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Bt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Bt);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Ft))?null:new be(r,i,o)},be.prototype.evaluate=function(t){return new ee(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},be.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},be.prototype.outputDefined=function(){return!1},be.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Le=function(t,e){this.type=Bt,this.geojson=t,this.geometries=e};function ze(t){if(t instanceof _e){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Le)return!1;var e=!0;return t.eachChild((function(t){e&&!ze(t)&&(e=!1)})),e}function Ne(t){if(t instanceof _e&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!Ne(t)&&(e=!1)})),e}function Fe(t,e){if(t instanceof _e&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!Fe(t,e)&&(n=!1)})),n}Le.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(ae(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Le(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Le(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Le(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Le.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Ae(e.coordinates,r,i),a=je(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Oe(l[s],o))return!1}if("MultiPolygon"===e.type){var u=Ie(e.coordinates,r,i),c=je(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var h=0,p=c;h<p.length;h+=1)if(!ke(p[h],u))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Ae(e.coordinates,r,i),a=Re(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Te(l[s],o))return!1}if("MultiPolygon"===e.type){var u=Ie(e.coordinates,r,i),c=Re(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var h=0,p=c;h<p.length;h+=1)if(!Pe(p[h],u))return!1}return!0}(t,this.geometries)}return!1},Le.prototype.eachChild=function(){},Le.prototype.outputDefined=function(){return!0},Le.prototype.serialize=function(){return["within",this.geojson]};var Be=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Be.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Be(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Be.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Be.prototype.eachChild=function(){},Be.prototype.outputDefined=function(){return!1},Be.prototype.serialize=function(){return["var",this.name]};var Ue=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Lt),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Ve(t,e){for(var n,r=t.length-1,i=0,o=r,a=0;i<=o;)if((n=t[a=Math.floor((i+o)/2)])<=e){if(a===r||e<t[a+1])return a;i=a+1}else{if(!(n>e))throw new ce("Input is not a number.");o=a-1}return 0}Ue.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Ue.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new pe(e,[t]):"coerce"===n?new ge(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof ue)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof Be)return t(e.boundExpression);if(e instanceof _e&&"error"===e.name)return!1;if(e instanceof be)return!1;if(e instanceof Le)return!1;var n=e instanceof ge||e instanceof pe,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof ue})),!!r&&ze(e)&&Fe(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new ve;try{o=new ue(o.type,o.evaluate(l))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Ue.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Ue(this.registry,r,e||null,i,this.errors)},Ue.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Rt(r,t))},Ue.prototype.checkSubtype=function(t,e){var n=Xt(t,e);return n&&this.error(n),n};var He=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function We(t,e,n){return t*(1-n)+e*n}He.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Nt);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],l=o,u=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=e.parse(s,u,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new He(i,n,r)},He.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Ve(e,r)].evaluate(t)},He.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},He.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},He.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var qe=Object.freeze({__proto__:null,number:We,color:function(t,e,n){return new te(We(t.r,e.r,n),We(t.g,e.g,n),We(t.b,e.b,n),We(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return We(t,e[r],n)}))}}),Ke=6/29*3*(6/29),Ye=Math.PI/180,Ze=180/Math.PI;function Ge(t){return t>.008856451679035631?Math.pow(t,1/3):t/Ke+4/29}function Xe(t){return t>6/29?t*t*t:Ke*(t-4/29)}function Je(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function $e(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Qe(t){var e=$e(t.r),n=$e(t.g),r=$e(t.b),i=Ge((.4124564*e+.3575761*n+.1804375*r)/.95047),o=Ge((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Ge((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function tn(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*Xe(e),n=.95047*Xe(n),r=1.08883*Xe(r),new te(Je(3.2404542*n-1.5371385*e-.4985314*r),Je(-.969266*n+1.8760108*e+.041556*r),Je(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function en(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:Qe,reverse:tn,interpolate:function(t,e,n){return{l:We(t.l,e.l,n),a:We(t.a,e.a,n),b:We(t.b,e.b,n),alpha:We(t.alpha,e.alpha,n)}}},rn={forward:function(t){var e=Qe(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*Ze;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*Ye,n=t.c;return tn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:en(t.h,e.h,n),c:We(t.c,e.c,n),l:We(t.l,e.l,n),alpha:We(t.alpha,e.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function sn(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}an.interpolationFactor=function(t,e,r,i){var o=0;if("exponential"===t.name)o=sn(e,t.base,r,i);else if("linear"===t.name)o=sn(e,1,r,i);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(e,1,r,i))}return o},an.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,Nt)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=Ut:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var h=o[c],p=o[c+1],f=c+3,d=c+4;if("number"!=typeof h)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(l.length&&l[l.length-1][0]>=h)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var m=e.parse(p,d,u);if(!m)return null;u=u||m.type,l.push([h,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new an(u,n,r,i,l):e.error("Type "+Zt(u)+" is not interpolatable.")},an.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Ve(e,r),a=an.interpolationFactor(this.interpolation,r,e[o],e[o+1]),s=n[o].evaluate(t),l=n[o+1].evaluate(t);return"interpolate"===this.operator?qe[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(l),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(l),a))},an.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},an.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},an.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var ln=function(t,e){this.type=t,this.args=e};ln.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var l=r&&i.some((function(t){return Xt(r,t.type)}));return new ln(l?Ht:n,i)},ln.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(t))&&n instanceof ie&&!n.available&&(e||(e=n.name),n=null,r===this.args.length&&(n=e)),null===n);i+=1);return n},ln.prototype.eachChild=function(t){this.args.forEach(t)},ln.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ln.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var un=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};un.prototype.evaluate=function(t){return this.result.evaluate(t)},un.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},un.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new un(n,a):null},un.prototype.outputDefined=function(){return this.result.outputDefined()},un.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var cn=function(t,e,n){this.type=t,this.index=e,this.input=n};cn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Nt),r=e.parse(t[2],2,Yt(e.expectedType||Ht));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ce("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new ce("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new ce("Array index must be an integer, but found "+e+" instead.");return n[e]},cn.prototype.eachChild=function(t){t(this.index),t(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var hn=function(t,e){this.type=Bt,this.needle=t,this.haystack=e};hn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ht),r=e.parse(t[2],2,Ht);return n&&r?Jt(n.type,[Bt,Ft,Nt,zt,Ht])?new hn(n,r):e.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(n.type)+" instead"):null},hn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!$t(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+Zt(se(e))+" instead.");if(!$t(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+Zt(se(n))+" instead.");return n.indexOf(e)>=0},hn.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},hn.prototype.outputDefined=function(){return!0},hn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var pn=function(t,e,n){this.type=Nt,this.needle=t,this.haystack=e,this.fromIndex=n};pn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ht),r=e.parse(t[2],2,Ht);if(!n||!r)return null;if(!Jt(n.type,[Bt,Ft,Nt,zt,Ht]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Nt);return i?new pn(n,r,i):null}return new pn(n,r)},pn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!$t(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+Zt(se(e))+" instead.");if(!$t(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+Zt(se(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)},pn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},pn.prototype.outputDefined=function(){return!1},pn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var fn=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};fn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,h=s;c<h.length;c+=1){var p=h[c];if("number"!=typeof p&&"string"!=typeof p)return u.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,se(p)))return null}else n=se(p);if(void 0!==i[String(p)])return u.error("Branch labels must be unique.");i[String(p)]=o.length}var f=e.parse(l,a,r);if(!f)return null;r=r||f.type,o.push(f)}var d=e.parse(t[1],1,Ht);if(!d)return null;var m=e.parse(t[t.length-1],t.length-1,r);return m?"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new fn(n,r,d,i,o,m):null},fn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(se(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},fn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},fn.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()},fn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(h=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[h][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,u=n;l<u.length;l+=1){var c=u[l],h=c[0],p=c[1];e.push(1===p.length?s(p[0]):p.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var dn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};dn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,Bt);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new dn(n,r,s):null},dn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];if(r[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},dn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];t(r[0]),t(i)}t(this.otherwise)},dn.prototype.outputDefined=function(){return this.branches.every((function(t){return t[1].outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var mn=function(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r};function gn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function yn(t,e,n,r){return 0===r.compare(e,n)}function vn(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=Bt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Ht);if(!o)return null;if(!gn(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Zt(o.type)+"'.");var a=e.parse(t[2],2,Ht);if(!a)return null;if(!gn(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Zt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Zt(o.type)+"' and '"+Zt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new pe(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new pe(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,Wt)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=se(o),l=se(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new ce('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=se(o),c=se(a);if("string"!==u.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}mn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ht),r=e.parse(t[2],2,Nt);if(!n||!r)return null;if(!Jt(n.type,[Yt(Ht),Ft,Ht]))return e.error("Expected first argument to be of type array or string, but found "+Zt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Nt);return i?new mn(n.type,n,r,i):null}return new mn(n.type,n,r)},mn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!$t(e,["string","array"]))throw new ce("Expected first argument to be of type array or string, but found "+Zt(se(e))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)},mn.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var _n=vn("==",(function(t,e,n){return e===n}),yn),bn=vn("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!yn(0,e,n,r)})),xn=vn("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),wn=vn(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),Sn=vn("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),En=vn(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),On=function(t,e,n,r,i){this.type=Ft,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};On.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Nt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,Ft)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,Ft)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,Nt)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,Nt))?null:new On(n,i,o,a,s)},On.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},On.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},On.prototype.outputDefined=function(){return!1},On.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var kn=function(t){this.type=Nt,this.input=t};kn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Zt(n.type)+" instead."):new kn(n):null},kn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ce("Expected value to be of type string or array, but found "+Zt(se(e))+" instead.")},kn.prototype.eachChild=function(t){t(this.input)},kn.prototype.outputDefined=function(){return!1},kn.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Mn={"==":_n,"!=":bn,">":wn,"<":xn,">=":En,"<=":Sn,array:pe,at:cn,boolean:pe,case:dn,coalesce:ln,collator:be,format:fe,image:de,in:hn,"index-of":pn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:kn,let:un,literal:ue,match:fn,number:pe,"number-format":On,object:pe,slice:mn,step:He,string:pe,"to-boolean":ge,"to-color":ge,"to-number":ge,"to-string":ge,var:Be,within:Le};function Cn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=oe(n,r,i,a);if(s)throw new ce(s);return new te(n/255*a,r/255*a,i/255*a,a)}function Tn(t,e){return t in e}function Pn(t,e){var n=e[t];return void 0===n?null:n}function An(t){return{type:t}}function In(t){return{result:"success",value:t}}function Dn(t){return{result:"error",value:t}}function jn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Rn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Ln(t){return!!t.expression&&t.expression.interpolated}function zn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Nn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Fn(t){return t}function Bn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function Un(t,e,n,r,i){return Bn(typeof n===i?r[n]:void 0,t.default,e.default)}function Vn(t,e,n){if("number"!==zn(n))return Bn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=Ve(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function Hn(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==zn(n))return Bn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=Ve(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],l=t.stops[o+1][1],u=qe[e.type]||Fn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=on[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function Wn(t,e,n){return"color"===e.type?n=te.parse(n):"formatted"===e.type?n=re.fromString(n.toString()):"resolvedImage"===e.type?n=ie.fromString(n.toString()):zn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Bn(n,t.default,e.default)}_e.register(Mn,{error:[{kind:"error"},[Ft],function(t,e){throw new ce(e[0].evaluate(t))}],typeof:[Ft,[Ht],function(t,e){return Zt(se(e[0].evaluate(t)))}],"to-rgba":[Yt(Nt,4),[Ut],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Ut,[Nt,Nt,Nt],Cn],rgba:[Ut,[Nt,Nt,Nt,Nt],Cn],has:{type:Bt,overloads:[[[Ft],function(t,e){return Tn(e[0].evaluate(t),t.properties())}],[[Ft,Vt],function(t,e){var n=e[1];return Tn(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Ht,overloads:[[[Ft],function(t,e){return Pn(e[0].evaluate(t),t.properties())}],[[Ft,Vt],function(t,e){var n=e[1];return Pn(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Ht,[Ft],function(t,e){return Pn(e[0].evaluate(t),t.featureState||{})}],properties:[Vt,[],function(t){return t.properties()}],"geometry-type":[Ft,[],function(t){return t.geometryType()}],id:[Ht,[],function(t){return t.id()}],zoom:[Nt,[],function(t){return t.globals.zoom}],"heatmap-density":[Nt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Nt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Ht,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Nt,An(Nt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Nt,An(Nt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Nt,overloads:[[[Nt,Nt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[Nt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Nt,[Nt,Nt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[Nt,[Nt,Nt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[Nt,[],function(){return Math.LN2}],pi:[Nt,[],function(){return Math.PI}],e:[Nt,[],function(){return Math.E}],"^":[Nt,[Nt,Nt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[Nt,[Nt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Nt,[Nt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Nt,[Nt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Nt,[Nt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Nt,[Nt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Nt,[Nt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Nt,[Nt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Nt,[Nt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Nt,[Nt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Nt,[Nt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Nt,An(Nt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Nt,An(Nt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Nt,[Nt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Nt,[Nt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Nt,[Nt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Nt,[Nt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[Bt,[Ft,Ht],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[Bt,[Ht],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Bt,[Ft],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Bt,[Ft,Ht],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Bt,[Ht],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Bt,[Ft,Ht],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Bt,[Ht],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Bt,[Ft,Ht],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Bt,[Ht],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Bt,[Ft,Ht],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Bt,[Ht],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Bt,[Ht],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Bt,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[Bt,[Yt(Ft)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Bt,[Yt(Ht)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Bt,[Ft,Yt(Ht)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Bt,[Ft,Yt(Ht)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Bt,overloads:[[[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[An(Bt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:Bt,overloads:[[[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[An(Bt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[Bt,[Bt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Bt,[Ft],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Ft,An(Ht),function(t,e){return e.map((function(e){return le(e.evaluate(t))})).join("")}],"resolved-locale":[Ft,[Wt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var qn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new ve,this._defaultValue=e?function(t){return"color"===t.type&&Nn(t.default)?new te(0,0,0,0):"color"===t.type?te.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Kn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Mn}function Yn(t,e){var n=new Ue(Mn,[],e?function(t){var e={color:Ut,string:Ft,number:Nt,enum:Ft,boolean:Bt,formatted:qt,resolvedImage:Kt};return"array"===t.type?Yt(e[t.value]||Ht,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?In(new qn(r,e)):Dn(n.errors)}qn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},qn.prototype.evaluate=function(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ce("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Zn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Ne(e.expression)};Zn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Zn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)};var Gn=function(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Ne(e.expression),this.interpolationType=r};function Xn(t,e){if("error"===(t=Yn(t,e)).result)return t;var n=t.value.expression,r=ze(n);if(!r&&!jn(e))return Dn([new Rt("","data expressions not supported")]);var i=Fe(n,["zoom"]);if(!i&&!Rn(e))return Dn([new Rt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof un)n=t(e.result);else if(e instanceof ln)for(var r=0,i=e.args;r<i.length&&!(n=t(i[r]));r+=1);else(e instanceof He||e instanceof an)&&e.input instanceof _e&&"zoom"===e.input.name&&(n=e);return n instanceof Rt||e.eachChild((function(e){var r=t(e);r instanceof Rt?n=r:!n&&r?n=new Rt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Rt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Rt?Dn([o]):o instanceof an&&!Ln(e)?Dn([new Rt("",'"interpolate" expressions cannot be used with this property')]):In(o?new Gn(r?"camera":"composite",t.value,o.labels,o instanceof an?o.interpolation:void 0):new Zn(r?"constant":"source",t.value)):Dn([new Rt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Gn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Gn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)},Gn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,t,e,n):0};var Jn=function(t,e){this._parameters=t,this._specification=e,It(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],l=s||!(s||void 0!==e.property),u=e.type||(Ln(n)?"exponential":"interval");if(a&&((e=It({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],te.parse(t[1])]}))),e.default=te.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!on[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===u)r=Hn;else if("interval"===u)r=Vn;else if("categorical"===u){r=Un,i=Object.create(null);for(var c=0,h=e.stops;c<h.length;c+=1){var p=h[c];i[p[0]]=p[1]}o=typeof e.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=Wn}if(s){for(var f={},d=[],m=0;m<e.stops.length;m++){var g=e.stops[m],y=g[0].zoom;void 0===f[y]&&(f[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},d.push(y)),f[y].stops.push([g[0].value,g[1]])}for(var v=[],_=0,b=d;_<b.length;_+=1){var x=b[_];v.push([f[x].zoom,t(f[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:an.interpolationFactor.bind(void 0,w),zoomStops:v.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return Hn({stops:v,base:e.base},n,i).evaluate(i,r)}}}if(l){var S="exponential"===u?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:an.interpolationFactor.bind(void 0,S),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return r(e,n,t.zoom,i,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?Bn(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function $n(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],l=zn(n);if("object"!==l)return[new Pt(e,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],h=r[c]||r["*"],p=void 0;if(i[c])p=i[c];else if(r[c])p=Sr;else if(i["*"])p=i["*"];else{if(!r["*"]){s.push(new Pt(e,n[u],'unknown property "'+u+'"'));continue}p=Sr}s=s.concat(p({key:(e?e+".":e)+u,value:n[u],valueSpec:h,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var f in r)i[f]||r[f].required&&void 0===r[f].default&&void 0===n[f]&&s.push(new Pt(e,n,'missing required property "'+f+'"'));return s}function Qn(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Sr;if("array"!==zn(e))return[new Pt(o,e,"array expected, "+zn(e)+" found")];if(n.length&&e.length!==n.length)return[new Pt(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Pt(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===zn(n.value)&&(s=n.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function tr(t){var e=t.key,n=t.value,r=t.valueSpec,i=zn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Pt(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Pt(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Pt(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function er(t){var e,n,r,i=t.valueSpec,o=Dt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,l=!s,u="array"===zn(t.value.stops)&&"array"===zn(t.value.stops[0])&&"object"===zn(t.value.stops[0][0]),c=$n({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Pt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Qn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===zn(n)&&0===n.length&&e.push(new Pt(t.key,n,"array must have at least one stop")),e},default:function(t){return Sr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new Pt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new Pt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Ln(t.valueSpec)&&c.push(new Pt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!jn(t.valueSpec)?c.push(new Pt(t.key,t.value,"property functions not supported")):s&&!Rn(t.valueSpec)&&c.push(new Pt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==t.value.property||c.push(new Pt(t.key,t.value,'"property" property is required')),c;function h(t){var e=[],o=t.value,s=t.key;if("array"!==zn(o))return[new Pt(s,o,"array expected, "+zn(o)+" found")];if(2!==o.length)return[new Pt(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==zn(o[0]))return[new Pt(s,o,"object expected, "+zn(o[0])+" found")];if(void 0===o[0].zoom)return[new Pt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Pt(s,o,"object stop key must have value")];if(r&&r>Dt(o[0].zoom))return[new Pt(s,o[0].zoom,"stop zoom values must appear in ascending order")];Dt(o[0].zoom)!==r&&(r=Dt(o[0].zoom),n=void 0,a={}),e=e.concat($n({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:tr,value:p}}))}else e=e.concat(p({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return Kn(jt(o[1]))?e.concat([new Pt(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(Sr({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function p(t,r){var s=zn(t.value),l=Dt(t.value),u=null!==t.value?t.value:r;if(e){if(s!==e)return[new Pt(t.key,u,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Pt(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return jn(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Pt(t.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new Pt(t.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new Pt(t.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new Pt(t.key,u,"integer expected, found "+l)]}}function nr(t){var e=("property"===t.expressionContext?Xn:Yn)(jt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Pt(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new Pt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Ne(n))return[new Pt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Ne(n))return[new Pt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Fe(n,["zoom","feature-state"]))return[new Pt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!ze(n))return[new Pt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Dt(n))&&i.push(new Pt(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Dt(n))&&i.push(new Pt(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Jn.deserialize=function(t){return new Jn(t._parameters,t._specification)},Jn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};ir(t)||(t=lr(t));var e=Yn(t,or);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return{filter:function(t,n,r){return e.value.evaluate(t,n,{},r)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function sr(t,e){return t<e?-1:t>e?1:0}function lr(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?ur(t[1],t[2],"=="):"!="===n?pr(ur(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ur(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(lr))):"all"===n?["all"].concat(t.slice(1).map(lr)):"none"===n?["all"].concat(t.slice(1).map(lr).map(pr)):"in"===n?cr(t[1],t.slice(2)):"!in"===n?pr(cr(t[1],t.slice(2))):"has"===n?hr(t[1]):"!has"===n?pr(hr(t[1])):"within"!==n||t}function ur(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function cr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(sr)]]:["filter-in-small",t,["literal",e]]}}function hr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function pr(t){return["!",t]}function fr(t){return ir(jt(t.value))?nr(It({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==zn(n))return[new Pt(r,n,"array expected, "+zn(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new Pt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Dt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Dt(n[1])&&a.push(new Pt(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Pt(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=zn(n[1]))&&a.push(new Pt(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=zn(n[s]),"$type"===Dt(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Pt(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(t({key:r+"["+l+"]",value:n[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=zn(n[1]),2!==n.length?a.push(new Pt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Pt(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=zn(n[1]),2!==n.length?a.push(new Pt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Pt(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(t)}function dr(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return Sr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=t.valueSpec||s[a];if(!c)return[new Pt(n,o,'unknown property "'+a+'"')];if("string"===zn(o)&&jn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Pt(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var h=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&h.push(new Pt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Nn(jt(o))&&"identity"===Dt(o.type)&&h.push(new Pt(n,o,'"text-font" does not support identity functions'))),h.concat(Sr({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function mr(t){return dr(t,"paint")}function gr(t){return dr(t,"layout")}function yr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Pt(r,n,'either "type" or "ref" is required'));var a,s=Dt(n.type),l=Dt(n.ref);if(n.id)for(var u=Dt(n.id),c=0;c<t.arrayIndex;c++){var h=i.layers[c];Dt(h.id)===u&&e.push(new Pt(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+h.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Pt(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){Dt(t.id)===l&&(a=t)})),a?a.ref?e.push(new Pt(r,n.ref,"ref cannot reference another ref layer")):s=Dt(a.type):e.push(new Pt(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var p=i.sources&&i.sources[n.source],f=p&&Dt(p.type);p?"vector"===f&&"raster"===s?e.push(new Pt(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==s?e.push(new Pt(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?e.push(new Pt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&p.lineMetrics||e.push(new Pt(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Pt(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Pt(r,n.source,'source "'+n.source+'" not found'))}else e.push(new Pt(r,n,'missing required property "source"'));return e=e.concat($n({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Sr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:fr,layout:function(t){return $n({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return gr(It({layerType:s},t))}}})},paint:function(t){return $n({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return mr(It({layerType:s},t))}}})}}}))}function vr(t){var e=t.value,n=t.key,r=zn(e);return"string"!==r?[new Pt(n,e,"string expected, "+r+" found")]:[]}var _r={promoteId:function(t){var e=t.key,n=t.value;if("string"===zn(n))return vr({key:e,value:n});var r=[];for(var i in n)r.push.apply(r,vr({key:e+"."+i,value:n[i]}));return r}};function br(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new Pt(n,e,'"type" is required')];var o,a=Dt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return $n({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r,objectElementValidators:_r});case"geojson":if(o=$n({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:_r}),e.cluster)for(var s in e.clusterProperties){var l=e.clusterProperties[s],u=l[0],c="string"==typeof u?[u,["accumulated"],["get",s]]:u;o.push.apply(o,nr({key:n+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return $n({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return $n({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Pt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function xr(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=zn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Pt("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&r[l[1]]&&r[l[1]].transition?Sr({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Sr({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new Pt(s,e[s],'unknown property "'+s+'"')])}return o}var wr={"*":function(){return[]},array:Qn,boolean:function(t){var e=t.value,n=t.key,r=zn(e);return"boolean"!==r?[new Pt(n,e,"boolean expected, "+r+" found")]:[]},number:tr,color:function(t){var e=t.key,n=t.value,r=zn(n);return"string"!==r?[new Pt(e,n,"color expected, "+r+" found")]:null===Qt(n)?[new Pt(e,n,'color expected, "'+n+'" found')]:[]},constants:At,enum:rr,filter:fr,function:er,layer:yr,object:$n,source:br,light:xr,string:vr,formatted:function(t){return 0===vr(t).length?[]:nr(t)},resolvedImage:function(t){return 0===vr(t).length?[]:nr(t)}};function Sr(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&Nn(Dt(e))?er(t):n.expression&&Kn(jt(e))?nr(t):n.type&&wr[n.type]?wr[n.type](t):$n(It({},t,{valueSpec:n.type?r[n.type]:n}))}function Er(t){var e=t.value,n=t.key,r=vr(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new Pt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Pt(n,e,'"glyphs" url must include a "{range}" token'))),r}function Or(t,e){void 0===e&&(e=Tt);var n=[];return n=n.concat(Sr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Er,"*":function(){return[]}}})),t.constants&&(n=n.concat(At({key:"constants",value:t.constants,style:t,styleSpec:e}))),kr(n)}function kr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Mr(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return kr(t.apply(this,e))}}Or.source=Mr(br),Or.light=Mr(xr),Or.layer=Mr(yr),Or.filter=Mr(fr),Or.paintProperty=Mr(mr),Or.layoutProperty=Mr(gr);var Cr=Or,Tr=Cr.light,Pr=Cr.paintProperty,Ar=Cr.layoutProperty;function Ir(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1)t.fire(new Mt(new Error(i[r].message))),n=!0;return n}var Dr=jr;function jr(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}jr.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},jr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},jr.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},jr.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},jr.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,h=0;h<l.length;h++){var p=l[h];if(void 0===a[p]){var f=4*p;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&r>=c[f+1])?(a[p]=!0,o.push(u[p])):a[p]=!1}}},jr.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(n),h=this._convertToCellCoord(r),p=l;p<=c;p++)for(var f=u;f<=h;f++){var d=this.d*f+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(f),this._convertFromCellCoord(p+1),this._convertFromCellCoord(f+1)))&&i.call(this,t,e,n,r,d,o,a,s))return}},jr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},jr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},jr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+t.length]=o,i.set(this.keys,o),i[3+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Rr=a.ImageData,Lr=a.ImageBitmap,zr={};function Nr(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),zr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var Fr in Nr("Object",Object),Dr.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Dr.deserialize=function(t){return new Dr(t.buffer)},Nr("Grid",Dr),Nr("Color",te),Nr("Error",Error),Nr("ResolvedImage",ie),Nr("StylePropertyFunction",Jn),Nr("StyleExpression",qn,{omit:["_evaluator"]}),Nr("ZoomDependentExpression",Gn),Nr("ZoomConstantExpression",Zn),Nr("CompoundExpression",_e,{omit:["_evaluate"]}),Mn)Mn[Fr]._classRegistryKey||Nr("Expression_"+Fr,Mn[Fr]);function Br(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Ur(t){return Lr&&t instanceof Lr}function Vr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Br(t)||Ur(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Rr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1)r.push(Vr(o[i],e));return r}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var u in t)if(t.hasOwnProperty(u)&&!(zr[s].omit.indexOf(u)>=0)){var c=t[u];l[u]=zr[s].shallow.indexOf(u)>=0?c:Vr(c,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof t)}function Hr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Br(t)||Ur(t)||ArrayBuffer.isView(t)||t instanceof Rr)return t;if(Array.isArray(t))return t.map(Hr);if("object"==typeof t){var e=t.$name||"Object",n=zr[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=zr[e].shallow.indexOf(a)>=0?s:Hr(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var Wr=function(){this.first=!0};Wr.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var qr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Kr(t){for(var e=0,n=t;e<n.length;e+=1)if(Yr(n[e].charCodeAt(0)))return!0;return!1}function Yr(t){return!(746!==t&&747!==t&&(t<4352||!(qr["Bopomofo Extended"](t)||qr.Bopomofo(t)||qr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||qr["CJK Compatibility Ideographs"](t)||qr["CJK Compatibility"](t)||qr["CJK Radicals Supplement"](t)||qr["CJK Strokes"](t)||!(!qr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||qr["CJK Unified Ideographs Extension A"](t)||qr["CJK Unified Ideographs"](t)||qr["Enclosed CJK Letters and Months"](t)||qr["Hangul Compatibility Jamo"](t)||qr["Hangul Jamo Extended-A"](t)||qr["Hangul Jamo Extended-B"](t)||qr["Hangul Jamo"](t)||qr["Hangul Syllables"](t)||qr.Hiragana(t)||qr["Ideographic Description Characters"](t)||qr.Kanbun(t)||qr["Kangxi Radicals"](t)||qr["Katakana Phonetic Extensions"](t)||qr.Katakana(t)&&12540!==t||!(!qr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!qr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||qr["Unified Canadian Aboriginal Syllabics"](t)||qr["Unified Canadian Aboriginal Syllabics Extended"](t)||qr["Vertical Forms"](t)||qr["Yijing Hexagram Symbols"](t)||qr["Yi Syllables"](t)||qr["Yi Radicals"](t))))}function Zr(t){return!(Yr(t)||function(t){return!!(qr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||qr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||qr["Letterlike Symbols"](t)||qr["Number Forms"](t)||qr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||qr["Control Pictures"](t)&&9251!==t||qr["Optical Character Recognition"](t)||qr["Enclosed Alphanumerics"](t)||qr["Geometric Shapes"](t)||qr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||qr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||qr["CJK Symbols and Punctuation"](t)||qr.Katakana(t)||qr["Private Use Area"](t)||qr["CJK Compatibility Forms"](t)||qr["Small Form Variants"](t)||qr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Gr(t){return t>=1424&&t<=2303||qr["Arabic Presentation Forms-A"](t)||qr["Arabic Presentation Forms-B"](t)}function Xr(t,e){return!(!e&&Gr(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||qr.Khmer(t))}function Jr(t){for(var e=0,n=t;e<n.length;e+=1)if(Gr(n[e].charCodeAt(0)))return!0;return!1}var $r=null,Qr="unavailable",ti=null,ei=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(Qr="error"),$r&&$r(t)};function ni(){ri.fire(new kt("pluginStateChange",{pluginStatus:Qr,pluginURL:ti}))}var ri=new Ct,ii=function(){return Qr},oi=function(){if("deferred"!==Qr||!ti)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qr="loading",ni(),ti&&bt({url:ti},(function(t){t?ei(t):(Qr="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Qr||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===Qr},setState:function(t){Qr=t.pluginStatus,ti=t.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ti}},si=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wr,this.transition={})};si.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!Xr(r[n].charCodeAt(0),e))return!1;return!0}(t,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var li=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Nn(t))return new Jn(t,e);if(Kn(t)){var n=Xn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=te.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===e?t.specification.default:e,t.specification)};li.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},li.prototype.possiblyEvaluate=function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)};var ui=function(t){this.property=t,this.value=new li(t,void 0)};ui.prototype.transitioned=function(t,e){return new hi(this.property,this.value,e,p({},t.transition,this.transition),t.now)},ui.prototype.untransitioned=function(){return new hi(this.property,this.value,null,{},0)};var ci=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(t){return x(this._values[t].value.value)},ci.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ui(this._values[t].property)),this._values[t].value=new li(this._values[t].property,null===e?void 0:x(e))},ci.prototype.getTransition=function(t){return x(this._values[t].transition)},ci.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ui(this._values[t].property)),this._values[t].transition=x(e)||void 0},ci.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},ci.prototype.transitioned=function(t,e){for(var n=new pi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},ci.prototype.untransitioned=function(){for(var t=new pi(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var hi=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};hi.prototype.possiblyEvaluate=function(t,e,n){var r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}return i};var pi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r},pi.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var fi=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};fi.prototype.getValue=function(t){return x(this._values[t].value)},fi.prototype.setValue=function(t,e){this._values[t]=new li(this._values[t].property,null===e?void 0:x(e))},fi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},fi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r};var di=function(t,e,n){this.property=t,this.value=e,this.parameters=n};di.prototype.isConstant=function(){return"constant"===this.value.kind},di.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},di.prototype.evaluate=function(t,e,n,r){return this.property.evaluate(this.value,this.parameters,t,e,n,r)};var mi=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};mi.prototype.get=function(t){return this._values[t]};var gi=function(t){this.specification=t};gi.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},gi.prototype.interpolate=function(t,e,n){var r=qe[this.specification.type];return r?r(t,e,n):t};var yi=function(t,e){this.specification=t,this.overrides=e};yi.prototype.possiblyEvaluate=function(t,e,n,r){return new di(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,r)}:t.expression,e)},yi.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new di(this,{kind:"constant",value:void 0},t.parameters);var r=qe[this.specification.type];return r?new di(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},yi.prototype.evaluate=function(t,e,n,r,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i,o)};var vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0===t.value)return new di(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,e);return new di(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new di(this,{kind:"constant",value:s},e)}return new di(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r,i,o){if("source"===t.kind){var a=t.evaluate(e,n,r,i,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(yi),_i=function(t){this.specification=t};_i.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new si(Math.floor(e.zoom-1),e)),t.expression.evaluate(new si(Math.floor(e.zoom),e)),t.expression.evaluate(new si(Math.floor(e.zoom+1),e)),e)}},_i.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},_i.prototype.interpolate=function(t){return t};var bi=function(t){this.specification=t};bi.prototype.possiblyEvaluate=function(t,e,n,r){return!!t.expression.evaluate(e,null,{},n,r)},bi.prototype.interpolate=function(){return!1};var xi=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new li(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new ui(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};Nr("DataDrivenProperty",yi),Nr("DataConstantProperty",gi),Nr("CrossFadedDataDrivenProperty",vi),Nr("CrossFadedProperty",_i),Nr("ColorRampProperty",bi);var wi=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new fi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mi(n.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(Ar,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return v(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(Pr,"layers."+this.id+".paint."+t,t,e,n))return!1;if(v(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-11),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),b(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Ir(this,t.call(Cr,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:Tt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof di&&jn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Ct),Si={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ei=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Oi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ki(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i=Si[t.type].BYTES_PER_ELEMENT,o=n=Mi(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:Mi(n,Math.max(r,e)),alignment:e}}function Mi(t,e){return Math.ceil(t/e)*e}Oi.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Oi.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Oi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Oi.prototype.clear=function(){this.length=0},Oi.prototype.resize=function(t){this.reserve(t),this.length=t},Oi.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Oi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Oi);Ci.prototype.bytesPerElement=4,Nr("StructArrayLayout2i4",Ci);var Ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Oi);Ti.prototype.bytesPerElement=8,Nr("StructArrayLayout4i8",Ti);var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Oi);Pi.prototype.bytesPerElement=12,Nr("StructArrayLayout2i4i12",Pi);var Ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=4*t,l=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,t},e}(Oi);Ai.prototype.bytesPerElement=8,Nr("StructArrayLayout2i4ub8",Ai);var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Oi);Ii.prototype.bytesPerElement=8,Nr("StructArrayLayout2f8",Ii);var Di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,s,l,u)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c){var h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=n,this.uint16[h+2]=r,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,t},e}(Oi);Di.prototype.bytesPerElement=20,Nr("StructArrayLayout10ui20",Di);var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,h){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,n,r,i,o,a,s,l,u,c,h)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,h,p){var f=12*t;return this.int16[f+0]=e,this.int16[f+1]=n,this.int16[f+2]=r,this.int16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=p,t},e}(Oi);ji.prototype.bytesPerElement=24,Nr("StructArrayLayout4i4ui4i24",ji);var Ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Oi);Ri.prototype.bytesPerElement=12,Nr("StructArrayLayout3f12",Ri);var Li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Oi);Li.prototype.bytesPerElement=4,Nr("StructArrayLayout1ul4",Li);var zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,r,i,o,a,s,l)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u){var c=10*t,h=5*t;return this.int16[c+0]=e,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[h+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,t},e}(Oi);zi.prototype.bytesPerElement=20,Nr("StructArrayLayout6i1ul2ui20",zi);var Ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Oi);Ni.prototype.bytesPerElement=12,Nr("StructArrayLayout2i2i2i12",Ni);var Fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,r,i)},e.prototype.emplace=function(t,e,n,r,i,o){var a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,t},e}(Oi);Fi.prototype.bytesPerElement=16,Nr("StructArrayLayout2f1f2i16",Fi);var Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Oi);Bi.prototype.bytesPerElement=12,Nr("StructArrayLayout2ub2f12",Bi);var Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Oi);Ui.prototype.bytesPerElement=6,Nr("StructArrayLayout3ui6",Ui);var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m,g){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m,g)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m,g,y){var v=24*t,_=12*t,b=48*t;return this.int16[v+0]=e,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=u,this.uint16[v+12]=c,this.float32[_+7]=h,this.float32[_+8]=p,this.uint8[b+36]=f,this.uint8[b+37]=d,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,t},e}(Oi);Vi.prototype.bytesPerElement=48,Nr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vi);var Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m,g,y,v,_,b,x,w,S,E,O,k,M){var C=this.length;return this.resize(C+1),this.emplace(C,t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m,g,y,v,_,b,x,w,S,E,O,k,M)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m,g,y,v,_,b,x,w,S,E,O,k,M,C){var T=34*t,P=17*t;return this.int16[T+0]=e,this.int16[T+1]=n,this.int16[T+2]=r,this.int16[T+3]=i,this.int16[T+4]=o,this.int16[T+5]=a,this.int16[T+6]=s,this.int16[T+7]=l,this.uint16[T+8]=u,this.uint16[T+9]=c,this.uint16[T+10]=h,this.uint16[T+11]=p,this.uint16[T+12]=f,this.uint16[T+13]=d,this.uint16[T+14]=m,this.uint16[T+15]=g,this.uint16[T+16]=y,this.uint16[T+17]=v,this.uint16[T+18]=_,this.uint16[T+19]=b,this.uint16[T+20]=x,this.uint16[T+21]=w,this.uint16[T+22]=S,this.uint32[P+12]=E,this.float32[P+13]=O,this.float32[P+14]=k,this.float32[P+15]=M,this.float32[P+16]=C,t},e}(Oi);Hi.prototype.bytesPerElement=68,Nr("StructArrayLayout8i15ui1ul4f68",Hi);var Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Oi);Wi.prototype.bytesPerElement=4,Nr("StructArrayLayout1f4",Wi);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Oi);qi.prototype.bytesPerElement=6,Nr("StructArrayLayout3i6",qi);var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t},e}(Oi);Ki.prototype.bytesPerElement=8,Nr("StructArrayLayout1ul2ui8",Ki);var Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Oi);Yi.prototype.bytesPerElement=4,Nr("StructArrayLayout2ui4",Yi);var Zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Oi);Zi.prototype.bytesPerElement=2,Nr("StructArrayLayout1ui2",Zi);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Oi);Gi.prototype.bytesPerElement=16,Nr("StructArrayLayout4f16",Gi);var Xi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Ei);Xi.prototype.size=20;var Ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Xi(this,t)},e}(zi);Nr("CollisionBoxArray",Ji);var $i=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,n),e}(Ei);$i.prototype.size=48;var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new $i(this,t)},e}(Vi);Nr("PlacedSymbolArray",Qi);var to=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,n),e}(Ei);to.prototype.size=68;var eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new to(this,t)},e}(Hi);Nr("SymbolInstanceArray",eo);var no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(Wi);Nr("GlyphOffsetArray",no);var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(qi);Nr("SymbolLineVertexArray",ro);var io=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,n),e}(Ei);io.prototype.size=8;var oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new io(this,t)},e}(Ki);Nr("FeatureIndexArray",oo);var ao=ki([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(t){void 0===t&&(t=[]),this.segments=t};function lo(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)}so.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>so.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(t,e,n,r){return new so([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nr("SegmentVector",so);var uo=ki([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=e((function(t){t.exports=function(t,e){var n,r,i,o,a,s,l,u;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,u=0;u<r;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),ho=e((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),po=co,fo=ho;po.murmur3=co,po.murmur2=fo;var mo=function(){this.ids=[],this.positions=[],this.indexed=!1};mo.prototype.add=function(t,e,n,r){this.ids.push(yo(t)),this.positions.push(e,n,r)},mo.prototype.getPositions=function(t){for(var e=yo(t),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=e?r=i:n=i+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},mo.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){for(;r<i;){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;vo(e,a,s),vo(n,3*a,3*s),vo(n,3*a+1,3*s+1),vo(n,3*a+2,3*s+2)}s-r<i-s?(t(e,n,r,s),r=s+1):(t(e,n,s+1,i),i=s)}}(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}},mo.deserialize=function(t){var e=new mo;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var go=Math.pow(2,53)-1;function yo(t){var e=+t;return!isNaN(e)&&e<=go?e:po(String(t))}function vo(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}Nr("FeaturePositionMap",mo);var _o=function(t,e){this.gl=t.gl,this.location=e},bo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(_o),xo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(_o),wo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(_o),So=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(_o),Eo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(_o),Oo=function(t){function e(e,n){t.call(this,e,n),this.current=te.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(_o),ko=new Float32Array(16),Mo=function(t){function e(e,n){t.call(this,e,n),this.current=ko}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(_o);function Co(t){return[lo(255*t.r,255*t.g),lo(255*t.b,255*t.a)]}var To=function(t,e,n){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=n};To.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},To.prototype.getBinding=function(t,e,n){return"color"===this.type?new Oo(t,e):new xo(t,e)};var Po=function(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Po.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Po.prototype.setUniform=function(t,e,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&t.set(i)},Po.prototype.getBinding=function(t,e,n){return"u_pattern"===n.substr(0,9)?new Eo(t,e):new xo(t,e)};var Ao=function(t,e,n,r){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Ao.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),e,{},r,[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)},Ao.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(t,e,i)},Ao.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var r=Co(n),i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Ao.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ao.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Io=function(t,e,n,r,i,o){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Io.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.expression.evaluate(new si(this.zoom),e,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),e,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)},Io.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(t,e,i,o)},Io.prototype._setPaintValue=function(t,e,n,r){if("color"===this.type)for(var i=Co(n),o=Co(r),a=t;a<e;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Io.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Io.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(r)},Io.prototype.getBinding=function(t,e,n){return new xo(t,e)};var Do=function(t,e,n,r,i,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Do.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],n)},Do.prototype.updatePaintArray=function(t,e,n,r,i){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],i)},Do.prototype._setPaintValues=function(t,e,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Do.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,uo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,uo.members,this.expression.isStateDependent))},Do.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var jo=function(t,e,n){this.binders={},this._buffers=[];var r=[];for(var i in t.paint._values)if(n(i)){var o=t.paint.get(i);if(o instanceof di&&jn(o.property.specification)){var a=Lo(i,t.type),s=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=h?new Po(s.value,a):new To(s.value,a,l),r.push("/u_"+i);else if("source"===s.kind||h){var p=zo(i,l,"source");this.binders[i]=h?new Do(s,l,u,e,p,t.id):new Ao(s,a,l,p),r.push("/a_"+i)}else{var f=zo(i,l,"composite");this.binders[i]=new Io(s,a,l,u,e,f),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};jo.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Ao||e instanceof Io?e.maxValue:0},jo.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Ao||a instanceof Io||a instanceof Do)&&a.populatePaintArray(t,e,n,r,i)}},jo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var r=this.binders[n];r instanceof Po&&r.setConstantPatternPositions(t,e)}},jo.prototype.updatePaintArrays=function(t,e,n,r,i){var o=!1;for(var a in t)for(var s=0,l=e.getPositions(a);s<l.length;s+=1){var u=l[s],c=n.feature(u.index);for(var h in this.binders){var p=this.binders[h];if((p instanceof Ao||p instanceof Io||p instanceof Do)&&!0===p.expression.isStateDependent){var f=r.paint.get(h);p.expression=f.value,p.updatePaintArray(u.start,u.end,c,t[a],i),o=!0}}}return o},jo.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof To||n instanceof Po)&&t.push.apply(t,n.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},jo.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Ao||n instanceof Io)for(var r=0;r<n.paintVertexAttributes.length;r++)t.push(n.paintVertexAttributes[r].name);else if(n instanceof Do)for(var i=0;i<uo.members.length;i++)t.push(uo.members[i].name)}return t},jo.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof To||n instanceof Po||n instanceof Io)for(var r=0,i=n.uniformNames;r<i.length;r+=1)t.push(i[r])}return t},jo.prototype.getPaintVertexBuffers=function(){return this._buffers},jo.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof To||i instanceof Po||i instanceof Io)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var l=i.getBinding(t,e[s],s);n.push({name:s,property:r,binding:l})}}}return n},jo.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.name,l=a.property;this.binders[l].setUniform(a.binding,r,n.get(l),s)}},jo.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Do){var r=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Ao||n instanceof Io)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},jo.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof Ao||n instanceof Io||n instanceof Do)&&n.upload(t)}this.updatePaintBuffers()},jo.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Ao||e instanceof Io||e instanceof Do)&&e.destroy()}};var Ro=function(t,e,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new jo(o,e,n)}this.needsUpload=!1,this._featureMap=new mo,this._bufferOffset=0};function Lo(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function zo(t,e,n){var r={color:{source:Ii,composite:Gi},number:{source:Wi,composite:Ii}},i=function(t){return{"line-pattern":{source:Di,composite:Di},"fill-pattern":{source:Di,composite:Di},"fill-extrusion-pattern":{source:Di,composite:Di}}[t]}(t);return i&&i[n]||r[e][n]}Ro.prototype.populatePaintArrays=function(t,e,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,r,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Ro.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,r)||this.needsUpload}},Ro.prototype.get=function(t){return this.programConfigurations[t]},Ro.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Ro.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Nr("ConstantBinder",To),Nr("CrossFadedConstantBinder",Po),Nr("SourceExpressionBinder",Ao),Nr("CrossFadedCompositeBinder",Do),Nr("CompositeExpressionBinder",Io),Nr("ProgramConfiguration",jo,{omit:["_buffers"]}),Nr("ProgramConfigurationSet",Ro);var No=Math.pow(2,14)-1,Fo=-No-1;function Bo(t){for(var e=8192/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*e),l=Math.round(a.y*e);a.x=c(s,Fo,No),a.y=c(l,Fo,No),(s<a.x||s>a.x+1||l<a.y||l>a.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Uo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?Bo(t):[]}}function Vo(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var Ho=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ci,this.indexArray=new Ui,this.segments=new so,this.programConfigurations=new Ro(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Wo(t,e){for(var n=0;n<t.length;n++)if(Qo(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(Qo(t,e[r]))return!0;return!!Zo(t,e)}function qo(t,e,n){return!!Qo(t,e)||!!Xo(e,t,n)}function Ko(t,e){if(1===t.length)return $o(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(Qo(t,r[i]))return!0;for(var o=0;o<t.length;o++)if($o(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(Zo(t,e[a]))return!0;return!1}function Yo(t,e,n){if(t.length>1){if(Zo(t,e))return!0;for(var r=0;r<e.length;r++)if(Xo(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(Xo(t[i],e,n))return!0;return!1}function Zo(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(Go(r,i,e[o],e[o+1]))return!0;return!1}function Go(t,e,n,r){return E(t,n,r)!==E(e,n,r)&&E(t,e,n)!==E(t,e,r)}function Xo(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(Jo(t,e[i-1],e[i])<r)return!0;return!1}function Jo(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function $o(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,l=(n=t[a]).length-1;s<n.length;l=s++)(r=n[s]).y>e.y!=(i=n[l]).y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function Qo(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ta(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=E(t,e,n[0]);return o!==E(t,e,n[1])||o!==E(t,e,n[2])||o!==E(t,e,n[3])}function ea(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).getMaxValue(t)}function na(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ra(t,e,n,r,o){if(!e[0]&&!e[1])return t;var a=i.convert(e)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],l=0;l<t.length;l++)s.push(t[l].sub(a));return s}Ho.prototype.populate=function(t,e,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.feature,c=l.id,h=l.index,p=l.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,d=Uo(u,f);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var m=o?o.evaluate(d,{},n):void 0,g={id:c,properties:u.properties,type:u.type,sourceLayerIndex:p,index:h,geometry:f?d.geometry:Bo(u),patterns:{},sortKey:m};i.push(g)}}o&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var y=0,v=i;y<v.length;y+=1){var _=v[y],b=_.geometry,x=_.index,w=_.sourceLayerIndex,S=t[x].feature;this.addFeature(_,b,x,n),e.featureIndex.insert(S,b,x,w,this.index)}},Ho.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ho.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ho.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ho.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ho.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ho.prototype.addFeature=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var l=s[a],u=l.x,c=l.y;if(!(u<0||u>=8192||c<0||c>=8192)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),p=h.vertexLength;Vo(this.layoutVertexArray,u,c,-1,-1),Vo(this.layoutVertexArray,u,c,1,-1),Vo(this.layoutVertexArray,u,c,1,1),Vo(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),h.vertexLength+=4,h.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},r)},Nr("CircleBucket",Ho,{omit:["layers"]});var ia=new xi({"circle-sort-key":new yi(Tt.layout_circle["circle-sort-key"])}),oa={paint:new xi({"circle-radius":new yi(Tt.paint_circle["circle-radius"]),"circle-color":new yi(Tt.paint_circle["circle-color"]),"circle-blur":new yi(Tt.paint_circle["circle-blur"]),"circle-opacity":new yi(Tt.paint_circle["circle-opacity"]),"circle-translate":new gi(Tt.paint_circle["circle-translate"]),"circle-translate-anchor":new gi(Tt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gi(Tt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gi(Tt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Tt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Tt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Tt.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function la(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*h+w*m,t[1]=_*i+b*l+x*p+w*g,t[2]=_*o+b*u+x*f+w*y,t[3]=_*a+b*c+x*d+w*v,t[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*h+(w=n[7])*m,t[5]=_*i+b*l+x*p+w*g,t[6]=_*o+b*u+x*f+w*y,t[7]=_*a+b*c+x*d+w*v,t[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*h+(w=n[11])*m,t[9]=_*i+b*l+x*p+w*g,t[10]=_*o+b*u+x*f+w*y,t[11]=_*a+b*c+x*d+w*v,t[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*h+(w=n[15])*m,t[13]=_*i+b*l+x*p+w*g,t[14]=_*o+b*u+x*f+w*y,t[15]=_*a+b*c+x*d+w*v,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)});var ua,ca=la;function ha(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}ua=new aa(3),aa!=Float32Array&&(ua[0]=0,ua[1]=0,ua[2]=0),function(){var t=new aa(4);aa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var pa=(function(){var t=new aa(2);aa!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,oa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Ho(t)},e.prototype.queryRadius=function(t){var e=t;return ea("circle-radius",this,e)+ea("circle-stroke-width",this,e)+na(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var l=ra(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),h=c?l:function(t,e){return t.map((function(t){return fa(t,e)}))}(l,s),p=c?u*a:u,f=0,d=r;f<d.length;f+=1)for(var m=0,g=d[f];m<g.length;m+=1){var y=g[m],v=c?y:fa(y,s),_=p,b=ha([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),qo(h,v,_))return!0}return!1},e}(wi));function fa(t,e){var n=ha([],[t.x,t.y,0,1],e);return new i(n[0]/n[3],n[1]/n[3])}var da=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ho);function ma(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function ga(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=ma({},{width:r,height:i},n);ya(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function ya(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<i.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((r.y+l)*e.width+r.x)*o,h=0;h<i.width*o;h++)s[c+h]=a[u+h];return e}Nr("HeatmapBucket",da,{omit:["layers"]});var va=function(t,e){ma(this,t,1,e)};va.prototype.resize=function(t){ga(this,t,1)},va.prototype.clone=function(){return new va({width:this.width,height:this.height},new Uint8Array(this.data))},va.copy=function(t,e,n,r,i){ya(t,e,n,r,i,1)};var _a=function(t,e){ma(this,t,4,e)};_a.prototype.resize=function(t){ga(this,t,4)},_a.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(t,e,n,r,i){ya(t,e,n,r,i,4)},Nr("AlphaImage",va),Nr("RGBAImage",_a);var ba={paint:new xi({"heatmap-radius":new yi(Tt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Tt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gi(Tt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bi(Tt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gi(Tt.paint_heatmap["heatmap-opacity"])})};function xa(t){var e={},n=t.resolution||256,r=t.clips?t.clips.length:1,i=t.image||new _a({width:n,height:r}),o=function(n,r,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var l=0,u=0;l<n;l++,u+=4){var c=l/(n-1),h=t.clips[a];o(s,u,h.start*(1-c)+h.end*c)}else for(var p=0,f=0;p<n;p++,f+=4)o(0,f,p/(n-1));return i}var wa=function(t){function e(e){t.call(this,e,ba),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new da(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=xa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(wi),Sa={paint:new xi({"hillshade-illumination-direction":new gi(Tt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new gi(Tt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gi(Tt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gi(Tt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gi(Tt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gi(Tt.paint_hillshade["hillshade-accent-color"])})},Ea=function(t){function e(e){t.call(this,e,Sa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(wi),Oa=ki([{name:"a_pos",components:2,type:"Int16"}],4).members,ka=Ca,Ma=Ca;function Ca(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,h=c?e[0]*n:t.length,p=Ta(t,0,h,n,!0),f=[];if(!p||p.next===p.prev)return f;if(c&&(p=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Ta(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ba(a));for(s.sort(La),i=0;i<s.length;i++)za(s[i],n),n=Pa(n,n.next);return n}(t,e,p,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<h;d+=n)(s=t[d])<r&&(r=s),(l=t[d+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Aa(p,f,n,r,i,u),f}function Ta(t,e,n,r,i){var o,a;if(i===Qa(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Xa(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Xa(o,t[o],t[o+1],a);return a&&Wa(a,a.next)&&(Ja(a),a=a.next),a}function Pa(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Wa(r,r.next)&&0!==Ha(r.prev,r,r.next))r=r.next;else{if(Ja(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Aa(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Fa(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Da(t,r,i,o):Ia(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),Ja(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Aa(t=ja(Pa(t),e,n),e,n,r,i,o,2):2===a&&Ra(t,e,n,r,i,o):Aa(Pa(t),e,n,r,i,o,1);break}}}function Ia(t){var e=t.prev,n=t,r=t.next;if(Ha(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ua(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ha(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Da(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Ha(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Fa(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),c=Fa(s,l,e,n,r),h=t.prevZ,p=t.nextZ;h&&h.z>=u&&p&&p.z<=c;){if(h!==t.prev&&h!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ha(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==t.prev&&p!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ha(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=u;){if(h!==t.prev&&h!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ha(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=c;){if(p!==t.prev&&p!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ha(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function ja(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Wa(i,o)&&qa(i,r,r.next,o)&&Za(i,o)&&Za(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ja(r),Ja(r.next),r=t=o),r=r.next}while(r!==t);return Pa(r)}function Ra(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var l=Ga(a,s);return a=Pa(a,a.next),l=Pa(l,l.next),Aa(a,e,n,r,i,o),void Aa(l,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function La(t,e){return t.x-e.x}function za(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,h=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Ua(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Za(r,t)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&Na(n,r)))&&(n=r,p=l)),r=r.next}while(r!==u);return n}(t,e)){var n=Ga(e,t);Pa(e,e.next),Pa(n,n.next)}}function Na(t,e){return Ha(t.prev,t,e.prev)<0&&Ha(e.next,t,t.next)<0}function Fa(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ba(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Ua(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Va(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&qa(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Za(t,e)&&Za(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Ha(t.prev,t,e.prev)||Ha(t,e.prev,e))||Wa(t,e)&&Ha(t.prev,t,t.next)>0&&Ha(e.prev,e,e.next)>0)}function Ha(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Wa(t,e){return t.x===e.x&&t.y===e.y}function qa(t,e,n,r){var i=Ya(Ha(t,e,n)),o=Ya(Ha(t,e,r)),a=Ya(Ha(n,r,t)),s=Ya(Ha(n,r,e));return i!==o&&a!==s||!(0!==i||!Ka(t,n,e))||!(0!==o||!Ka(t,r,e))||!(0!==a||!Ka(n,t,r))||!(0!==s||!Ka(n,e,r))}function Ka(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ya(t){return t>0?1:t<0?-1:0}function Za(t,e){return Ha(t.prev,t,t.next)<0?Ha(t,e,t.next)>=0&&Ha(t,t.prev,e)>=0:Ha(t,e,t.prev)<0||Ha(t,t.next,e)<0}function Ga(t,e){var n=new $a(t.i,t.x,t.y),r=new $a(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Xa(t,e,n,r){var i=new $a(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ja(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $a(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qa(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function ts(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var h=e[n],p=r,f=i;for(es(e,r,n),o(e[i],h)>0&&es(e,r,i);p<f;){for(es(e,p,f),p++,f--;o(e[p],h)<0;)p++;for(;o(e[f],h)>0;)f--}0===o(e[r],h)?es(e,r,f):es(e,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(t,e,n||0,r||t.length-1,i||ns)}function es(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ns(t,e){return t<e?-1:t>e?1:0}function rs(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=O(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var l=0;l<o.length;l++)o[l].length<=e||(ts(o[l],e,1,o[l].length-1,is),o[l]=o[l].slice(0,e));return o}function is(t,e){return e.area-t.area}function os(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function as(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.paint.get(t+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),h=u.evaluate({zoom:r},n,{},i.availableImages),p=u.evaluate({zoom:r+1},n,{},i.availableImages);h=h&&h.name?h.name:h,p=p&&p.name?p.name:p,o[c=c&&c.name?c.name:c]=!0,o[h]=!0,o[p]=!0,n.patterns[l.id]={min:c,mid:h,max:p}}}return n}Ca.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(Qa(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Qa(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,h=r[a+2]*n;l+=Math.abs((t[u]-t[h])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[h+1]-t[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Ca.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},ka.default=Ma;var ss=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ci,this.indexArray=new Ui,this.indexArray2=new Yi,this.programConfigurations=new Ro(t.layers,t.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};ss.prototype.populate=function(t,e,n){this.hasPattern=os("fill",this.layers,e);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,f=Uo(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var d=r?r.evaluate(f,{},n,e.availableImages):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:h,index:c,geometry:p?f.geometry:Bo(l),patterns:{},sortKey:d};i.push(m)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,y=i;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=as("fill",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},ss.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Oa),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=rs(e,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var h=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),p=h.vertexLength,f=[],d=[],m=0,g=s;m<g.length;m+=1){var y=g[m];if(0!==y.length){y!==s[0]&&d.push(f.length/2);var v=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),_=v.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(_+y.length-1,_),f.push(y[0].x),f.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),f.push(y[b].x),f.push(y[b].y);v.vertexLength+=y.length,v.primitiveLength+=y.length}}for(var x=ka(f,d),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(p+x[w],p+x[w+1],p+x[w+2]);h.vertexLength+=l,h.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Nr("FillBucket",ss,{omit:["layers","patternFeatures"]});var ls=new xi({"fill-sort-key":new yi(Tt.layout_fill["fill-sort-key"])}),us={paint:new xi({"fill-antialias":new gi(Tt.paint_fill["fill-antialias"]),"fill-opacity":new yi(Tt.paint_fill["fill-opacity"]),"fill-color":new yi(Tt.paint_fill["fill-color"]),"fill-outline-color":new yi(Tt.paint_fill["fill-outline-color"]),"fill-translate":new gi(Tt.paint_fill["fill-translate"]),"fill-translate-anchor":new gi(Tt.paint_fill["fill-translate-anchor"]),"fill-pattern":new vi(Tt.paint_fill["fill-pattern"])}),layout:ls},cs=function(t){function e(e){t.call(this,e,us)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new ss(t)},e.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Ko(ra(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}(wi),hs=ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=fs;function fs(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(ds,this,e)}function ds(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function ms(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}fs.types=["Unknown","Point","LineString","Polygon"],fs.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,a=0,s=0,l=[];t.pos<n;){if(o<=0){var u=t.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)a+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&l.push(e),e=[]),e.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&l.push(e),l},fs.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},fs.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,l=this.loadGeometry(),u=fs.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(r=0;r<l.length;r++)h[r]=l[r][0];c(l=h);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=ms(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var p={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(p.id=this.id),p};var gs=ys;function ys(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(vs,this,e),this.length=this._features.length}function vs(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function _s(t,e,n){if(3===t){var r=new gs(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}ys.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ps(this._pbf,e,this.extent,this._keys,this._values)};var bs={VectorTile:function(t,e){this.layers=t.readFields(_s,{},e)},VectorTileFeature:ps,VectorTileLayer:gs},xs=bs.VectorTileFeature.types,ws=Math.pow(2,13);function Ss(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*ws)+a,i*ws*2,o*ws*2,Math.round(s))}var Es=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Pi,this.indexArray=new Ui,this.programConfigurations=new Ro(t.layers,t.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Os(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}Es.prototype.populate=function(t,e,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,e);for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,l=o.index,u=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,h=Uo(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var p={id:s,sourceLayerIndex:u,index:l,geometry:c?h.geometry:Bo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,p,this.zoom,e)):this.addFeature(p,p.geometry,l,n,{}),e.featureIndex.insert(a,p.geometry,l,u,this.index,!0)}}},Es.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Es.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,hs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=rs(e,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,f=s;p<f.length;p+=1){var d=f[p];if(0!==d.length&&!((I=d).every((function(t){return t.x<0}))||I.every((function(t){return t.x>8192}))||I.every((function(t){return t.y<0}))||I.every((function(t){return t.y>8192}))))for(var m=0,g=0;g<d.length;g++){var y=d[g];if(g>=1){var v=d[g-1];if(!Os(y,v)){h.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=y.sub(v)._perp()._unit(),b=v.dist(y);m+b>32768&&(m=0),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,m),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,m),Ss(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,0,m+=b),Ss(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,1,m);var x=h.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),h.vertexLength+=4,h.primitiveLength+=2}}}}if(h.vertexLength+l>so.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===xs[t.type]){for(var w=[],S=[],E=h.vertexLength,O=0,k=s;O<k.length;O+=1){var M=k[O];if(0!==M.length){M!==s[0]&&S.push(w.length/2);for(var C=0;C<M.length;C++){var T=M[C];Ss(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),w.push(T.x),w.push(T.y)}}}for(var P=ka(w,S),A=0;A<P.length;A+=3)this.indexArray.emplaceBack(E+P[A],E+P[A+2],E+P[A+1]);h.primitiveLength+=P.length/3,h.vertexLength+=l}}var I;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Nr("FillExtrusionBucket",Es,{omit:["layers","features"]});var ks={paint:new xi({"fill-extrusion-opacity":new gi(Tt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Tt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gi(Tt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gi(Tt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new vi(Tt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Tt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Tt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gi(Tt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ms=function(t){function e(e){t.call(this,e,ks)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Es(t)},e.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s,l){var u=ra(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(e,n),h=this.paint.get("fill-extrusion-base").evaluate(e,n),p=function(t,e,n,r){for(var o=[],a=0,s=t;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,0,1];ha(u,u,e),o.push(new i(u[0]/u[3],u[1]/u[3]))}return o}(u,l),f=function(t,e,n,r){for(var o=[],a=[],s=r[8]*e,l=r[9]*e,u=r[10]*e,c=r[11]*e,h=r[8]*n,p=r[9]*n,f=r[10]*n,d=r[11]*n,m=0,g=t;m<g.length;m+=1){for(var y=[],v=[],_=0,b=g[m];_<b.length;_+=1){var x=b[_],w=x.x,S=x.y,E=r[0]*w+r[4]*S+r[12],O=r[1]*w+r[5]*S+r[13],k=r[2]*w+r[6]*S+r[14],M=r[3]*w+r[7]*S+r[15],C=k+u,T=M+c,P=E+h,A=O+p,I=k+f,D=M+d,j=new i((E+s)/T,(O+l)/T);j.z=C/T,y.push(j);var R=new i(P/D,A/D);R.z=I/D,v.push(R)}o.push(y),a.push(v)}return[o,a]}(r,h,c,l);return function(t,e,n){var r=1/0;Ko(n,e)&&(r=Ts(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var l=o[s],u=[l,o[s+1],a[s+1],a[s],l];Wo(n,u)&&(r=Math.min(r,Ts(n,u)))}return r!==1/0&&r}(f[0],f[1],p)},e}(wi);function Cs(t,e){return t.x*e.x+t.y*e.y}function Ts(t,e){if(1===t.length){for(var n,r=0,i=e[r++];!n||i.equals(n);)if(!(n=e[r++]))return 1/0;for(;r<e.length;r++){var o=e[r],a=t[0],s=n.sub(i),l=o.sub(i),u=a.sub(i),c=Cs(s,s),h=Cs(s,l),p=Cs(l,l),f=Cs(u,s),d=Cs(u,l),m=c*p-h*h,g=(p*f-h*d)/m,y=(c*d-h*f)/m,v=i.z*(1-g-y)+n.z*g+o.z*y;if(isFinite(v))return v}return 1/0}for(var _=1/0,b=0,x=e;b<x.length;b+=1)_=Math.min(_,x[b].z);return _}var Ps=ki([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,As=ki([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Is=bs.VectorTileFeature.types,Ds=Math.cos(Math.PI/180*37.5),js=Math.pow(2,14)/.5,Rs=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(t){e.gradients[t.id]={}})),this.layoutVertexArray=new Ai,this.layoutVertexArray2=new Ii,this.indexArray=new Ui,this.programConfigurations=new Ro(t.layers,t.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Rs.prototype.populate=function(t,e,n){this.hasPattern=os("line",this.layers,e);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,f=Uo(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var d=r?r.evaluate(f,{},n):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:h,index:c,geometry:p?f.geometry:Bo(l),patterns:{},sortKey:d};i.push(m)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,y=i;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=as("line",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},Rs.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Rs.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Rs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Rs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Rs.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,As)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ps),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Rs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Rs.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Rs.prototype.addFeature=function(t,e,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var c=0,h=e;c<h.length;c+=1)this.addLine(h[c],t,a,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Rs.prototype.addLine=function(t,e,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Is[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var u=0;u<l-1&&t[u].equals(t[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c,h=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),f=void 0,d=void 0,m=void 0,g=void 0;this.e1=this.e2=-1,s&&(g=t[u].sub(c=t[l-2])._unit()._perp());for(var y=u;y<l;y++)if(!(d=y===l-1?s?t[u+1]:void 0:t[y+1])||!t[y].equals(d)){g&&(m=g),c&&(f=c),c=t[y],g=d?d.sub(c)._unit()._perp():m;var v=(m=m||g).add(g);0===v.x&&0===v.y||v._unit();var _=m.x*g.x+m.y*g.y,b=v.x*g.x+v.y*g.y,x=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),S=b<Ds&&f&&d,E=m.x*g.y-m.y*g.x>0;if(S&&y>u){var O=c.dist(f);if(O>2*h){var k=c.sub(c.sub(f)._mult(h/O)._round());this.updateDistance(f,k),this.addCurrentVertex(k,m,0,0,p),f=k}}var M=f&&d,C=M?n:s?"butt":r;if(M&&"round"===C&&(x<o?C="miter":x<=2&&(C="fakeround")),"miter"===C&&x>i&&(C="bevel"),"bevel"===C&&(x>2&&(C="flipbevel"),x<i&&(C="miter")),f&&this.updateDistance(f,c),"miter"===C)v._mult(x),this.addCurrentVertex(c,v,0,0,p);else if("flipbevel"===C){if(x>100)v=g.mult(-1);else{var T=x*m.add(g).mag()/m.sub(g).mag();v._perp()._mult(T*(E?-1:1))}this.addCurrentVertex(c,v,0,0,p),this.addCurrentVertex(c,v.mult(-1),0,0,p)}else if("bevel"===C||"fakeround"===C){var P=-Math.sqrt(x*x-1),A=E?P:0,I=E?0:P;if(f&&this.addCurrentVertex(c,m,A,I,p),"fakeround"===C)for(var D=Math.round(180*w/Math.PI/20),j=1;j<D;j++){var R=j/D;if(.5!==R){var L=R-.5;R+=R*L*(R-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*L*L+(.848013+_*(.215638*_-1.06021)))}var z=g.sub(m)._mult(R)._add(m)._unit()._mult(E?-1:1);this.addHalfVertex(c,z.x,z.y,!1,E,0,p)}d&&this.addCurrentVertex(c,g,-A,-I,p)}else if("butt"===C)this.addCurrentVertex(c,v,0,0,p);else if("square"===C){var N=f?1:-1;this.addCurrentVertex(c,v,N,N,p)}else"round"===C&&(f&&(this.addCurrentVertex(c,m,0,0,p),this.addCurrentVertex(c,m,1,1,p,!0)),d&&(this.addCurrentVertex(c,g,-1,-1,p,!0),this.addCurrentVertex(c,g,0,0,p)));if(S&&y<l-1){var F=c.dist(d);if(F>2*h){var B=c.add(d.sub(c)._mult(h/F)._round());this.updateDistance(c,B),this.addCurrentVertex(B,g,0,0,p),c=B}}}}},Rs.prototype.addCurrentVertex=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,s,o,!0,-r,i),this.distance>js/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,r,i,o))},Rs.prototype.addHalfVertex=function(t,e,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(js-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(r?1:0),(t.y<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),i?this.e2=l:this.e1=l},Rs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Rs.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},Nr("LineBucket",Rs,{omit:["layers","patternFeatures"]});var Ls=new xi({"line-cap":new gi(Tt.layout_line["line-cap"]),"line-join":new yi(Tt.layout_line["line-join"]),"line-miter-limit":new gi(Tt.layout_line["line-miter-limit"]),"line-round-limit":new gi(Tt.layout_line["line-round-limit"]),"line-sort-key":new yi(Tt.layout_line["line-sort-key"])}),zs={paint:new xi({"line-opacity":new yi(Tt.paint_line["line-opacity"]),"line-color":new yi(Tt.paint_line["line-color"]),"line-translate":new gi(Tt.paint_line["line-translate"]),"line-translate-anchor":new gi(Tt.paint_line["line-translate-anchor"]),"line-width":new yi(Tt.paint_line["line-width"]),"line-gap-width":new yi(Tt.paint_line["line-gap-width"]),"line-offset":new yi(Tt.paint_line["line-offset"]),"line-blur":new yi(Tt.paint_line["line-blur"]),"line-dasharray":new _i(Tt.paint_line["line-dasharray"]),"line-pattern":new vi(Tt.paint_line["line-pattern"]),"line-gradient":new bi(Tt.paint_line["line-gradient"])}),layout:Ls},Ns=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(yi))(zs.paint.properties["line-width"].specification);Ns.useIntegerZoom=!0;var Fs=function(t){function e(e){t.call(this,e,zs),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof He,this.gradientVersion=(this.gradientVersion+1)%s)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=Ns.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Rs(t)},e.prototype.queryRadius=function(t){var e=t,n=Bs(ea("line-width",this,e),ea("line-gap-width",this,e)),r=ea("line-offset",this,e);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s){var l=ra(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*Bs(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(r=function(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],l=0;l<a.length;l++){var u=a[l],c=a[l+1],h=0===l?r:u.sub(a[l-1])._unit()._perp(),p=l===a.length-1?r:c.sub(u)._unit()._perp(),f=h._add(p)._unit();f._mult(1/(f.x*p.x+f.y*p.y)),s.push(f._mult(e)._add(u))}n.push(s)}return n}(r,c*s)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if(Qo(t,i[o]))return!0;if(Yo(t,i,n))return!0}return!1}(l,r,u)},e.prototype.isTileClipped=function(){return!0},e}(wi);function Bs(t,e){return e>0?e+2*t:t}var Us=ki([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=ki([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hs=(ki([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ki([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ws=(ki([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ki([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),qs=ki([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ks(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),ai.applyArabicShaping&&(t=ai.applyArabicShaping(t)),t}(t.text,e,n)})),t}ki([{name:"triangle",components:3,type:"Uint16"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ki([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ki([{type:"Float32",name:"offsetX"}]),ki([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ys={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Zs=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},Gs=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+f]=255&a,f+=d,a/=256,u-=8);t[n+f-d]|=128*m},Xs=Js;function Js(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Js.Varint=0,Js.Fixed64=1,Js.Bytes=2,Js.Fixed32=5;var $s="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Qs(t){return t.type===Js.Bytes?t.readVarint()+t.pos:t.pos+1}function tl(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function el(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function nl(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function rl(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function il(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function ol(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function al(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function sl(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function ll(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function ul(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function cl(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function hl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function pl(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function fl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function dl(t,e,n){1===t&&n.readMessage(ml,e)}function ml(t,e,n){if(3===t){var r=n.readMessage(gl,{}),i=r.width,o=r.height,a=r.left,s=r.top,l=r.advance;e.push({id:r.id,bitmap:new va({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function gl(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function yl(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,l=0,u=0,c=t;u<c.length;u+=1)for(var h=c[u],p=a.length-1;p>=0;p--){var f=a[p];if(!(h.w>f.w||h.h>f.h)){if(h.x=f.x,h.y=f.y,l=Math.max(l,h.y+h.h),s=Math.max(s,h.x+h.w),h.w===f.w&&h.h===f.h){var d=a.pop();p<a.length&&(a[p]=d)}else h.h===f.h?(f.x+=h.w,f.w-=h.w):h.w===f.w?(f.y+=h.h,f.h-=h.h):(a.push({x:f.x+h.w,y:f.y,w:f.w-h.w,h:h.h}),f.y+=h.h,f.h-=h.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}Js.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=hl(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=fl(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=hl(this.buf,this.pos)+4294967296*hl(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=hl(this.buf,this.pos)+4294967296*fl(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Zs(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Zs(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return tl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return tl(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return tl(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&$s?function(t,e,n){return $s.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Js.Bytes)return t.push(this.readVarint(e));var n=Qs(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Js.Bytes)return t.push(this.readSVarint());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Js.Bytes)return t.push(this.readBoolean());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Js.Bytes)return t.push(this.readFloat());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Js.Bytes)return t.push(this.readDouble());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Js.Bytes)return t.push(this.readFixed32());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Js.Bytes)return t.push(this.readSFixed32());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Js.Bytes)return t.push(this.readFixed64());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Js.Bytes)return t.push(this.readSFixed64());var e=Qs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Js.Varint)for(;this.buf[this.pos++]>127;);else if(e===Js.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Js.Fixed32)this.pos+=4;else{if(e!==Js.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),pl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),pl(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),pl(this.buf,-1&t,this.pos),pl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),pl(this.buf,-1&t,this.pos),pl(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&el(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Gs(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Gs(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&el(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,Js.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,nl,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,rl,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,al,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,il,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,ol,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,sl,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,ll,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,ul,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,cl,e)},writeBytesField:function(t,e){this.writeTag(t,Js.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Js.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Js.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Js.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Js.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Js.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Js.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Js.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Js.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Js.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var vl=function(t,e){var n=e.pixelRatio,r=e.version,i=e.stretchX,o=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},_l={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};_l.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},_l.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},_l.tlbr.get=function(){return this.tl.concat(this.br)},_l.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(vl.prototype,_l);var bl=function(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=yl(i),a=new _a({width:o.w||1,height:o.h||1});for(var s in t){var l=t[s],u=n[s].paddedRect;_a.copy(l.data,a,{x:0,y:0},{x:u.x+1,y:u.y+1},l.data)}for(var c in e){var h=e[c],p=r[c].paddedRect,f=p.x+1,d=p.y+1,m=h.data.width,g=h.data.height;_a.copy(h.data,a,{x:0,y:0},{x:f,y:d},h.data),_a.copy(h.data,a,{x:0,y:g-1},{x:f,y:d-1},{width:m,height:1}),_a.copy(h.data,a,{x:0,y:0},{x:f,y:d+g},{width:m,height:1}),_a.copy(h.data,a,{x:m-1,y:0},{x:f-1,y:d},{width:1,height:g}),_a.copy(h.data,a,{x:0,y:0},{x:f+m,y:d},{width:1,height:g})}this.image=a,this.iconPositions=n,this.patternPositions=r};bl.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new vl(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},bl.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},bl.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl;n.update(e.data,void 0,{x:r[0],y:r[1]})}},Nr("ImagePosition",vl),Nr("ImageAtlas",bl);var xl={horizontal:1,vertical:2,horizontalOnly:3},wl=function(){this.scale=1,this.fontStack="",this.imageName=null};wl.forText=function(t,e){var n=new wl;return n.scale=t||1,n.fontStack=e,n},wl.forImage=function(t){var e=new wl;return e.imageName=t,e};var Sl=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function El(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m){var g,y=Sl.fromFeature(t,i);h===xl.vertical&&y.verticalizePunctuation();var v=ai.processBidirectionalText,_=ai.processStyledBidirectionalText;if(v&&1===y.sections.length){g=[];for(var b=0,x=v(y.toString(),Al(y,u,o,e,r,f,d));b<x.length;b+=1){var w=x[b],S=new Sl;S.text=w,S.sections=y.sections;for(var E=0;E<w.length;E++)S.sectionIndex.push(0);g.push(S)}}else if(_){g=[];for(var O=0,k=_(y.text,y.sectionIndex,Al(y,u,o,e,r,f,d));O<k.length;O+=1){var M=k[O],C=new Sl;C.text=M[0],C.sectionIndex=M[1],C.sections=y.sections,g.push(C)}}else g=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(y,Al(y,u,o,e,r,f,d));var T=[],P={positionedLines:T,text:y.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(t,e,n,r,i,o,a,s,l,u,c,h){for(var p=0,f=-17,d=0,m=0,g="right"===s?1:"left"===s?0:.5,y=0,v=0,_=i;v<_.length;v+=1){var b=_[v];b.trim();var x=b.getMaxScale(),w=24*(x-1),S={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=S;var E=S.positionedGlyphs,O=0;if(b.length()){for(var k=0;k<b.length();k++){var M=b.getSection(k),C=b.getSectionIndex(k),T=b.getCharCode(k),P=0,A=null,I=null,D=null,j=24,R=!(l===xl.horizontal||!c&&!Yr(T)||c&&(Ol[T]||(W=T,qr.Arabic(W)||qr["Arabic Supplement"](W)||qr["Arabic Extended-A"](W)||qr["Arabic Presentation Forms-A"](W)||qr["Arabic Presentation Forms-B"](W))));if(M.imageName){var L=r[M.imageName];if(!L)continue;D=M.imageName,t.iconsInText=t.iconsInText||!0,I=L.paddedRect;var z=L.displaySize;M.scale=24*M.scale/h,P=w+(24-z[1]*M.scale),j=(A={width:z[0],height:z[1],left:1,top:-3,advance:R?z[1]:z[0]}).advance;var N=R?z[0]*M.scale-24*x:z[1]*M.scale-24*x;N>0&&N>O&&(O=N)}else{var F=n[M.fontStack],B=F&&F[T];if(B&&B.rect)I=B.rect,A=B.metrics;else{var U=e[M.fontStack],V=U&&U[T];if(!V)continue;A=V.metrics}P=24*(x-M.scale)}R?(t.verticalizable=!0,E.push({glyph:T,imageName:D,x:p,y:f+P,vertical:R,scale:M.scale,fontStack:M.fontStack,sectionIndex:C,metrics:A,rect:I}),p+=j*M.scale+u):(E.push({glyph:T,imageName:D,x:p,y:f+P,vertical:R,scale:M.scale,fontStack:M.fontStack,sectionIndex:C,metrics:A,rect:I}),p+=A.advance*M.scale+u)}0!==E.length&&(d=Math.max(p-u,d),Dl(E,0,E.length-1,g,O)),p=0;var H=o*x+O;S.lineOffset=Math.max(O,w),f+=H,m=Math.max(H,m),++y}else f+=o,++y}var W,q=f- -17,K=Il(a),Y=K.horizontalAlign,Z=K.verticalAlign;(function(t,e,n,r,i,o,a,s,l){var u,c=(e-n)*i;u=o!==a?-s*r- -17:(-r*l+.5)*a;for(var h=0,p=t;h<p.length;h+=1)for(var f=0,d=p[h].positionedGlyphs;f<d.length;f+=1){var m=d[f];m.x+=c,m.y+=u}})(t.positionedLines,g,Y,Z,d,m,o,q,i.length),t.top+=-Z*q,t.bottom=t.top+q,t.left+=-Y*d,t.right=t.left+d}(P,e,n,r,g,a,s,l,h,u,p,m),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(T)&&P}Sl.fromFeature=function(t,e){for(var n=new Sl,r=0;r<t.sections.length;r++){var i=t.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,e)}return n},Sl.prototype.length=function(){return this.text.length},Sl.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Sl.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Sl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Sl.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;e+=r&&Zr(r)&&!Ys[t[n+1]]||i&&Zr(i)&&!Ys[t[n-1]]||!Ys[t[n]]?t[n]:Ys[t[n]]}return e}(this.text)},Sl.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Ol[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&Ol[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},Sl.prototype.substring=function(t,e){var n=new Sl;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},Sl.prototype.toString=function(){return this.text},Sl.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)},Sl.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(wl.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,r=0;r<t.text.length;++r)this.sectionIndex.push(n)},Sl.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wl.forImage(e)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Sl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ol={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},kl={};function Ml(t,e,n,r,i,o){if(e.imageName){var a=r[e.imageName];return a?a.displaySize[0]*e.scale*24/o+i:0}var s=n[e.fontStack],l=s&&s[t];return l?l.metrics.advance*e.scale+i:0}function Cl(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function Tl(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Pl(t,e,n,r,i,o){for(var a=null,s=Cl(e,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],h=Cl(e-c.x,n,i,o)+c.badness;h<=s&&(a=c,s=h)}return{index:t,x:e,priorBreak:a,badness:s}}function Al(t,e,n,r,i,o,a){if("point"!==o)return[];if(!t)return[];for(var s,l=[],u=function(t,e,n,r,i,o){for(var a=0,s=0;s<t.length();s++){var l=t.getSection(s);a+=Ml(t.getCharCode(s),l,r,i,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,r,i,a),c=t.text.indexOf("\u200b")>=0,h=0,p=0;p<t.length();p++){var f=t.getSection(p),d=t.getCharCode(p);if(Ol[d]||(h+=Ml(d,f,r,i,e,a)),p<t.length()-1){var m=!((s=d)<11904||!(qr["Bopomofo Extended"](s)||qr.Bopomofo(s)||qr["CJK Compatibility Forms"](s)||qr["CJK Compatibility Ideographs"](s)||qr["CJK Compatibility"](s)||qr["CJK Radicals Supplement"](s)||qr["CJK Strokes"](s)||qr["CJK Symbols and Punctuation"](s)||qr["CJK Unified Ideographs Extension A"](s)||qr["CJK Unified Ideographs"](s)||qr["Enclosed CJK Letters and Months"](s)||qr["Halfwidth and Fullwidth Forms"](s)||qr.Hiragana(s)||qr["Ideographic Description Characters"](s)||qr["Kangxi Radicals"](s)||qr["Katakana Phonetic Extensions"](s)||qr.Katakana(s)||qr["Vertical Forms"](s)||qr["Yi Radicals"](s)||qr["Yi Syllables"](s)));(kl[d]||m||f.imageName)&&l.push(Pl(p+1,h,u,l,Tl(d,t.getCharCode(p+1),m&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Pl(t.length(),h,u,l,0,!0))}function Il(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Dl(t,e,n,r,i){if(r||i)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*r,s=e;s<=n;s++)t[s].x-=a,t[s].y+=i}function jl(t,e,n,r,i,o){var a,s=t.image;if(s.content){var l=s.content,u=s.pixelRatio||1;a=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,h,p,f,d=e.left*o,m=e.right*o;"width"===n||"both"===n?(f=i[0]+d-r[3],h=i[0]+m+r[1]):h=(f=i[0]+(d+m-s.displaySize[0])/2)+s.displaySize[0];var g=e.top*o,y=e.bottom*o;return"height"===n||"both"===n?(c=i[1]+g-r[0],p=i[1]+y+r[2]):p=(c=i[1]+(g+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:h,bottom:p,left:f,collisionPadding:a}}kl[10]=!0,kl[32]=!0,kl[38]=!0,kl[40]=!0,kl[41]=!0,kl[43]=!0,kl[45]=!0,kl[47]=!0,kl[173]=!0,kl[183]=!0,kl[8203]=!0,kl[8208]=!0,kl[8211]=!0,kl[8231]=!0;var Rl=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);function Ll(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var s=r[o],l=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(l)),interpolationType:i}}function zl(t,e,n){var r=e.uSize,i=n.lowerSize;return"source"===t.kind?i/128:"composite"===t.kind?We(i/128,n.upperSize/128,e.uSizeT):r}function Nl(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=i?c(an.interpolationFactor(i,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?r=We(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:r}}Nr("Anchor",Rl);var Fl=Object.freeze({__proto__:null,getSizeData:Ll,evaluateSizeForFeature:zl,evaluateSizeForZoom:Nl,SIZE_PACK_FACTOR:128});function Bl(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a],h=t[a+1];if(!h)return!1;var p=t[a-1].angleTo(c)-c.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:p}),u+=p;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=c.dist(h)}return!0}function Ul(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Vl(t,e,n){return t?.6*e*n:0}function Hl(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Wl(t,e,n,r,i,o){for(var a=Vl(n,i,o),s=Hl(n,r)*o,l=0,u=Ul(t)/2,c=0;c<t.length-1;c++){var h=t[c],p=t[c+1],f=h.dist(p);if(l+f>u){var d=(u-l)/f,m=We(h.x,p.x,d),g=We(h.y,p.y,d),y=new Rl(m,g,p.angleTo(h),c);return y._round(),!a||Bl(t,y,s,a,e)?y:void 0}l+=f}}function ql(t,e,n,r,i,o,a,s,l){var u=Vl(r,o,a),c=Hl(r,i),h=c*a,p=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),function t(e,n,r,i,o,a,s,l,u){for(var c=a/2,h=Ul(e),p=0,f=n-r,d=[],m=0;m<e.length-1;m++){for(var g=e[m],y=e[m+1],v=g.dist(y),_=y.angleTo(g);f+r<p+v;){var b=((f+=r)-p)/v,x=We(g.x,y.x,b),w=We(g.y,y.y,b);if(x>=0&&x<u&&w>=0&&w<u&&f-c>=0&&f+c<=h){var S=new Rl(x,w,_,m);S._round(),i&&!Bl(e,S,a,i,o)||d.push(S)}}p+=v}return l||d.length||s||(d=t(e,p/2,r,i,o,a,s,!0,u)),d}(t,p?e/2*s%e:(c/2+2*o)*a*s%e,e,u,n,h,p,!1,l)}function Kl(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var h=l[c],p=l[c+1];h.x<e&&p.x<e||(h.x<e?h=new i(e,h.y+(e-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x<e&&(p=new i(e,h.y+(e-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y<n&&p.y<n||(h.y<n?h=new i(h.x+(n-h.y)/(p.y-h.y)*(p.x-h.x),n)._round():p.y<n&&(p=new i(h.x+(n-h.y)/(p.y-h.y)*(p.x-h.x),n)._round()),h.x>=r&&p.x>=r||(h.x>=r?h=new i(r,h.y+(r-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x>=r&&(p=new i(r,h.y+(r-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y>=o&&p.y>=o||(h.y>=o?h=new i(h.x+(o-h.y)/(p.y-h.y)*(p.x-h.x),o)._round():p.y>=o&&(p=new i(h.x+(o-h.y)/(p.y-h.y)*(p.x-h.x),o)._round()),u&&h.equals(u[u.length-1])||a.push(u=[h]),u.push(p)))))}return a}function Yl(t,e,n,r){var o=[],a=t.image,s=a.pixelRatio,l=a.paddedRect.w-2,u=a.paddedRect.h-2,c=t.right-t.left,h=t.bottom-t.top,p=a.stretchX||[[0,l]],f=a.stretchY||[[0,u]],d=function(t,e){return t+e[1]-e[0]},m=p.reduce(d,0),g=f.reduce(d,0),y=l-m,v=u-g,_=0,b=m,x=0,w=g,S=0,E=y,O=0,k=v;if(a.content&&r){var M=a.content;_=Zl(p,0,M[0]),x=Zl(f,0,M[1]),b=Zl(p,M[0],M[2]),w=Zl(f,M[1],M[3]),S=M[0]-_,O=M[1]-x,E=M[2]-M[0]-b,k=M[3]-M[1]-w}var C=function(r,o,l,u){var p=Xl(r.stretch-_,b,c,t.left),f=Jl(r.fixed-S,E,r.stretch,m),d=Xl(o.stretch-x,w,h,t.top),y=Jl(o.fixed-O,k,o.stretch,g),v=Xl(l.stretch-_,b,c,t.left),M=Jl(l.fixed-S,E,l.stretch,m),C=Xl(u.stretch-x,w,h,t.top),T=Jl(u.fixed-O,k,u.stretch,g),P=new i(p,d),A=new i(v,d),I=new i(v,C),D=new i(p,C),j=new i(f/s,y/s),R=new i(M/s,T/s),L=e*Math.PI/180;if(L){var z=Math.sin(L),N=Math.cos(L),F=[N,-z,z,N];P._matMult(F),A._matMult(F),D._matMult(F),I._matMult(F)}var B=r.stretch+r.fixed,U=o.stretch+o.fixed;return{tl:P,tr:A,bl:D,br:I,tex:{x:a.paddedRect.x+1+B,y:a.paddedRect.y+1+U,w:l.stretch+l.fixed-B,h:u.stretch+u.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:j,pixelOffsetBR:R,minFontScaleX:E/s/c,minFontScaleY:k/s/h,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var T=Gl(p,y,m),P=Gl(f,v,g),A=0;A<T.length-1;A++)for(var I=T[A],D=T[A+1],j=0;j<P.length-1;j++)o.push(C(I,P[j],D,P[j+1]));else o.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return o}function Zl(t,e,n){for(var r=0,i=0,o=t;i<o.length;i+=1){var a=o[i];r+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return r}function Gl(t,e,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=r[r.length-1];r.push({fixed:s-u.stretch,stretch:u.stretch}),r.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}return r.push({fixed:e+1,stretch:n}),r}function Xl(t,e,n,r){return t/e*n+r}function Jl(t,e,n,r){return t-e*n/r}var $l=function(t,e,n,r,o,a,s,l,u,c){if(this.boxStartIndex=t.length,u){var h=a.top,p=a.bottom,f=a.collisionPadding;f&&(h-=f[1],p+=f[3]);var d=p-h;d>0&&(d=Math.max(10,d),this.circleDiameter=d)}else{var m=a.top*s-l,g=a.bottom*s+l,y=a.left*s-l,v=a.right*s+l,_=a.collisionPadding;if(_&&(y-=_[0]*s,m-=_[1]*s,v+=_[2]*s,g+=_[3]*s),c){var b=new i(y,m),x=new i(v,m),w=new i(y,g),S=new i(v,g),E=c*Math.PI/180;b._rotate(E),x._rotate(E),w._rotate(E),S._rotate(E),y=Math.min(b.x,x.x,w.x,S.x),v=Math.max(b.x,x.x,w.x,S.x),m=Math.min(b.y,x.y,w.y,S.y),g=Math.max(b.y,x.y,w.y,S.y)}t.emplaceBack(e.x,e.y,y,m,v,g,n,r,o)}this.boxEndIndex=t.length},Ql=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=tu),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function tu(t,e){return t<e?-1:t>e?1:0}function eu(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,l=t[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<r)&&(r=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var h=Math.min(a-r,s-o),p=h/2,f=new Ql([],nu);if(0===h)return new i(r,o);for(var d=r;d<a;d+=h)for(var m=o;m<s;m+=h)f.push(new ru(d+p,m+p,p,t));for(var g=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,e+=3*c}return new ru(n/e,r/e,0,t)}(t),y=f.length;f.length;){var v=f.pop();(v.d>g.d||!g.d)&&(g=v,n&&console.log("found best %d after %d probes",Math.round(1e4*v.d)/1e4,y)),v.max-g.d<=e||(f.push(new ru(v.p.x-(p=v.h/2),v.p.y-p,p,t)),f.push(new ru(v.p.x+p,v.p.y-p,p,t)),f.push(new ru(v.p.x-p,v.p.y+p,p,t)),f.push(new ru(v.p.x+p,v.p.y+p,p,t)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+g.d)),g.p}function nu(t,e){return e.max-t.max}function ru(t,e,n,r){this.p=new i(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>t.y!=c.y>t.y&&t.x<(c.x-u.x)*(t.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,Jo(t,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}Ql.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Ql.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},Ql.prototype.peek=function(){return this.data[0]},Ql.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},Ql.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var iu=Number.POSITIVE_INFINITY;function ou(t,e){return e[1]!==iu?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function au(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function su(t,e,n,r,o,a,s,l,u,c,h,p,f,d,m){var g=function(t,e,n,r,o,a,s,l){for(var u=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],h=0,p=e.positionedLines;h<p.length;h+=1)for(var f=p[h],d=0,m=f.positionedGlyphs;d<m.length;d+=1){var g=m[d];if(g.rect){var y=g.rect||{},v=4,_=!0,b=1,x=0,w=(o||l)&&g.vertical,S=g.metrics.advance*g.scale/2;if(l&&e.verticalizable&&(x=f.lineOffset/2-(g.imageName?-(24-g.metrics.width*g.scale)/2:24*(g.scale-1))),g.imageName){var E=s[g.imageName];_=E.sdf,v=1/(b=E.pixelRatio)}var O=o?[g.x+S,g.y]:[0,0],k=o?[0,0]:[g.x+S+n[0],g.y+n[1]-x],M=[0,0];w&&(M=k,k=[0,0]);var C=(g.metrics.left-v)*g.scale-S+k[0],T=(-g.metrics.top-v)*g.scale+k[1],P=C+y.w*g.scale/b,A=T+y.h*g.scale/b,I=new i(C,T),D=new i(P,T),j=new i(C,A),R=new i(P,A);if(w){var L=new i(-S,S- -17),z=-Math.PI/2,N=12-S,F=new i(22-N,-(g.imageName?N:0)),B=new(Function.prototype.bind.apply(i,[null].concat(M)));I._rotateAround(z,L)._add(F)._add(B),D._rotateAround(z,L)._add(F)._add(B),j._rotateAround(z,L)._add(F)._add(B),R._rotateAround(z,L)._add(F)._add(B)}if(u){var U=Math.sin(u),V=Math.cos(u),H=[V,-U,U,V];I._matMult(H),D._matMult(H),j._matMult(H),R._matMult(H)}var W=new i(0,0),q=new i(0,0);c.push({tl:I,tr:D,bl:j,br:R,tex:y,writingMode:e.writingMode,glyphOffset:O,sectionIndex:g.sectionIndex,isSDF:_,pixelOffsetTL:W,pixelOffsetBR:q,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,l,o,a,s,r,t.allowVerticalPlacement),y=t.textSizeData,v=null;"source"===y.kind?(v=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&S(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((v=[128*d.compositeTextSizes[0].evaluate(s,{},m),128*d.compositeTextSizes[1].evaluate(s,{},m)])[0]>32640||v[1]>32640)&&S(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,g,v,l,a,s,c,e,u.lineStartIndex,u.lineLength,f,m);for(var _=0,b=h;_<b.length;_+=1)p[b[_]]=t.text.placedSymbolArray.length-1;return 4*g.length}function lu(t){for(var e in t)return t[e];return null}function uu(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var cu=bs.VectorTileFeature.types,hu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pu(t,e,n,r,i,o,a,s,l,u,c,h,p){var f=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,(f<<1)+(l?1:0),d,16*u,16*c,256*h,256*p)}function fu(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function du(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(Jr(n[e].text))return!0;return!1}var mu=function(t){this.layoutVertexArray=new ji,this.indexArray=new Ui,this.programConfigurations=t,this.segments=new so,this.dynamicLayoutVertexArray=new Ri,this.opacityVertexArray=new Li,this.placedSymbolArray=new Qi};mu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},mu.prototype.upload=function(t,e,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Us.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,hu,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t))},mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Nr("SymbolBuffers",mu);var gu=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new Bi};gu.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Hs.members,!0)},gu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Nr("CollisionBuffers",gu);var yu=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ll(this.zoom,e["text-size"]),this.iconSizeData=Ll(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return xl[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};yu.prototype.createArrays=function(){this.text=new mu(new Ro(this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new mu(new Ro(this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new eo},yu.prototype.calculateGlyphDependencies=function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=Ys[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},yu.prototype.populate=function(t,e,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof re&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],l||u){for(var h=e.iconDependencies,p=e.glyphDependencies,f=e.availableImages,d=new si(this.zoom),m=0,g=t;m<g.length;m+=1){var y=g[m],v=y.feature,_=y.id,b=y.index,x=y.sourceLayerIndex,w=r._featureFilter.needGeometry,S=Uo(v,w);if(r._featureFilter.filter(d,S,n)){w||(S.geometry=Bo(v));var E=void 0;if(l){var O=r.getValueAndResolveTokens("text-field",S,n,f),k=re.factory(O);du(k)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(E=Ks(k,r,S))}var M=void 0;if(u){var C=r.getValueAndResolveTokens("icon-image",S,n,f);M=C instanceof ie?C:ie.fromString(C)}if(E||M){var T=this.sortFeaturesByKey?c.evaluate(S,{},n):void 0;if(this.features.push({id:_,text:E,icon:M,index:b,sourceLayerIndex:x,geometry:S.geometry,properties:v.properties,type:cu[v.type],sortKey:T}),M&&(h[M.name]=!0),E){var P=o.evaluate(S,{},n).join(","),A="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xl.vertical)>=0;for(var I=0,D=E.sections;I<D.length;I+=1){var j=D[I];if(j.image)h[j.image.name]=!0;else{var R=Kr(E.toString()),L=j.fontStack||P,z=p[L]=p[L]||{};this.calculateGlyphDependencies(j.text,z,A,this.allowVerticalPlacement,R)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var u=0;u<t.length;u++){var c=t[u],h=c.geometry,p=c.text?c.text.toString():null;if(p){var f=l(p,h),d=l(p,h,!0);if(f in n&&d in e&&n[f]!==e[d]){var m=s(f,d,h),g=a(f,d,r[m].geometry);delete e[f],delete n[d],n[l(p,r[g].geometry,!0)]=g,r[m].geometry=null}else f in n?a(f,d,h):d in e?s(f,d,h):(o(u),e[f]=i-1,n[d]=i-1)}else o(u)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},yu.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},yu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},yu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yu.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yu.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var l=0;l<e.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},yu.prototype.addSymbols=function(t,e,n,r,i,o,a,s,l,u,c,h){for(var p=t.indexArray,f=t.layoutVertexArray,d=t.segments.prepareSegment(4*e.length,f,p,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,g=d.vertexLength,y=this.allowVerticalPlacement&&a===xl.vertical?Math.PI/2:0,v=o.text&&o.text.sections,_=0;_<e.length;_++){var b=e[_],x=b.tl,w=b.tr,S=b.bl,E=b.br,O=b.tex,k=b.pixelOffsetTL,M=b.pixelOffsetBR,C=b.minFontScaleX,T=b.minFontScaleY,P=b.glyphOffset,A=b.isSDF,I=b.sectionIndex,D=d.vertexLength,j=P[1];pu(f,s.x,s.y,x.x,j+x.y,O.x,O.y,n,A,k.x,k.y,C,T),pu(f,s.x,s.y,w.x,j+w.y,O.x+O.w,O.y,n,A,M.x,k.y,C,T),pu(f,s.x,s.y,S.x,j+S.y,O.x,O.y+O.h,n,A,k.x,M.y,C,T),pu(f,s.x,s.y,E.x,j+E.y,O.x+O.w,O.y+O.h,n,A,M.x,M.y,C,T),fu(t.dynamicLayoutVertexArray,s,y),p.emplaceBack(D,D+1,D+2),p.emplaceBack(D+1,D+2,D+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(P[0]),_!==e.length-1&&I===e[_+1].sectionIndex||t.programConfigurations.populatePaintArrays(f.length,o,o.index,{},h,v&&v[I])}t.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,g,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},yu.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},yu.prototype.addCollisionDebugVertices=function(t,e,n,r,o,a,s){var l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),u=l.vertexLength,c=o.layoutVertexArray,h=o.collisionVertexArray,p=s.anchorX,f=s.anchorY;this._addCollisionDebugVertex(c,h,a,p,f,new i(t,e)),this._addCollisionDebugVertex(c,h,a,p,f,new i(n,e)),this._addCollisionDebugVertex(c,h,a,p,f,new i(n,r)),this._addCollisionDebugVertex(c,h,a,p,f,new i(t,r)),l.vertexLength+=4;var d=o.indexArray;d.emplaceBack(u,u+1),d.emplaceBack(u+1,u+2),d.emplaceBack(u+2,u+3),d.emplaceBack(u+3,u),l.primitiveLength+=4},yu.prototype.addDebugCollisionBoxes=function(t,e,n,r){for(var i=t;i<e;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},yu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gu(Ni,Ws.members,Yi),this.iconCollisionBox=new gu(Ni,Ws.members,Yi);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},yu.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i,o,a,s,l){for(var u={},c=e;c<n;c++){var h=t.get(c);u.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},u.textFeatureIndex=h.featureIndex;break}for(var p=r;p<i;p++){var f=t.get(p);u.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},u.verticalTextFeatureIndex=f.featureIndex;break}for(var d=o;d<a;d++){var m=t.get(d);u.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},u.iconFeatureIndex=m.featureIndex;break}for(var g=s;g<l;g++){var y=t.get(g);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},u.verticalIconFeatureIndex=y.featureIndex;break}return u},yu.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},yu.prototype.hasTextData=function(){return this.text.segments.get().length>0},yu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yu.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)},yu.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(e*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o},yu.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},yu.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Nr("SymbolBucket",yu,{omit:["layers","collisionBoxArray","features","compareText"]}),yu.MAX_GLYPHS=65535,yu.addDynamicAttributes=fu;var vu=new xi({"symbol-placement":new gi(Tt.layout_symbol["symbol-placement"]),"symbol-spacing":new gi(Tt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gi(Tt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Tt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gi(Tt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gi(Tt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new gi(Tt.layout_symbol["icon-ignore-placement"]),"icon-optional":new gi(Tt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gi(Tt.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Tt.layout_symbol["icon-size"]),"icon-text-fit":new gi(Tt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gi(Tt.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Tt.layout_symbol["icon-image"]),"icon-rotate":new yi(Tt.layout_symbol["icon-rotate"]),"icon-padding":new gi(Tt.layout_symbol["icon-padding"]),"icon-keep-upright":new gi(Tt.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Tt.layout_symbol["icon-offset"]),"icon-anchor":new yi(Tt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gi(Tt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gi(Tt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gi(Tt.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Tt.layout_symbol["text-field"]),"text-font":new yi(Tt.layout_symbol["text-font"]),"text-size":new yi(Tt.layout_symbol["text-size"]),"text-max-width":new yi(Tt.layout_symbol["text-max-width"]),"text-line-height":new gi(Tt.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Tt.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Tt.layout_symbol["text-justify"]),"text-radial-offset":new yi(Tt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gi(Tt.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Tt.layout_symbol["text-anchor"]),"text-max-angle":new gi(Tt.layout_symbol["text-max-angle"]),"text-writing-mode":new gi(Tt.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Tt.layout_symbol["text-rotate"]),"text-padding":new gi(Tt.layout_symbol["text-padding"]),"text-keep-upright":new gi(Tt.layout_symbol["text-keep-upright"]),"text-transform":new yi(Tt.layout_symbol["text-transform"]),"text-offset":new yi(Tt.layout_symbol["text-offset"]),"text-allow-overlap":new gi(Tt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new gi(Tt.layout_symbol["text-ignore-placement"]),"text-optional":new gi(Tt.layout_symbol["text-optional"])}),_u={paint:new xi({"icon-opacity":new yi(Tt.paint_symbol["icon-opacity"]),"icon-color":new yi(Tt.paint_symbol["icon-color"]),"icon-halo-color":new yi(Tt.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Tt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Tt.paint_symbol["icon-halo-blur"]),"icon-translate":new gi(Tt.paint_symbol["icon-translate"]),"icon-translate-anchor":new gi(Tt.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Tt.paint_symbol["text-opacity"]),"text-color":new yi(Tt.paint_symbol["text-color"],{runtimeType:Ut,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new yi(Tt.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Tt.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Tt.paint_symbol["text-halo-blur"]),"text-translate":new gi(Tt.paint_symbol["text-translate"]),"text-translate-anchor":new gi(Tt.paint_symbol["text-translate-anchor"])}),layout:vu},bu=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:zt,this.defaultValue=t};bu.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},bu.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},bu.prototype.outputDefined=function(){return!1},bu.prototype.serialize=function(){return null},Nr("FormatSectionOverride",bu,{omit:["defaultValue"]});var xu=function(t){function e(e){t.call(this,e,_u)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n,r){var i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Kn(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,i)},e.prototype.createBucket=function(t){return new yu(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=_u.paint.overridableProperties;t<n.length;t+=1){var r=n[t];if(e.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new bu(o),s=new qn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Zn("source",s):new Gn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new di(o.property,i,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=_u.paint.properties[e],i=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r.overrides&&r.overrides.hasOverride(n[e]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof re)o(n.value.value.sections);else if("source"===n.value.kind){var a=function(t){i||(t instanceof ue&&se(t.value)===qt?o(t.value.sections):t instanceof fe?o(t.sections):t.eachChild(a))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},e}(wi),wu={paint:new xi({"background-color":new gi(Tt.paint_background["background-color"]),"background-pattern":new _i(Tt.paint_background["background-pattern"]),"background-opacity":new gi(Tt.paint_background["background-opacity"])})},Su=function(t){function e(e){t.call(this,e,wu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wi),Eu={paint:new xi({"raster-opacity":new gi(Tt.paint_raster["raster-opacity"]),"raster-hue-rotate":new gi(Tt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gi(Tt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gi(Tt.paint_raster["raster-brightness-max"]),"raster-saturation":new gi(Tt.paint_raster["raster-saturation"]),"raster-contrast":new gi(Tt.paint_raster["raster-contrast"]),"raster-resampling":new gi(Tt.paint_raster["raster-resampling"]),"raster-fade-duration":new gi(Tt.paint_raster["raster-fade-duration"])})},Ou=function(t){function e(e){t.call(this,e,Eu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wi),ku=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(wi),Mu={circle:pa,heatmap:wa,hillshade:Ea,fill:cs,"fill-extrusion":Ms,line:Fs,symbol:xu,background:Su,raster:Ou},Cu=a.HTMLImageElement,Tu=a.HTMLCanvasElement,Pu=a.HTMLVideoElement,Au=a.ImageData,Iu=a.ImageBitmap,Du=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Du.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Cu||t instanceof Tu||t instanceof Pu||t instanceof Au||Iu&&t instanceof Iu?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var l=n||{x:0,y:0},u=l.x,c=l.y;t instanceof Cu||t instanceof Tu||t instanceof Pu||t instanceof Au||Iu&&t instanceof Iu?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,u,c,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Du.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Du.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Du.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var ju=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};ju.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},ju.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Ru=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new ju(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?t:a};function Lu(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Ru.prototype.send=function(t,e,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=T(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Vr(e,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Ru.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else k()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Ru.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Ru.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Hr(e.error)):r(null,Hr(e.data)))}else{var i=!1,o=T(this.globalScope)?void 0:[],a=e.hasCallback?function(e,r){i=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Vr(e):null,data:Vr(r,o)},o)}:function(t){i=!0},s=null,l=Hr(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,l,a);else if(this.parent.getWorkerSource){var u=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,u[0],l.source)[u[1]](l,a)}else a(new Error("Could not find function "+e.type));!i&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},Ru.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var zu=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};zu.prototype.setNorthEast=function(t){return this._ne=t instanceof Nu?new Nu(t.lng,t.lat):Nu.convert(t),this},zu.prototype.setSouthWest=function(t){return this._sw=t instanceof Nu?new Nu(t.lng,t.lat):Nu.convert(t),this},zu.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof Nu)e=t,n=t;else{if(!(t instanceof zu))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(zu.convert(t)):this.extend(Nu.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Nu(e.lng,e.lat),this._ne=new Nu(n.lng,n.lat)),this},zu.prototype.getCenter=function(){return new Nu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},zu.prototype.getSouthWest=function(){return this._sw},zu.prototype.getNorthEast=function(){return this._ne},zu.prototype.getNorthWest=function(){return new Nu(this.getWest(),this.getNorth())},zu.prototype.getSouthEast=function(){return new Nu(this.getEast(),this.getSouth())},zu.prototype.getWest=function(){return this._sw.lng},zu.prototype.getSouth=function(){return this._sw.lat},zu.prototype.getEast=function(){return this._ne.lng},zu.prototype.getNorth=function(){return this._ne.lat},zu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},zu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},zu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},zu.prototype.contains=function(t){var e=Nu.convert(t),n=e.lng,r=e.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},zu.convert=function(t){return!t||t instanceof zu?t:new zu(t)};var Nu=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Nu.prototype.wrap=function(){return new Nu(h(this.lng,-180,180),this.lat)},Nu.prototype.toArray=function(){return[this.lng,this.lat]},Nu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Nu.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(i,1))},Nu.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new zu(new Nu(this.lng-n,this.lat-e),new Nu(this.lng+n,this.lat+e))},Nu.convert=function(t){if(t instanceof Nu)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Nu(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Nu(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Fu=2*Math.PI*6371008.8;function Bu(t){return Fu*Math.cos(t*Math.PI/180)}function Uu(t){return(180+t)/360}function Vu(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Hu(t,e){return t/Bu(e)}function Wu(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var qu=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};qu.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Nu.convert(t);return new qu(Uu(n.lng),Vu(n.lat),Hu(e,n.lat))},qu.prototype.toLngLat=function(){return new Nu(360*this.x-180,Wu(this.y))},qu.prototype.toAltitude=function(){return this.z*Bu(Wu(this.y))},qu.prototype.meterInMercatorCoordinateUnits=function(){return 1/Fu*(t=Wu(this.y),1/Math.cos(t*Math.PI/180));var t};var Ku=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Gu(0,t,t,e,n)};Ku.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Ku.prototype.url=function(t,e){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Lu(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Lu(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},Ku.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},Ku.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Yu=function(t,e){this.wrap=t,this.canonical=e,this.key=Gu(t,e.z,e.z,e.x,e.y)},Zu=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new Ku(n,+r,+i),this.key=Gu(e,t,n,r,i)};function Gu(t,e,n,r,i){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return(o*o*t+o*i+r).toString(36)+n.toString(36)+e.toString(36)}Zu.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Zu.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Zu(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Zu(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Zu.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?Gu(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Gu(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Zu.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Zu.prototype.children=function(t){if(this.overscaledZ>=t)return[new Zu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Zu(e,this.wrap,e,n,r),new Zu(e,this.wrap,e,n+1,r),new Zu(e,this.wrap,e,n,r+1),new Zu(e,this.wrap,e,n+1,r+1)]},Zu.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Zu.prototype.wrapped=function(){return new Zu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Zu.prototype.unwrapTo=function(t){return new Zu(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Zu.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Zu.prototype.toUnwrapped=function(){return new Yu(this.wrap,this.canonical)},Zu.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Zu.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new qu(t.x-this.wrap,t.y))},Nr("CanonicalTileID",Ku),Nr("OverscaledTileID",Zu,{omit:["posMatrix"]});var Xu=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return S('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Xu.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Xu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Xu.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Xu.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Xu.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Xu.prototype.getPixels=function(){return new _a({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xu.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,l=-n*this.dim,u=o;u<a;u++)for(var c=r;c<i;c++)this.data[this._idx(c,u)]=t.data[this._idx(c+s,u+l)]},Nr("DEMData",Xu);var Ju=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Ju.prototype.encode=function(t){return this._stringToNumber[t]},Ju.prototype.decode=function(t){return this._numberToString[t]};var $u=function(t,e,n,r,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,this.id=i},Qu={geometry:{configurable:!0}};Qu.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Qu.geometry.set=function(t){this._geometry=t},$u.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties($u.prototype,Qu);var tc=function(){this.state={},this.stateChanges={},this.deletedStates={}};tc.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},p(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},tc.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},tc.prototype.getState=function(t,e){var n=String(e),r=p({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var o in i)delete r[o]}return r},tc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},tc.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),p(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,h=Object.keys(this.deletedStates[a][u]);c<h.length;c+=1)delete this.state[a][u][h[c]];s[u]=this.state[a][u]}n[a]=n[a]||{},p(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in t)t[f].setFeatureState(n,e)};var ec=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Dr(8192,16,0),this.grid3D=new Dr(8192,16,0),this.featureIndexArray=new oo,this.promoteId=e};function nc(t,e,n,r,i){return _(t,(function(t,o){var a=e instanceof mi?e.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rc(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function ic(t,e){return e-t}ec.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,l=0;l<e.length;l++){for(var u=e[l],c=[1/0,1/0,-1/0,-1/0],h=0;h<u.length;h++){var p=u[h];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},ec.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new bs.VectorTile(new Xs(this.rawTileData)).layers,this.sourceLayerCoder=new Ju(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ec.prototype.query=function(t,e,n,r){var o=this;this.loadVTLayers();for(var a=t.params||{},s=8192/t.tileSize/t.scale,l=ar(a.filter),u=t.queryGeometry,c=t.queryPadding*s,h=rc(u),p=this.grid.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c),f=rc(t.cameraQueryGeometry),d=this.grid3D.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c,(function(e,n,r,o){return function(t,e,n,r,o){for(var a=0,s=t;a<s.length;a+=1){var l=s[a];if(e<=l.x&&n<=l.y&&r>=l.x&&o>=l.y)return!0}var u=[new i(e,n),new i(e,o),new i(r,o),new i(r,n)];if(t.length>2)for(var c=0,h=u;c<h.length;c+=1)if(Qo(t,h[c]))return!0;for(var p=0;p<t.length-1;p++)if(ta(t[p],t[p+1],u))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,r+c,o+c)})),m=0,g=d;m<g.length;m+=1)p.push(g[m]);p.sort(ic);for(var y,v={},_=function(i){var c=p[i];if(c!==y){y=c;var h=o.featureIndexArray.get(c),f=null;o.loadMatchingFeature(v,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,l,a.layers,a.availableImages,e,n,r,(function(e,n,r){return f||(f=Bo(e)),n.queryIntersectsFeature(u,e,r,f,o.z,t.transform,s,t.pixelPosMatrix)}))}},b=0;b<p.length;b++)_(b);return v},ec.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s,l,u,c){var h=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,h)){var f=this.sourceLayerCoder.decode(n),d=this.vtLayers[f].feature(r);if(i.needGeometry){var m=Uo(d,!0);if(!i.filter(new si(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),d))return;for(var g=this.getId(d,f),y=0;y<h.length;y++){var v=h[y];if(!(o&&o.indexOf(v)<0)){var _=s[v];if(_){var b={};void 0!==g&&u&&(b=u.getState(_.sourceLayer||"_geojsonTileLayer",g));var x=p({},l[v]);x.paint=nc(x.paint,_.paint,d,b,a),x.layout=nc(x.layout,_.layout,d,b,a);var w=!c||c(d,_,b);if(w){var S=new $u(d,this.z,this.x,this.y,g);S.layer=x;var E=t[v];void 0===E&&(E=t[v]=[]),E.push({featureIndex:r,feature:S,intersectionZ:w})}}}}}},ec.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o,a,s){var l={};this.loadVTLayers();for(var u=ar(i),c=0,h=t;c<h.length;c+=1)this.loadMatchingFeature(l,n,r,h[c],u,o,a,s,e);return l},ec.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},ec.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},Nr("FeatureIndex",ec,{omit:["rawTileData","sourceLayerCoder"]});var oc=function(t,e){this.tileID=t,this.uid=d(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};oc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<N.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},oc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},oc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=function(){var t=o[i],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=t}},i=0,o=t;i<o.length;i+=1)r();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof yu){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof yu&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(l))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Ji},oc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},oc.prototype.getBucket=function(t){return this.buckets[t.id]},oc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Du(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Du(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},oc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},oc.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:a,queryPadding:this.queryPadding*l},t,e,n):{}},oc.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=e?e.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(e&&e.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,h={z:l,x:u,y:c},p=0;p<o.length;p++){var f=o.feature(p);if(a.needGeometry){var d=Uo(f,!0);if(!a.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),f))continue;var m=n.getId(f,i),g=new $u(f,l,u,c,m);g.tile=h,t.push(g)}}},oc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},oc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},oc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=M(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},oc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},oc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(e.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=e&&e.style&&e.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},oc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},oc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<N.now()},oc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},oc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=N.now()+t},oc.prototype.setDependencies=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[t]=n},oc.prototype.hasDependency=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=e;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var ac=a.performance,sc=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},ac.mark(this._marks.start)};sc.prototype.finish=function(){ac.mark(this._marks.end);var t=ac.getEntriesByName(this._marks.measure);return 0===t.length&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),t=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),t},t.Actor=Ru,t.AlphaImage=va,t.CanonicalTileID=Ku,t.CollisionBoxArray=Ji,t.Color=te,t.DEMData=Xu,t.DataConstantProperty=gi,t.DictionaryCoder=Ju,t.EXTENT=8192,t.ErrorEvent=Mt,t.EvaluationParameters=si,t.Event=kt,t.Evented=Ct,t.FeatureIndex=ec,t.FillBucket=ss,t.FillExtrusionBucket=Es,t.ImageAtlas=bl,t.ImagePosition=vl,t.LineBucket=Rs,t.LngLat=Nu,t.LngLatBounds=zu,t.MercatorCoordinate=qu,t.ONE_EM=24,t.OverscaledTileID=Zu,t.Point=i,t.Point$1=i,t.Properties=xi,t.Protobuf=Xs,t.RGBAImage=_a,t.RequestManager=q,t.RequestPerformance=sc,t.ResourceType=dt,t.SegmentVector=so,t.SourceFeatureState=tc,t.StructArrayLayout1ui2=Zi,t.StructArrayLayout2f1f2i16=Fi,t.StructArrayLayout2i4=Ci,t.StructArrayLayout3ui6=Ui,t.StructArrayLayout4i8=Ti,t.SymbolBucket=yu,t.Texture=Du,t.Tile=oc,t.Transitionable=ci,t.Uniform1f=xo,t.Uniform1i=bo,t.Uniform2f=wo,t.Uniform3f=So,t.Uniform4f=Eo,t.UniformColor=Oo,t.UniformMatrix4f=Mo,t.UnwrappedTileID=Yu,t.ValidationError=Pt,t.WritingMode=xl,t.ZoomHistory=Wr,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=fu,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=l,t.bindAll=y,t.browser=N,t.cacheEntryPossiblyAdded=function(t){++pt>lt&&(t.getActor().send("enforceCacheSizeLimit",st),pt=0)},t.clamp=c,t.clearTileCache=function(t){var e=a.caches.delete("mapbox-tiles");t&&e.catch(t).then((function(){return t()}))},t.clipLine=Kl,t.clone=function(t){var e=new aa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=x,t.clone$2=function(t){var e=new aa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=qs,t.config=F,t.create=function(){var t=new aa(16);return aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new aa(9);return aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new aa(4);return aa!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Yn,t.createLayout=ki,t.createStyleLayer=function(t){return"custom"===t.type?new ku(t):new Mu[t.type](t)},t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=u,t.emitValidationErrors=Ir,t.endsWith=v,t.enforceCacheSizeLimit=function(t){ut(),tt&&tt.then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},t.evaluateSizeForFeature=zl,t.evaluateSizeForZoom=Nl,t.evaluateVariableOffset=ou,t.evented=ri,t.extend=p,t.featureFilter=ar,t.filterObject=b,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Il,t.getAnchorJustification=au,t.getArrayBuffer=bt,t.getImage=St,t.getJSON=function(t,e){return _t(p(t,{type:"json"}),e)},t.getRTLTextPluginStatus=ii,t.getReferrer=vt,t.getVideo=function(t,e){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var s=a.document.createElement("source");n=t[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=t[o],i.appendChild(s)}return{cancel:function(){}}},t.identity=sa,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],g=e[14],y=e[15],v=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,S=i*u-o*l,E=c*m-h*d,O=c*g-p*d,k=c*y-f*d,M=h*g-p*m,C=h*y-f*m,T=p*y-f*g,P=v*T-_*C+b*M+x*k-w*O+S*E;return P?(t[0]=(s*T-l*C+u*M)*(P=1/P),t[1]=(i*C-r*T-o*M)*P,t[2]=(m*S-g*w+y*x)*P,t[3]=(p*w-h*S-f*x)*P,t[4]=(l*k-a*T-u*O)*P,t[5]=(n*T-i*k+o*O)*P,t[6]=(g*b-d*S-y*_)*P,t[7]=(c*S-p*b+f*_)*P,t[8]=(a*C-s*k+u*E)*P,t[9]=(r*k-n*C-o*E)*P,t[10]=(d*w-m*b+y*v)*P,t[11]=(h*b-c*w-f*v)*P,t[12]=(s*O-a*M-l*E)*P,t[13]=(n*M-r*O+i*E)*P,t[14]=(m*_-d*x-g*v)*P,t[15]=(c*x-h*_+p*v)*P,t):null},t.isChar=qr,t.isMapboxURL=K,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.makeRequest=_t,t.mapObject=_,t.mercatorXfromLng=Uu,t.mercatorYfromLat=Vu,t.mercatorZfromAltitude=Hu,t.mul=ca,t.multiply=la,t.mvt=bs,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},t.number=We,t.offscreenCanvasSupported=ft,t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t},t.parseGlyphPBF=function(t){return new Xs(t).readFields(dl,[])},t.pbf=Xs,t.performSymbolLayout=function(t,e,n,r,i,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,h=c.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new si(c.minZoom),a),l["text-size"].possiblyEvaluate(new si(h),a)]}if("composite"===t.iconSizeData.kind){var p=t.iconSizeData,f=p.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new si(p.minZoom),a),l["icon-size"].possiblyEvaluate(new si(f),a)]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new si(t.zoom+1),a),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new si(t.zoom+1),a),u.textMaxSize=l["text-size"].possiblyEvaluate(new si(18));for(var d=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),y=s.get("text-size"),v=function(){var o=b[_],l=s.get("text-font").evaluate(o,{},a).join(","),c=y.evaluate(o,{},a),h=u.layoutTextSize.evaluate(o,{},a),p=u.layoutIconSize.evaluate(o,{},a),f={horizontal:{},vertical:void 0},v=o.text,x=[0,0];if(v){var w=v.toString(),E=24*s.get("text-letter-spacing").evaluate(o,{},a),O=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r=n[e].charCodeAt(0),qr.Arabic(r)||qr["Arabic Supplement"](r)||qr["Arabic Extended-A"](r)||qr["Arabic Presentation Forms-A"](r)||qr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?E:0,k=s.get("text-anchor").evaluate(o,{},a),M=s.get("text-variable-anchor");if(!M){var C=s.get("text-radial-offset").evaluate(o,{},a);x=C?ou(k,[24*C,iu]):s.get("text-offset").evaluate(o,{},a).map((function(t){return 24*t}))}var T=m?"center":s.get("text-justify").evaluate(o,{},a),P=s.get("symbol-placement"),A="point"===P?24*s.get("text-max-width").evaluate(o,{},a):0,I=function(){t.allowVerticalPlacement&&Kr(w)&&(f.vertical=El(v,e,n,i,l,A,d,k,"left",O,x,xl.vertical,!0,P,h,c))};if(!m&&M){for(var D="auto"===T?M.map((function(t){return au(t)})):[T],j=!1,R=0;R<D.length;R++){var L=D[R];if(!f.horizontal[L])if(j)f.horizontal[L]=f.horizontal[0];else{var z=El(v,e,n,i,l,A,d,"center",L,O,x,xl.horizontal,!1,P,h,c);z&&(f.horizontal[L]=z,j=1===z.positionedLines.length)}}I()}else{"auto"===T&&(T=au(k));var N=El(v,e,n,i,l,A,d,k,T,O,x,xl.horizontal,!1,P,h,c);N&&(f.horizontal[T]=N),I(),Kr(w)&&m&&g&&(f.vertical=El(v,e,n,i,l,A,d,k,T,O,x,xl.vertical,!1,P,h,c))}}var F=void 0,B=!1;if(o.icon&&o.icon.name){var U=r[o.icon.name];U&&(F=function(t,e,n){var r=Il(n),i=e[0]-t.displaySize[0]*r.horizontalAlign,o=e[1]-t.displaySize[1]*r.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:i,right:i+t.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),B=U.sdf,void 0===t.sdfIcons?t.sdfIcons=U.sdf:t.sdfIcons!==U.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var V=lu(f.horizontal)||f.vertical;t.iconsInText=!!V&&V.iconsInText,(V||F)&&function(t,e,n,r,i,o,a,s,l,u,c){var h=o.textMaxSize.evaluate(e,{});void 0===h&&(h=a);var p,f=t.layers[0].layout,d=f.get("icon-offset").evaluate(e,{},c),m=lu(n.horizontal),g=a/24,y=t.tilePixelRatio*g,v=t.tilePixelRatio*h/24,_=t.tilePixelRatio*s,b=t.tilePixelRatio*f.get("symbol-spacing"),x=f.get("text-padding")*t.tilePixelRatio,w=f.get("icon-padding")*t.tilePixelRatio,E=f.get("text-max-angle")/180*Math.PI,O="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),k="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),M=f.get("symbol-placement"),C=b/2,T=f.get("icon-text-fit");r&&"none"!==T&&(t.allowVerticalPlacement&&n.vertical&&(p=jl(r,n.vertical,T,f.get("icon-text-fit-padding"),d,g)),m&&(r=jl(r,m,T,f.get("icon-text-fit-padding"),d,g)));var P=function(s,h){h.x<0||h.x>=8192||h.y<0||h.y>=8192||function(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m,g,y,v,_,b,x,w,E,O){var k,M,C,T,P,A=t.addToLineVertexArray(e,n),I=0,D=0,j=0,R=0,L=-1,z=-1,N={},F=po(""),B=0,U=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(k=s.layout.get("text-offset").evaluate(b,{},E).map((function(t){return 24*t})))[0],U=k[1]):(B=24*s.layout.get("text-radial-offset").evaluate(b,{},E),U=iu),t.allowVerticalPlacement&&r.vertical){var V=s.layout.get("text-rotate").evaluate(b,{},E)+90;T=new $l(l,e,u,c,h,r.vertical,p,f,d,V),a&&(P=new $l(l,e,u,c,h,a,g,y,d,V))}if(i){var H=s.layout.get("icon-rotate").evaluate(b,{}),W="none"!==s.layout.get("icon-text-fit"),q=Yl(i,H,w,W),K=a?Yl(a,H,w,W):void 0;C=new $l(l,e,u,c,h,i,g,y,!1,H),I=4*q.length;var Y=t.iconSizeData,Z=null;"source"===Y.kind?(Z=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&S(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Y.kind&&((Z=[128*x.compositeIconSizes[0].evaluate(b,{},E),128*x.compositeIconSizes[1].evaluate(b,{},E)])[0]>32640||Z[1]>32640)&&S(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,q,Z,_,v,b,!1,e,A.lineStartIndex,A.lineLength,-1,E),L=t.icon.placedSymbolArray.length-1,K&&(D=4*K.length,t.addSymbols(t.icon,K,Z,_,v,b,xl.vertical,e,A.lineStartIndex,A.lineLength,-1,E),z=t.icon.placedSymbolArray.length-1)}for(var G in r.horizontal){var X=r.horizontal[G];if(!M){F=po(X.text);var J=s.layout.get("text-rotate").evaluate(b,{},E);M=new $l(l,e,u,c,h,X,p,f,d,J)}var $=1===X.positionedLines.length;if(j+=su(t,e,X,o,s,d,b,m,A,r.vertical?xl.horizontal:xl.horizontalOnly,$?Object.keys(r.horizontal):[G],N,L,x,E),$)break}r.vertical&&(R+=su(t,e,r.vertical,o,s,d,b,m,A,xl.vertical,["vertical"],N,z,x,E));var Q=M?M.boxStartIndex:t.collisionBoxArray.length,tt=M?M.boxEndIndex:t.collisionBoxArray.length,et=T?T.boxStartIndex:t.collisionBoxArray.length,nt=T?T.boxEndIndex:t.collisionBoxArray.length,rt=C?C.boxStartIndex:t.collisionBoxArray.length,it=C?C.boxEndIndex:t.collisionBoxArray.length,ot=P?P.boxStartIndex:t.collisionBoxArray.length,at=P?P.boxEndIndex:t.collisionBoxArray.length,st=-1,lt=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};st=lt(M,st),st=lt(T,st),st=lt(C,st);var ut=(st=lt(P,st))>-1?1:0;ut&&(st*=O/24),t.glyphOffsetArray.length>=yu.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical||-1,L,z,F,Q,tt,et,nt,rt,it,ot,at,u,j,R,I,D,ut,0,p,B,U,st)}(t,h,s,n,r,i,p,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,y,x,O,l,_,w,k,d,e,o,u,c,a)};if("line"===M)for(var A=0,I=Kl(e.geometry,0,0,8192,8192);A<I.length;A+=1)for(var D=I[A],j=0,R=ql(D,b,E,n.vertical||m,r,24,v,t.overscaling,8192);j<R.length;j+=1){var L=R[j];m&&uu(t,m.text,C,L)||P(D,L)}else if("line-center"===M)for(var z=0,N=e.geometry;z<N.length;z+=1){var F=N[z];if(F.length>1){var B=Wl(F,E,n.vertical||m,r,24,v);B&&P(F,B)}}else if("Polygon"===e.type)for(var U=0,V=rs(e.geometry,0);U<V.length;U+=1){var H=V[U],W=eu(H,16);P(H[0],new Rl(W.x,W.y,0))}else if("LineString"===e.type)for(var q=0,K=e.geometry;q<K.length;q+=1){var Y=K[q];P(Y,new Rl(Y[0].x,Y[0].y,0))}else if("Point"===e.type)for(var Z=0,G=e.geometry;Z<G.length;Z+=1)for(var X=0,J=G[Z];X<J.length;X+=1){var $=J[X];P([$],new Rl($.x,$.y,0))}}(t,o,f,F,r,u,h,p,x,B,a)},_=0,b=t.features;_<b.length;_+=1)v();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=ai,t.polygonIntersectsPolygon=Wo,t.postMapLoadEvent=at,t.postTurnstileEvent=it,t.potpack=yl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Nr,t.registerForPluginStateChange=function(t){return t({pluginStatus:Qr,pluginURL:ti}),ri.on("pluginStateChange",t),t},t.renderColorRamp=xa,t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=l*i+p*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=p*i-l*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=l*i+p*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=p*i-l*r,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){st=t,lt=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),"deferred"===Qr||"loading"===Qr||"loaded"===Qr)throw new Error("setRTLTextPlugin cannot be called multiple times.");ti=N.resolveURL(t),Qr="deferred",$r=e,ni(),n||oi()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=Tt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=Fl,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=ha,t.translate=function(t,e,n){var r,i,o,a,s,l,u,c,h,p,f,d,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=r*m+s*g+h*y+e[12],t[13]=i*m+l*g+p*y+e[13],t[14]=o*m+u*g+f*y+e[14],t[15]=a*m+c*g+d*y+e[15]),t},t.triggerPluginCompletionEvent=ei,t.uniqueId=d,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Tr,t.validateStyle=Cr,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=bs,t.version="1.13.3",t.warnOnce=S,t.webpSupported=B,t.window=a,t.wrap=h})),r(["./shared"],(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+e(t[a[l]])+",";return s+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){this.keyCache={},t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=t.createStyleLayer(s);l._featureFilter=t.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var u=0,c=r;u<c.length;u+=1){var h=c[u];delete this.keyCache[h],delete this._layerConfigs[h],delete this._layers[h]}this.familiesBySource={};for(var p=0,f=function(t,e){for(var r={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||n(t[i]);e&&(e[t[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(t[i])}var s=[];for(var l in r)s.push(r[l]);return s}(t.values(this._layerConfigs),this.keyCache);p<f.length;p+=1){var d=f[p].map((function(t){return i._layers[t.id]})),m=d[0];if("none"!==m.visibility){var g=m.source||"",y=this.familiesBySource[g];y||(y=this.familiesBySource[g]={});var v=m.sourceLayer||"_geojsonTileLayer",_=y[v];_||(_=y[v]=[]),_.push(d)}}};var i=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=t.potpack(r),h=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var p in e){var f=e[p];for(var d in f){var m=f[+d];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var g=n[p][d].rect;t.AlphaImage.copy(m.bitmap,h,{x:0,y:0},{x:g.x+1,y:g.y+1},m.bitmap)}}}this.image=h,this.positions=n};t.register("GlyphAtlas",i);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,r){for(var i=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(i,r)}function s(e,n){var r=t.getArrayBuffer(e.request,(function(e,r,i,o){e?n(e):r&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(e,n,r,o,s){var l=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var u=new t.DictionaryCoder(Object.keys(e.layers).sort()),c=new t.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var h,p,f,d,m={},g={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},y=n.familiesBySource[this.source];for(var v in y){var _=e.layers[v];if(_){1===_.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=u.encode(v),x=[],w=0;w<_.length;w++){var S=_.feature(w),E=c.getId(S,v);x.push({feature:S,id:E,index:w,sourceLayerIndex:b})}for(var O=0,k=y[v];O<k.length;O+=1){var M=k[O],C=M[0];C.minzoom&&this.zoom<Math.floor(C.minzoom)||C.maxzoom&&this.zoom>=C.maxzoom||"none"!==C.visibility&&(a(M,this.zoom,r),(m[C.id]=C.createBucket({index:c.bucketLayerIDs.length,layers:M,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,g,this.tileID.canonical),c.bucketLayerIDs.push(M.map((function(t){return t.id}))))}}}var T=t.mapObject(g.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(T).length?o.send("getGlyphs",{uid:this.uid,stacks:T},(function(t,e){h||(h=t,p=e,I.call(l))})):p={};var P=Object.keys(g.iconDependencies);P.length?o.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){h||(h=t,f=e,I.call(l))})):f={};var A=Object.keys(g.patternDependencies);function I(){if(h)return s(h);if(p&&f&&d){var e=new i(p),n=new t.ImageAtlas(f,d);for(var o in m){var l=m[o];l instanceof t.SymbolBucket?(a(l.layers,this.zoom,r),t.performSymbolLayout(l,p,e.positions,f,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof t.LineBucket||l instanceof t.FillBucket||l instanceof t.FillExtrusionBucket)&&(a(l.layers,this.zoom,r),l.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:t.values(m).filter((function(t){return!t.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?e.positions:null})}}A.length?o.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){h||(h=t,d=e,I.call(l))})):d={},I.call(this)};var l=function(t,e,n,r){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[i]=new o(e);s.abort=this.loadVectorData(e,(function(e,o){if(delete r.loading[i],e||!o)return s.status="done",r.loaded[i]=s,n(e);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var h=a.finish();h&&(c.resourceTiming=JSON.parse(JSON.stringify(h)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:l.slice(0)},r,u,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},l.prototype.reloadTile=function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},l.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var u=t.window.ImageBitmap,c=function(){this.loaded={}};function h(t,e){if(0!==t.length){p(t[0],e);for(var n=1;n<t.length;n++)p(t[n],!e)}}function p(t,e){for(var n=0,r=0,i=0,o=t.length,a=o-1;i<o;a=i++){var s=(t[i][0]-t[a][0])*(t[a][1]+t[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!e&&t.reverse()}c.prototype.loadTile=function(e,n){var r=e.uid,i=e.encoding,o=e.rawImageData,a=u&&o instanceof u?this.getImageData(o):o,s=new t.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var f=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point$1(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var h=c[u];l.push(new t.Point$1(h[0],h[1]))}o.push(l)}return o},d.prototype.toGeoJSON=function(t,e,n){return f.call(this,t,e,n)};var m=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};m.prototype.feature=function(t){return new d(this._features[t])};var g=t.vectorTile.VectorTileFeature,y=v;function v(t,e){this.options=e||{},this.features=t,this.length=t.length}function _(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}v.prototype.feature=function(t){return new _(this.features[t],this.options.extent)},_.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},_.prototype.toGeoJSON=g.prototype.toGeoJSON;var b=w,x=y;function w(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,S,t.layers[n])}(e,n),n.finish()}function S(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,E,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,T,o[n])}function E(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,O,t),e.writeVarintField(3,n.type),e.writeMessage(4,C,n)}function O(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),o[s]=l=r.length-1),e.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var h=c+":"+u,p=a[h];void 0===p&&(i.push(u),a[h]=p=i.length-1),e.writeVarint(p)}}function k(t,e){return(e<<3)+(7&t)}function M(t){return t<<1^t>>31}function C(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),e.writeVarint(k(1,u));for(var c=3===r?l.length-1:l.length,h=0;h<c;h++){1===h&&1!==r&&e.writeVarint(k(2,c-1));var p=l[h].x-i,f=l[h].y-o;e.writeVarint(M(p)),e.writeVarint(M(f)),i+=p,o+=f}3===r&&e.writeVarint(k(7,1))}}function T(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function P(t,e,n,r){A(t,n,r),A(e,2*n,2*r),A(e,2*n+1,2*r+1)}function A(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function I(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}b.fromVectorTileJs=w,b.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new y(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return w({layers:n})},b.GeoJSONWrapper=x;var D=function(t){return t[0]},j=function(t){return t[1]},R=function(t,e,n,r,i){void 0===e&&(e=D),void 0===n&&(n=j),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new i(2*t.length),l=0;l<t.length;l++)a[l]=l,s[2*l]=e(t[l]),s[2*l+1]=n(t[l]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var p=n[2*r+a],f=i,d=o;for(P(e,n,i,r),n[2*o+a]>p&&P(e,n,i,o);f<d;){for(P(e,n,f,d),f++,d--;n[2*f+a]<p;)f++;for(;n[2*d+a]>p;)d--}n[2*i+a]===p?P(e,n,i,d):P(e,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};R.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var h=u.pop(),p=u.pop(),f=u.pop();if(p-f<=a)for(var d=f;d<=p;d++)l=e[2*d+1],(s=e[2*d])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[d]);else{var m=Math.floor((f+p)/2);l=e[2*m+1],(s=e[2*m])>=n&&s<=i&&l>=r&&l<=o&&c.push(t[m]);var g=(h+1)%2;(0===h?n<=s:r<=l)&&(u.push(f),u.push(m-1),u.push(g)),(0===h?i>=s:o>=l)&&(u.push(m+1),u.push(p),u.push(g))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},R.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),h=a.pop();if(c-h<=o)for(var p=h;p<=c;p++)I(e[2*p],e[2*p+1],n,r)<=l&&s.push(t[p]);else{var f=Math.floor((h+c)/2),d=e[2*f],m=e[2*f+1];I(d,m,n,r)<=l&&s.push(t[f]);var g=(u+1)%2;(0===u?n-i<=d:r-i<=m)&&(a.push(h),a.push(f-1),a.push(g)),(0===u?n+i>=d:r+i>=m)&&(a.push(f+1),a.push(c),a.push(g))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},z=function(t){this.options=W(Object.create(L),t),this.trees=new Array(this.options.maxZoom+1)};function N(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function F(t,e){var n=t.geometry.coordinates,r=n[1];return{x:V(n[0]),y:H(r),zoom:1/0,index:e,parentId:-1}}function B(t){return{type:"Feature",id:t.id,properties:U(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function U(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return W(W({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function V(t){return t/360+.5}function H(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function W(t,e){for(var n in e)t[n]=e[n];return t}function q(t){return t.x}function K(t){return t.y}function Y(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=t-n)*a+(s=e-r)*s}function Z(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)G(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)G(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)G(t,e[r][i])}(i),i}function G(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function X(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)J(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)J(i[u],s);else if("LineString"===o)$(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)$(i[u],s=[],a,!1),t.push(Z(l,"LineString",s,e.properties));return}Q(i,s,a,!1)}else if("Polygon"===o)Q(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<e.geometry.geometries.length;u++)X(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];Q(i[u],c,a,!0),s.push(c)}}t.push(Z(l,o,s,e.properties))}}function J(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function $(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=tt(t[s][0]),u=et(t[s][1]);e.push(l),e.push(u),e.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=e[n],c=e[n+1],h=e[r],p=e[r+1],f=n+3;f<r;f+=3){var d=Y(e[f],e[f+1],u,c,h,p);if(d>a)o=f,a=d;else if(d===a){var m=Math.abs(f-s);m<l&&(o=f,l=m)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function Q(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];$(t[i],o,n,r),e.push(o)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function nt(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],h=c.geometry,p=c.type,f=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(f>=n&&d<r)l.push(c);else if(!(d<n||f>=r)){var m=[];if("Point"===p||"MultiPoint"===p)rt(h,m,n,r,i);else if("LineString"===p)it(h,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)at(h,m,n,r,i,!1);else if("Polygon"===p)at(h,m,n,r,i,!0);else if("MultiPolygon"===p)for(var g=0;g<h.length;g++){var y=[];at(h[g],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===p){for(g=0;g<m.length;g++)l.push(Z(c.id,p,m[g],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===m.length?(p="LineString",m=m[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===m.length?"Point":"MultiPoint"),l.push(Z(c.id,p,m,c.tags))}}}return l.length?l:null}function rt(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function it(t,e,n,r,i,o,a){for(var s,l,u=ot(t),c=0===i?lt:ut,h=t.start,p=0;p<t.length-3;p+=3){var f=t[p],d=t[p+1],m=t[p+2],g=t[p+3],y=t[p+4],v=0===i?f:d,_=0===i?g:y,b=!1;a&&(s=Math.sqrt(Math.pow(f-g,2)+Math.pow(d-y,2))),v<n?_>n&&(l=c(u,f,d,g,y,n),a&&(u.start=h+s*l)):v>r?_<r&&(l=c(u,f,d,g,y,r),a&&(u.start=h+s*l)):st(u,f,d,m),_<n&&v>=n&&(l=c(u,f,d,g,y,n),b=!0),_>r&&v<=r&&(l=c(u,f,d,g,y,r),b=!0),!o&&b&&(a&&(u.end=h+s*l),e.push(u),u=ot(t)),a&&(h+=s)}var x=t.length-3;f=t[x],d=t[x+1],m=t[x+2],(v=0===i?f:d)>=n&&v<=r&&st(u,f,d,m),x=u.length-3,o&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&st(u,u[0],u[1],u[2]),u.length&&e.push(u)}function ot(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function at(t,e,n,r,i,o){for(var a=0;a<t.length;a++)it(t[a],e,n,r,i,o,!1)}function st(t,e,n,r){t.push(e),t.push(n),t.push(r)}function lt(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function ut(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function ct(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=ht(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(ht(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(ht(o.geometry[s][u],e));i.push(l)}n.push(Z(o.id,a,i,o.tags))}return n}function ht(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function pt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(ft(u[r],u[r+1],e,o,a,s));else for(r=0;r<u.length;r++){var h=[];for(i=0;i<u[r].length;i+=2)h.push(ft(u[r][i],u[r][i+1],e,o,a,s));l.geometry.push(h)}}return t.transformed=!0,t}function ft(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function dt(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,mt(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,h=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function mt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)gt(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)gt(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)gt(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var h in c={},e.tags)c[h]=e.tags[h];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(p.id=e.id),t.features.push(p)}}function gt(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function yt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)X(n,t.features[r],e,r);else X(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=nt(t,1,-1-n,n,0,-1,2,e),o=nt(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=nt(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=ct(i,1).concat(r)),o&&(r=r.concat(ct(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function vt(t,e,n){return 32*((1<<t)*n+e)+t}function _t(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new m(r.features),o=b(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}z.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],l=0;l<t.length;l++)t[l].geometry&&s.push(F(t[l],l));this.trees[i+1]=new R(s,q,K,o,Float32Array),n&&console.timeEnd(a);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new R(s,q,K,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},z.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var l=this.trees[this._limitZoom(e)],u=[],c=0,h=l.range(V(n),H(o),V(i),H(r));c<h.length;c+=1){var p=l.points[h[c]];u.push(p.numPoints?B(p):this.points[p.index])}return u},z.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],l=0,u=i.within(o.x,o.y,a);l<u.length;l+=1){var c=i.points[u[l]];c.parentId===t&&s.push(c.numPoints?B(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},z.prototype.getLeaves=function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r},z.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.radius/o.extent,s=(n-a)/i,l=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,l),r.points,e,n,i,u),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,l),r.points,i,n,i,u),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,l),r.points,-1,n,i,u),u.features.length?u:null},z.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},z.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(t,l.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},z.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var l=e[s[a]],u=l.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-n)),Math.round(this.options.extent*(l.y*i-r))]],tags:u?U(l):this.points[l.index].properties},h=void 0;u?h=l.id:this.options.generateId?h=l.index:this.points[l.index].id&&(h=this.points[l.index].id),void 0!==h&&(c.id=h),o.features.push(c)}},z.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))},z.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,e)),s=0;s<t.length;s++){var l=t[s];if(!(l.zoom<=e)){l.zoom=e;for(var u=this.trees[e+1],c=u.within(l.x,l.y,a),h=l.numPoints||1,p=h,f=0,d=c;f<d.length;f+=1){var m=u.points[d[f]];m.zoom>e&&(p+=m.numPoints||1)}if(p>=o){for(var g=l.x*h,y=l.y*h,v=i&&h>1?this._map(l,!0):null,_=(s<<5)+(e+1)+this.points.length,b=0,x=c;b<x.length;b+=1){var w=u.points[x[b]];if(!(w.zoom<=e)){w.zoom=e;var S=w.numPoints||1;g+=w.x*S,y+=w.y*S,w.parentId=_,i&&(v||(v=this._map(l,!0)),i(v,this._map(w)))}}l.parentId=_,n.push(N(g/p,y/p,_,p,v))}else if(n.push(l),p>1)for(var E=0,O=c;E<O.length;E+=1){var k=u.points[O[E]];k.zoom<=e||(k.zoom=e,n.push(k))}}}return n},z.prototype._getOriginId=function(t){return t-this.points.length>>5},z.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},z.prototype._map=function(t,e){if(t.numPoints)return e?W({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?W({},r):r},yt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},yt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,h=vt(e,n,r),p=this.tiles[h];if(!p&&(u>1&&console.time("creation"),p=this.tiles[h]=dt(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var f="z"+e;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(p.source=t,i){if(e===l.maxZoom||e===i)continue;var d=1<<i-e;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(e===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==t.length){u>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,S=.5+x,E=1+x;m=g=y=v=null,_=nt(t,c,n-x,n+S,0,p.minX,p.maxX,l),b=nt(t,c,n+w,n+E,0,p.minX,p.maxX,l),t=null,_&&(m=nt(_,c,r-x,r+S,1,p.minY,p.maxY,l),g=nt(_,c,r+w,r+E,1,p.minY,p.maxY,l),_=null),b&&(y=nt(b,c,r-x,r+S,1,p.minY,p.maxY,l),v=nt(b,c,r+w,r+E,1,p.minY,p.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(g||[],e+1,2*n,2*r+1),s.push(y||[],e+1,2*n+1,2*r),s.push(v||[],e+1,2*n+1,2*r+1)}}},yt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=vt(t,e=(e%a+a)%a,n);if(this.tiles[s])return pt(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,u=t,c=e,h=n;!l&&u>0;)u--,c=Math.floor(c/2),h=Math.floor(h/2),l=this.tiles[vt(u,c,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,h),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,h,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pt(this.tiles[s],i):null):null};var bt=function(e){function n(t,n,r,i){e.call(this,t,n,r,_t),i&&(this.loadGeoJSON=i)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)h(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)h(e.coordinates[r],n);return e}(a,!0);try{if(r.filter){var s=t.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(t){return t.key+": "+t.message})).join(", "));var l=a.features.filter((function(t){return s.value.evaluate({zoom:0},t)}));a={type:"FeatureCollection",features:l}}e._geoJSONIndex=r.cluster?new z(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u+=1){var h=c[u],p=r[h],f=p[0],d=t.createExpression(p[1]),m=t.createExpression("string"==typeof f?[f,["accumulated"],["get",h]]:f);i[h]=d.value,o[h]=m.value}return n.map=function(t){s.properties=t;for(var e={},n=0,r=l;n<r.length;n+=1){var o=r[n];e[o]=i[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,r=l;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(t,e){return new yt(t,e)}(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var u={};if(i){var c=i.finish();c&&(u.resourceTiming={},u.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,u)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(l),xt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:bt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return xt.prototype.setReferrer=function(t,e){this.referrer=e},xt.prototype.setImages=function(t,e,n){for(var r in this.availableImages[t]=e,this.workerSources[t]){var i=this.workerSources[t][r];for(var o in i)i[o].availableImages=e}n()},xt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},xt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},xt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},xt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},xt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},xt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},xt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},xt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},xt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},xt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},xt.prototype.syncRTLPluginState=function(e,n,r){try{t.plugin.setState(n);var i=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=t.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(t){r(t.toString())}},xt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},xt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},xt.prototype.getWorkerSource=function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i){r.actor.send(e,n,i,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},xt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new c),this.demWorkerSources[t][e]},xt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xt(self)),xt})),r(["./shared"],(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!n(t)}function n(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===r[n=t&&t.failIfMajorPerformanceCaveat]&&(r[n]=function(t){var n=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=n);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,r){var i=t.window.document.createElement(e);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},r=t.window.document&&t.window.document.documentElement.style;function i(t){if(!r)return t[0];for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});t.window.addEventListener("test",u,u),t.window.removeEventListener("test",u,u)}catch(t){l=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&l?r:r.capture)},n.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),t.removeEventListener(e,n,"passive"in r&&l?r:r.capture)};var c=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",c,!0)};function h(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(e,n){var r=e.getBoundingClientRect();return new t.Point(n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},n.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new t.Point(n[o].clientX-r.left-e.clientLeft,n[o].clientY-r.top-e.clientTop));return i},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var p=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},n.prototype._validate=function(e,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||e<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,h=this.images[s].data,p=h.width,f=h.height;t.RGBAImage.copy(h,a,{x:0,y:0},{x:u,y:c},{width:p,height:f}),t.RGBAImage.copy(h,a,{x:0,y:f-1},{x:u,y:c-1},{width:p,height:1}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:u,y:c+f},{width:p,height:1}),t.RGBAImage.copy(h,a,{x:p-1,y:0},{x:u-1,y:c},{width:1,height:f}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:u+p,y:c},{width:1,height:f})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];h(i)&&this.updateImage(r,i)}}},n}(t.Evented),f=g,d=g,m=1e20;function g(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var l=0;l<n;l++)r[l]=t[l*e+s];for(v(r,i,o,a,n),l=0;l<n;l++)t[l*e+s]=i[l]}for(l=0;l<n;l++){for(s=0;s<e;s++)r[s]=t[l*e+s];for(v(r,i,o,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(i[s])}}function v(t,e,n,r,i){n[0]=0,r[0]=-m,r[1]=+m;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+m}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}g.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?m:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?m:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},f.default=d;var _=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};_.prototype.setURL=function(t){this.url=t},_.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void e(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])e(null,{stack:n,id:i,glyph:a});else{var l=o.requests[s];l||(l=o.requests[s]=[],_.loadGlyphRange(n,s,r.url,r.requestManager,(function(t,e){if(e){for(var n in e)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);o.ranges[s]=!0}for(var i=0,a=l;i<a.length;i+=1)(0,a[i])(t,e);delete o.requests[s]}))),l.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}}))},_.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},_.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new _.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,l=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},_.TinySDF=f;var b=function(){this.specification=t.styleSpec.light.position};b.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},b.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var x=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new b,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),w=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(x),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-11),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),S=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};S.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},S.prototype.getDashRanges=function(t,e,n){var r=[],i=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===t[0]});for(var s=t[0],l=1;l<t.length;l++){var u=t[l];r.push({left:i=s*n,right:o=(s+=u)*n,isDash:a=!a,zeroLength:0===u})}return r},S.prototype.addRoundDash=function(t,e,n){for(var r=e/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=t[a],l=0;l<this.width;l++){l/s.right>1&&(s=t[++a]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),h=Math.min(u,c),p=void 0,f=i/n*(r+1);if(s.isDash){var d=r-Math.abs(f);p=Math.sqrt(h*h+d*d)}else p=r-Math.sqrt(h*h+f*f);this.data[o+l]=Math.max(0,Math.min(255,p+128))}},S.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],r=t[e+1];n.zeroLength?t.splice(e,1):r&&r.isDash===n.isDash&&(r.left=n.left,t.splice(e,1))}var i=t[0],o=t[t.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,l=t[s],u=0;u<this.width;u++){u/l.right>1&&(l=t[++s]);var c=Math.abs(u-l.left),h=Math.abs(u-l.right),p=Math.min(c,h);this.data[a+u]=Math.max(0,Math.min(255,(l.isDash?p:-p)+128))}},S.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];if(0!==o){var s=this.width/o,l=this.getDashRanges(e,this.width,s);n?this.addRoundDash(l,s,r):this.addRegularDash(l)}var u={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,u},S.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var E=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new e.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function O(e,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),a.tiles=n.canonicalizeTileset(a,e.url),r(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}E.prototype.broadcast=function(e,n,r){t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r=r||function(){})},E.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},E.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},E.Actor=t.Actor;var k=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};k.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},k.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var M=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new k(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setSourceProperty=function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(t){var e=this;return this.setSourceProperty((function(){e._options.tiles=t})),this},n.prototype.setUrl=function(t){var e=this;return this.setSourceProperty((function(){e.url=t,e._options.url=t})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",i,o.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),C=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new k(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this,i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),T=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?o:t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(C),P=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),e(t))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),A=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),I=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var u=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),h=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+i)/2*h),Math.floor((r+o)/2*h))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),D=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],t.ResourceType.Source).url);t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.setAttribute("playsinline",""),e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(I),j=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(I),R={vector:M,raster:C,"raster-dem":T,geojson:P,video:D,image:I,canvas:j};function L(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function z(t,e,n,r,i,o){var a=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,e,t.id),s=o.maxPitchScaleFactor(),l=t.tilesIn(r,s,a);l.sort(N);for(var u=[],c=0,h=l;c<h.length;c+=1){var p=h[c];u.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,n,t._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,i,o,s,L(t.transform,p.tileID))})}var f=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],h=l[u]=l[u]||{},p=e[u]=e[u]||[],f=0,d=c;f<d.length;f+=1){var m=d[f];h[m.featureIndex]||(h[m.featureIndex]=!0,p.push(m))}}return e}(u);for(var d in f)f[d].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return f}function N(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var F=function(t,e){this.max=t,this.onRemove=e,this.reset()};F.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},F.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},F.prototype.has=function(t){return t.wrapped().key in this.data},F.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},F.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},F.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},F.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},F.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},F.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},F.prototype.filter=function(t){var e=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];t(o.value)||e.push(o)}for(var a=0,s=e;a<s.length;a+=1){var l=s[a];this.remove(l.value.tileID,l)}};var B=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},V.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}},V.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[U[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var H=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};H.prototype.get=function(){return this.current},H.prototype.set=function(t){},H.prototype.getDefault=function(){return this.default},H.prototype.setDefault=function(){this.set(this.default)};var W=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(H),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(H),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(H),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(H),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(H),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(H),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(H),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(H),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(H),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(H),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(H),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(H),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(H),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(H),it=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(H),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(H),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(H),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(H),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(H),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(H),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(H),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(H),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(H),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(H),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(H),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(H),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(H),yt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(H),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(H),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(H),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(H),xt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(H),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(xt),St=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(xt),Et=function(t,e,n,r){this.context=t,this.width=e,this.height=n;var i=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new wt(t,i),r&&(this.depthAttachment=new St(t,i))};Et.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)};var Ot=function(t,e,n){this.func=t,this.mask=e,this.range=n};Ot.ReadOnly=!1,Ot.ReadWrite=!0,Ot.disabled=new Ot(519,Ot.ReadOnly,[0,1]);var kt=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};kt.disabled=new kt({func:519,mask:0},0,0,7680,7680,7680);var Mt=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Mt.disabled=new Mt(Mt.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Mt.unblended=new Mt(Mt.Replace,t.Color.transparent,[!0,!0,!0,!0]),Mt.alphaBlended=new Mt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Ct=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var Tt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new q(this),this.clearStencil=new K(this),this.colorMask=new Y(this),this.depthMask=new Z(this),this.stencilMask=new G(this),this.stencilFunc=new X(this),this.stencilOp=new J(this),this.stencilTest=new $(this),this.depthRange=new Q(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new nt(this),this.blendFunc=new rt(this),this.blendColor=new it(this),this.blendEquation=new ot(this),this.cullFace=new at(this),this.cullFaceSide=new st(this),this.frontFace=new lt(this),this.program=new ut(this),this.activeTexture=new ct(this),this.viewport=new ht(this),this.bindFramebuffer=new pt(this),this.bindRenderbuffer=new ft(this),this.bindTexture=new dt(this),this.bindVertexBuffer=new mt(this),this.bindElementBuffer=new gt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new yt(this),this.pixelStoreUnpack=new vt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)};Tt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Tt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Tt.prototype.createIndexBuffer=function(t,e){return new B(this,t,e)},Tt.prototype.createVertexBuffer=function(t,e,n){return new V(this,t,e,n)},Tt.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Tt.prototype.createFramebuffer=function(t,e,n){return new Et(this,t,e,n)},Tt.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Tt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Tt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Tt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Tt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,Mt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Tt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Pt=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(e,n,r,i){var o=new R[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new F(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(At).map((function(t){return t.key}))},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,e)&&r.push(this._tiles[i]);return e?r.sort((function(e,r){var i=e.tileID,o=r.tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(t){return t.tileID.key})):r.map((function(t){return t.tileID})).sort(At).map((function(t){return t.key}))},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var r=t.overscaledZ-1;r>=e;r--){var i=t.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,r=Math.floor(e*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return r._source.hasTile(t)})))):i=[];var o=e.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(It(this._source.type)){for(var u={},c={},h=0,p=Object.keys(l);h<p.length;h+=1){var f=p[h],d=l[f],m=this._tiles[f];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var g=this.findLoadedParent(d,a);g&&(this._addTile(g.tileID),u[g.tileID.key]=g.tileID),c[f]=d}}for(var y in this._retainLoadedChildren(c,o,s,l),u)l[y]||(this._coveredTiles[y]=!0,l[y]=u[y])}for(var v in l)this._tiles[v].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,l);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=t;l<u.length;l+=1){var c=u[l],h=this._addTile(c);r[c.key]=c,h.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,r);for(var p=0,f=t;p<f.length;p+=1){var d=f[p],m=this._tiles[d.key];if(!m.hasData()){if(e+1>this._source.maxzoom){var g=d.children(this._source.maxzoom)[0],y=this.getTile(g);if(y&&y.hasData()){r[g.key]=g;continue}}else{var v=d.children(this._source.maxzoom);if(r[v[0].key]&&r[v[1].key]&&r[v[2].key]&&r[v[3].key])continue}for(var _=m.wasRequested(),b=d.overscaledZ-1;b>=o;--b){var x=d.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(m=this.getTile(x))&&_&&(m=this._addTile(x)),m&&(r[x.key]=x,_=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,r=this._tiles[t].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}e.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=e;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(e):e,l=e.map((function(t){return a.pointCoordinate(t)})),u=s.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),h=1/0,p=1/0,f=-1/0,d=-1/0,m=0,g=u;m<g.length;m+=1){var y=g[m];h=Math.min(h,y.x),p=Math.min(p,y.y),f=Math.max(f,y.x),d=Math.max(d,y.y)}for(var v=function(e){var r=i._tiles[c[e]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,a.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*t.EXTENT/r.tileSize/m,y=[s.getTilePoint(new t.MercatorCoordinate(h,p)),s.getTilePoint(new t.MercatorCoordinate(f,d))];if(y[0].x-g<t.EXTENT&&y[0].y-g<t.EXTENT&&y[1].x+g>=0&&y[1].y+g>=0){var v=l.map((function(t){return s.getTilePoint(t)})),_=u.map((function(t){return s.getTilePoint(t)}));o.push({tile:r,tileID:s,queryGeometry:v,cameraQueryGeometry:_,scale:m})}}},_=0;_<c.length;_++)v(_);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(It(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var r=this._tiles[t];r&&r.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))},n}(t.Evented);function At(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function It(t){return"raster"===t||"image"===t||"video"===t}function Dt(){return new t.window.Worker(Gi.workerUrl)}Pt.maxOverzooming=10,Pt.maxUnderzooming=3;var jt="mapboxgl_preloaded_worker_pool",Rt=function(){this.active={}};Rt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Rt.workerCount;)this.workers.push(new Dt);return this.active[t]=!0,this.workers.slice()},Rt.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)},Rt.prototype.isPreloaded=function(){return!!this.active[jt]},Rt.prototype.numActive=function(){return Object.keys(this.active).length};var Lt,zt=Math.floor(t.browser.hardwareConcurrency/2);function Nt(){return Lt||(Lt=new Rt),Lt}function Ft(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function Bt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Ft(t[r],e[t[r].ref]));return t}Rt.workerCount=Math.max(Math.min(zt,6),1);var Ut={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Vt(t,e,n){n.push({command:Ut.addSource,args:[t,e[t]]})}function Ht(t,e,n){e.push({command:Ut.removeSource,args:[t]}),n[t]=!0}function Wt(t,e,n,r){Ht(t,n,r),Vt(t,e,n)}function qt(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function Kt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Yt(t){return t.id}function Zt(t,e){return t[e.id]=e,t}var Gt=function(t,e){this.reset(t,e)};Gt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Gt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,r=this._distances[n],i=e*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))};var Xt=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Jt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function $t(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Qt(e,n){var r=[e.x,e.y,0,1];ce(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function te(t,e){return.5+t/e*.5}function ee(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function ne(e,n,r,i,o,a,s,l){var u=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(u,r.transform.zoom),h=[256/r.width*2+1,256/r.height*2+1],p=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var f=e.lineVertexArray,d=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=r.transform.width/r.transform.height,g=!1,y=0;y<d.length;y++){var v=d.get(y);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!g)ue(v.numGlyphs,p);else{g=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(_,_,n),ee(_,h)){var b=te(r.transform.cameraToCenterDistance,_[3]),x=t.evaluateSizeForFeature(u,c,v),w=s?x/b:x*b,S=new t.Point(v.anchorX,v.anchorY),E=Qt(S,o).point,O={},k=oe(v,w,!1,l,n,o,a,e.glyphOffsetArray,f,p,E,S,O,m);g=k.useVertical,(k.notEnoughRoom||g||k.needsFlipping&&oe(v,w,!0,l,n,o,a,e.glyphOffsetArray,f,p,E,S,O,m).notEnoughRoom)&&ue(v.numGlyphs,p)}else ue(v.numGlyphs,p)}}i?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function re(t,e,n,r,i,o,a,s,l,u,c){var h=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,d=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(h-1),g=se(t*d,n,r,i,o,a,s.segment,p,f,l,u,c);if(!g)return null;var y=se(t*m,n,r,i,o,a,s.segment,p,f,l,u,c);return y?{first:g,last:y}:null}function ie(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function oe(e,n,r,i,o,a,s,l,u,c,h,p,f,d){var m,g=n/24,y=e.lineOffsetX*g,v=e.lineOffsetY*g;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=re(g,l,y,v,r,h,p,e,u,a,f);if(!w)return{notEnoughRoom:!0};var S=Qt(w.first.point,s).point,E=Qt(w.last.point,s).point;if(i&&!r){var O=ie(e.writingMode,S,E,d);if(O)return O}m=[w.first];for(var k=e.glyphStartIndex+1;k<_-1;k++)m.push(se(g*l.getoffsetX(k),y,v,r,h,p,e.segment,b,x,u,a,f));m.push(w.last)}else{if(i&&!r){var M=Qt(p,o).point,C=e.lineStartIndex+e.segment+1,T=new t.Point(u.getx(C),u.gety(C)),P=Qt(T,o),A=P.signedDistanceFromCamera>0?P.point:ae(p,T,M,1,o),I=ie(e.writingMode,M,A,d);if(I)return I}var D=se(g*l.getoffsetX(e.glyphStartIndex),y,v,r,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,a,f);if(!D)return{notEnoughRoom:!0};m=[D]}for(var j=0,R=m;j<R.length;j+=1){var L=R[j];t.addDynamicAttributes(c,L.point,L.angle)}return{}}function ae(t,e,n,r,i){var o=Qt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function se(e,n,r,i,o,a,s,l,u,c,h,p){var f=i?e-n:e+n,d=f>0?1:-1,m=0;i&&(d*=-1,m=Math.PI),d<0&&(m+=Math.PI);for(var g=d>0?l+s:l+s+1,y=o,v=o,_=0,b=0,x=Math.abs(f),w=[];_+b<=x;){if((g+=d)<l||g>=u)return null;if(v=y,w.push(y),void 0===(y=p[g])){var S=new t.Point(c.getx(g),c.gety(g)),E=Qt(S,h);if(E.signedDistanceFromCamera>0)y=p[g]=E.point;else{var O=g-d;y=ae(0===_?a:new t.Point(c.getx(O),c.gety(O)),S,v,x-_+1,h)}}_+=b,b=v.dist(y)}var k=(x-_)/b,M=y.sub(v),C=M.mult(k)._add(v);C._add(M._unit()._perp()._mult(r*d));var T=m+Math.atan2(y.y-v.y,y.x-v.x);return w.push(C),{point:C,angle:T,path:w}}Xt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Xt.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Xt.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Xt.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Xt.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Xt.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],h=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-h,y1:c-h,x2:u+h,y2:c+h})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Xt.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u},Xt.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Xt.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Xt.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Xt.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,h=0,p=u;h<p.length;h+=1){var f=p[h];if(!l.box[f]){l.box[f]=!0;var d=4*f;if(t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var m=this.circleCells[i];if(null!==m)for(var g=this.circles,y=0,v=m;y<v.length;y+=1){var _=v[y];if(!l.circle[_]){l.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=g[b],w=g[b+1],S=g[b+2];o.push({key:this.circleKeys[_],x1:x-S,y1:w-S,x2:x+S,y2:w+S})}}}},Xt.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var h=this.bboxes,p=0,f=c;p<f.length;p+=1){var d=f[p];if(!u.box[d]){u.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,h[m+0],h[m+1],h[m+2],h[m+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,v=0,_=g;v<_.length;v+=1){var b=_[v];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(y[x],y[x+1],y[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Xt.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(r),p=l;p<=c;p++)for(var f=u;f<=h;f++)if(i.call(this,t,e,n,r,this.xCellCount*f+p,o,a,s))return},Xt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Xt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Xt.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return l*l>a*a+s*s},Xt.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var h=l-s,p=c-u;return h*h+p*p<=n*n};var le=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ue(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(le,3*r)}}function ce(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var he=function(t,e,n){void 0===e&&(e=new Xt(t.width+200,t.height+200,25)),void 0===n&&(n=new Xt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function pe(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,l=t.y1*a+o.point.y,u=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!e&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},he.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,l,u,c,h,p,f){var d=[],m=new t.Point(n.anchorX,n.anchorY),g=Qt(m,a),y=te(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),v=(c?o/y:o*y)/t.ONE_EM,_=Qt(m,s).point,b=re(v,i,n.lineOffsetX*v,n.lineOffsetY*v,!1,_,m,n,r,s,{}),x=!1,w=!1,S=!0;if(b){for(var E=.5*p*y+f,O=new t.Point(-100,-100),k=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),M=new Gt,C=b.first,T=b.last,P=[],A=C.path.length-1;A>=1;A--)P.push(C.path[A]);for(var I=1;I<T.path.length;I++)P.push(T.path[I]);var D=2.5*E;if(l){var j=P.map((function(t){return Qt(t,l)}));P=j.some((function(t){return t.signedDistanceFromCamera<=0}))?[]:j.map((function(t){return t.point}))}var R=[];if(P.length>0){for(var L=P[0].clone(),z=P[0].clone(),N=1;N<P.length;N++)L.x=Math.min(L.x,P[N].x),L.y=Math.min(L.y,P[N].y),z.x=Math.max(z.x,P[N].x),z.y=Math.max(z.y,P[N].y);R=L.x>=O.x&&z.x<=k.x&&L.y>=O.y&&z.y<=k.y?[P]:z.x<O.x||L.x>k.x||z.y<O.y||L.y>k.y?[]:t.clipLine([P],O.x,O.y,k.x,k.y)}for(var F=0,B=R;F<B.length;F+=1){var U;M.reset(B[F],.25*E),U=M.length<=.5*E?1:Math.ceil(M.paddedLength/D)+1;for(var V=0;V<U;V++){var H=V/Math.max(U-1,1),W=M.lerp(H),q=W.x+100,K=W.y+100;d.push(q,K,E,0);var Y=q-E,Z=K-E,G=q+E,X=K+E;if(S=S&&this.isOffscreen(Y,Z,G,X),w=w||this.isInsideGrid(Y,Z,G,X),!e&&this.grid.hitTestCircle(q,K,E,h)&&(x=!0,!u))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!u&&x||!w?[]:d,offscreen:S,collisionDetected:x}},he.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=e;s<l.length;s+=1){var u=l[s],c=new t.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var h={},p={},f=0,d=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));f<d.length;f+=1){var m=d[f],g=m.key;if(void 0===h[g.bucketInstanceId]&&(h[g.bucketInstanceId]={}),!h[g.bucketInstanceId][g.featureIndex]){var y=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(n,y)&&(h[g.bucketInstanceId][g.featureIndex]=!0,void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]=[]),p[g.bucketInstanceId].push(g.featureIndex))}}return p},he.prototype.insertCollisionBox=function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])},he.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},he.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return ce(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},he.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},he.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var fe=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};fe.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var de=function(t,e,n,r,i){this.text=new fe(t?t.text:null,e,n,i),this.icon=new fe(t?t.icon:null,e,r,i)};de.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var me=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},ge=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},ye=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},ve=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function _e(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,l=-(a.verticalAlign-.5)*r,u=t.evaluateVariableOffset(e,i);return new t.Point(s+u[0]*o,l+u[1]*o)}function be(e,n,r,i,o,a){var s=e.x1,l=e.x2,u=e.y1,c=e.y2,h=e.anchorPointX,p=e.anchorPointY,f=new t.Point(n,r);return i&&f._rotate(o?a:-a),{x1:s+f.x,y1:u+f.y,x2:l+f.x,y2:c+f.y,anchorPointX:h,anchorPointY:p}}ve.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var xe=function(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ve(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function we(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}xe.prototype.getBucketParts=function(e,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/t.EXTENT,h=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===l.get("text-pitch-alignment"),f="map"===l.get("text-rotation-alignment"),d=pe(r,1,this.transform.zoom),m=Jt(h,p,f,this.transform,d),g=null;if(p){var y=$t(h,p,f,this.transform,d);g=t.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new ye(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var v={bucket:o,layout:l,posMatrix:h,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var _=0,b=o.sortKeyRanges;_<b.length;_+=1){var x=b[_];e.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:v})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:v})}},xe.prototype.attemptAnchorPlacement=function(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d){var m,g=[h.textOffset0,h.textOffset1],y=_e(t,n,r,g,i),v=this.collisionIndex.placeCollisionBox(be(e,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(be(d,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate).box.length)return v.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(m=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:g,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:m},this.markUsedJustification(p,t,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[h.crossTileID]=f),{shift:y,placedGlyphBoxes:v}):void 0},xe.prototype.placeLayerBucketPart=function(e,n,r){var i=this,o=e.parameters,a=o.bucket,s=o.layout,l=o.posMatrix,u=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,h=o.textPixelRatio,p=o.holdingForFade,f=o.collisionBoxArray,d=o.partiallyEvaluatedTextSize,m=o.collisionGroup,g=s.get("text-optional"),y=s.get("icon-optional"),v=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),E=v&&(_||!a.hasIconData()||y),O=_&&(v||!a.hasTextData()||g);!a.collisionArrays&&f&&a.deserializeCollisionBoxes(f);var k=function(e,o){if(!n[e.crossTileID])if(p)i.placements[e.crossTileID]=new me(!1,!1,!1);else{var f,S=!1,k=!1,M=!0,C=null,T={box:null,offscreen:null},P={box:null,offscreen:null},A=null,I=null,D=0,j=0,R=0;o.textFeatureIndex?D=o.textFeatureIndex:e.useRuntimeCollisionCircles&&(D=e.featureIndex),o.verticalTextFeatureIndex&&(j=o.verticalTextFeatureIndex);var L=o.textBox;if(L){var z=function(n){var r=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[e.crossTileID];o&&(i.placedOrientations[e.crossTileID]=o,i.markUsedOrientation(a,r=o,e))}return r},N=function(n,r){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===t.WritingMode.vertical?(T=r(),P=T):T=n(),!(T&&T.box&&T.box.length));i+=1);else T=n()};if(s.get("text-variable-anchor")){var F=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[e.crossTileID]){var B=i.prevPlacement.variableOffsets[e.crossTileID];F.indexOf(B.anchor)>0&&(F=F.filter((function(t){return t!==B.anchor}))).unshift(B.anchor)}var U=function(t,n,r){for(var o=t.x2-t.x1,s=t.y2-t.y1,u=e.textBoxScale,c=w&&!_?n:null,p={box:[],offscreen:!1},f=v?2*F.length:F.length,d=0;d<f;++d){var g=i.attemptAnchorPlacement(F[d%F.length],t,o,s,u,b,x,h,l,m,d>=F.length,e,a,r,c);if(g&&(p=g.placedGlyphBoxes)&&p.box&&p.box.length){S=!0,C=g.shift;break}}return p};N((function(){return U(L,o.iconBox,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(T&&T.box&&T.box.length)&&e.numVerticalGlyphVertices>0&&n?U(n,o.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),T&&(S=T.box,M=T.offscreen);var V=z(T&&T.box);if(!S&&i.prevPlacement){var H=i.prevPlacement.variableOffsets[e.crossTileID];H&&(i.variableOffsets[e.crossTileID]=H,i.markUsedJustification(a,H.anchor,e,V))}}else{var W=function(t,n){var r=i.collisionIndex.placeCollisionBox(t,v,h,l,m.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,e),i.placedOrientations[e.crossTileID]=n),r};N((function(){return W(L,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?W(n,t.WritingMode.vertical):{box:null,offscreen:null}})),z(T&&T.box&&T.box.length)}}if(S=(f=T)&&f.box&&f.box.length>0,M=f&&f.offscreen,e.useRuntimeCollisionCircles){var q=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),K=t.evaluateSizeForFeature(a.textSizeData,d,q),Y=s.get("text-padding");A=i.collisionIndex.placeCollisionCircles(v,q,a.lineVertexArray,a.glyphOffsetArray,K,l,u,c,r,x,m.predicate,e.collisionCircleDiameter,Y),S=v||A.circles.length>0&&!A.collisionDetected,M=M&&A.offscreen}if(o.iconFeatureIndex&&(R=o.iconFeatureIndex),o.iconBox){var Z=function(t){var e=w&&C?be(t,C.x,C.y,b,x,i.transform.angle):t;return i.collisionIndex.placeCollisionBox(e,_,h,l,m.predicate)};k=P&&P.box&&P.box.length&&o.verticalIconBox?(I=Z(o.verticalIconBox)).box.length>0:(I=Z(o.iconBox)).box.length>0,M=M&&I.offscreen}var G=g||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,X=y||0===e.numIconVertices;if(G||X?X?G||(k=k&&S):S=k&&S:k=S=k&&S,S&&f&&f.box&&i.collisionIndex.insertCollisionBox(f.box,s.get("text-ignore-placement"),a.bucketInstanceId,P&&P.box&&j?j:D,m.ID),k&&I&&i.collisionIndex.insertCollisionBox(I.box,s.get("icon-ignore-placement"),a.bucketInstanceId,R,m.ID),A&&(S&&i.collisionIndex.insertCollisionCircles(A.circles,s.get("text-ignore-placement"),a.bucketInstanceId,D,m.ID),r)){var J=a.bucketInstanceId,$=i.collisionCircleArrays[J];void 0===$&&($=i.collisionCircleArrays[J]=new ge);for(var Q=0;Q<A.circles.length;Q+=4)$.circles.push(A.circles[Q+0]),$.circles.push(A.circles[Q+1]),$.circles.push(A.circles[Q+2]),$.circles.push(A.collisionDetected?1:0)}i.placements[e.crossTileID]=new me(S||E,k||O,M||a.justReloaded),n[e.crossTileID]=!0}};if(S)for(var M=a.getSortedSymbolIndexes(this.transform.angle),C=M.length-1;C>=0;--C){var T=M[C];k(a.symbolInstances.get(T),a.collisionArrays[T])}else for(var P=e.symbolInstanceStart;P<e.symbolInstanceEnd;P++)k(a.symbolInstances.get(P),a.collisionArrays[P]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var A=this.collisionCircleArrays[a.bucketInstanceId];t.invert(A.invProjMatrix,l),A.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},xe.prototype.markUsedJustification=function(e,n,r,i){var o;o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var l=s[a];l>=0&&(e.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:r.crossTileID)}},xe.prototype.markUsedOrientation=function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},xe.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new de(u,r,l.text,l.icon),n=n||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new de(null,r,l.text,l.icon,l.skipFade),n=n||l.text||l.icon)}for(var c in i){var h=i[c];if(!this.opacities[c]){var p=new de(h,r,!1,!1);p.isHidden()||(this.opacities[c]=p,n=n||h.text.placed||h.icon.placed)}}for(var f in o)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=o[f]);for(var d in a)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=a[d]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},xe.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},xe.prototype.updateBucketOpacities=function(e,n,r){var i=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new de(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),l=o.get("icon-allow-overlap"),u=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),h="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),f=new de(null,0,s&&(l||!e.hasIconData()||o.get("icon-optional")),l&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);for(var d=function(t,e,n){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n)},m=function(r){var o=e.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,l=o.numVerticalGlyphVertices,m=o.crossTileID,g=i.opacities[m];n[m]?g=a:g||(i.opacities[m]=g=f),n[m]=!0;var y=o.numIconVertices>0,v=i.placedOrientations[o.crossTileID],_=v===t.WritingMode.vertical,b=v===t.WritingMode.horizontal||v===t.WritingMode.horizontalOnly;if(s>0||l>0){var x=Pe(g.text);d(e.text,s,_?Ae:x),d(e.text,l,b?Ae:x);var w=g.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||_?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var S=i.variableOffsets[o.crossTileID];S&&i.markUsedJustification(e,S.anchor,o,v);var E=i.placedOrientations[o.crossTileID];E&&(i.markUsedJustification(e,"left",o,E),i.markUsedOrientation(e,E,o))}if(y){var O=Pe(g.icon),k=!(p&&o.verticalPlacedIconSymbolIndex&&_);o.placedIconSymbolIndex>=0&&(d(e.icon,o.numIconVertices,k?O:Ae),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=g.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(d(e.icon,o.numVerticalIconVertices,k?Ae:O),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var M=e.collisionArrays[r];if(M){var C=new t.Point(0,0);if(M.textBox||M.verticalTextBox){var T=!0;if(u){var P=i.variableOffsets[m];P?(C=_e(P.anchor,P.width,P.height,P.textOffset,P.textBoxScale),c&&C._rotate(h?i.transform.angle:-i.transform.angle)):T=!1}M.textBox&&we(e.textCollisionBox.collisionVertexArray,g.text.placed,!T||_,C.x,C.y),M.verticalTextBox&&we(e.textCollisionBox.collisionVertexArray,g.text.placed,!T||b,C.x,C.y)}var A=Boolean(!b&&M.verticalIconBox);M.iconBox&&we(e.iconCollisionBox.collisionVertexArray,g.icon.placed,A,p?C.x:0,p?C.y:0),M.verticalIconBox&&we(e.iconCollisionBox.collisionVertexArray,g.icon.placed,!A,p?C.x:0,p?C.y:0)}}},g=0;g<e.symbolInstances.length;g++)m(g);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=y.invProjMatrix,e.placementViewportMatrix=y.viewportMatrix,e.collisionCircleArray=y.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},xe.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xe.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},xe.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},xe.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},xe.prototype.setStale=function(){this.stale=!0};var Se=Math.pow(2,25),Ee=Math.pow(2,24),Oe=Math.pow(2,17),ke=Math.pow(2,16),Me=Math.pow(2,9),Ce=Math.pow(2,8),Te=Math.pow(2,1);function Pe(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*Se+e*Ee+n*Oe+e*ke+n*Me+e*Ce+n*Te+e}var Ae=0,Ie=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Ie.prototype.continuePlacement=function(t,e,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var De=function(t,e,n,r,i,o,a){this.placement=new xe(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};De.prototype.isDone=function(){return this._done},De.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Ie(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},De.prototype.commit=function(t){return this.placement.commit(t),this.placement};var je=512/t.EXTENT/2,Re=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};Re.prototype.getScaledCoordinates=function(e,n){var r=je/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},Re.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Le=function(){this.maxCrossTileID=0};Le.prototype.generate=function(){return++this.maxCrossTileID};var ze=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ze.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},ze.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,i)}else{var u=a[t.scaledTo(Number(o)).key];u&&u.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var h=e.symbolInstances.get(c);h.crossTileID||(h.crossTileID=n.generate(),i[h.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Re(t,e.symbolInstances,e.bucketInstanceId),!0},ze.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[t][i[r].crossTileID]},ze.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Ne=function(){this.layerIndexes={},this.crossTileIDs=new Le,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ne.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new ze);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.getBucket(t);u&&t.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Ne.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Fe=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},Be=t.pick(Ut,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ue=t.pick(Ut,["setCenter","setZoom","setBearing","setPitch"]),Ve=function(){var e={},n=t.styleSpec.$version;for(var r in t.styleSpec.$root){var i,o=t.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(e[r]=i)}return e}(),He=function(e){function n(r,i){var o=this;void 0===i&&(i={}),e.call(this),this.map=r,this.dispatcher=new E(Nt(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new _(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new S(256,512),this.crossTileSymbolIndex=new Ne,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(e){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Ve,!1)},n.prototype._load=function(e,n){if(!n||!Fe(this,t.validateStyle(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(r,e.sources[r],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=Bt(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,a||(a=t,i=e,c())})),u=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){u=null,a||(a=t,o=e,c())}));function c(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,h=l.x,p=l.y,f=l.sdf,d=l.pixelRatio,m=l.stretchX,g=l.stretchY,y=l.content,v=new t.RGBAImage({width:u,height:c});t.RGBAImage.copy(e,v,{x:h,y:p},{x:0,y:0},{width:u,height:c}),n[s]={data:v,pixelRatio:d,sdf:f,stretchX:m,stretchY:g,content:y}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(e,this.map._requestManager,(function(e,r){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&e.push(i.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var l={};for(var u in this.sourceCaches){var c=this.sourceCaches[u];l[u]=c.used,c.used=!1}for(var h=0,p=this._order;h<p.length;h+=1){var f=this._layers[p[h]];f.recalculate(e,this._availableImages),!f.isHidden(e.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}for(var d in l){var m=this.sourceCaches[d];l[d]!==m.used&&m.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Fe(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Bt(e.layers);var r=function(e,n){if(!e)return[{command:Ut.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Ut.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:Ut.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:Ut.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:Ut.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:Ut.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:Ut.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:Ut.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:Ut.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:Ut.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Ht(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&qt(e,n,o)?r.push({command:Ut.setGeoJSONSourceData,args:[o,n[o].data]}):Wt(o,n,r,i)):Vt(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Ut.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,l,u,c,h=(e=e||[]).map(Yt),p=n.map(Yt),f=e.reduce(Zt,{}),d=n.reduce(Zt,{}),m=h.slice(),g=Object.create(null);for(i=0,o=0;i<h.length;i++)d.hasOwnProperty(a=h[i])?o++:(r.push({command:Ut.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<p.length;i++)m[m.length-1-i]!==(a=p[p.length-1-i])&&(f.hasOwnProperty(a)?(r.push({command:Ut.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Ut.addLayer,args:[d[a],u=m[m.length-i]]}),m.splice(m.length-i,0,a),g[a]=!0);for(i=0;i<p.length;i++)if(s=f[a=p[i]],l=d[a],!g[a]&&!t.deepEqual(s,l))if(t.deepEqual(s.source,l.source)&&t.deepEqual(s["source-layer"],l["source-layer"])&&t.deepEqual(s.type,l.type)){for(c in Kt(s.layout,l.layout,r,a,null,Ut.setLayoutProperty),Kt(s.paint,l.paint,r,a,null,Ut.setPaintProperty),t.deepEqual(s.filter,l.filter)||r.push({command:Ut.setFilter,args:[a,l.filter]}),t.deepEqual(s.minzoom,l.minzoom)&&t.deepEqual(s.maxzoom,l.maxzoom)||r.push({command:Ut.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Kt(s[c],l[c],r,a,c.slice(6),Ut.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:Ut.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Kt(s[c],l[c],r,a,c.slice(6),Ut.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:Ut.setLayerProperty,args:[a,c,l[c]]}))}else r.push({command:Ut.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],r.push({command:Ut.addLayer,args:[l,u]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Ut.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Ue)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in Be)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)},n.prototype._afterImageUpdated=function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new Pt(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(Fe(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.hasLayer=function(t){return t in this._layers},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,l=t;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,h=u;c<h.length;c+=1)i.push(h[c])}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var p=[],f=this._order.length-1;f>=0;f--){var d=this._order[f];if(n(d))for(var m=i.length-1;m>=0;m--){var g=i[m].feature;if(r[g.layer.id]<f)break;p.push(g),i.pop()}else for(var y=0,v=t;y<v.length;y+=1){var _=v[y][d];if(_)for(var b=0,x=_;b<x.length;b+=1)p.push(x[b].feature)}}return p},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||u.push(z(this.sourceCaches[c],this._layers,this._serializedLayers,e,n,r));return this.placement&&u.push(function(t,e,n,r,i,o,a){for(var s={},l=o.queryRenderedSymbols(r),u=[],c=0,h=Object.keys(l).map(Number);c<h.length;c+=1)u.push(a[h[c]]);u.sort(N);for(var p=function(){var n=d[f],r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,t);for(var o in r){var a=s[o]=s[o]||[],u=r[o];u.sort((function(t,e){var r=n.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(e.featureIndex)-i}return e.featureIndex-t.featureIndex}));for(var c=0,h=u;c<h.length;c+=1)a.push(h[c])}},f=0,d=u;f<d.length;f+=1)p();var m=function(e){s[e].forEach((function(r){var i=r.feature,o=n[t[e].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var g in s)m(g);return s}(this._layers,this._serializedLayers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Fe(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,l={},u=0,c=this._order;u<c.length;u+=1){var h=this._layers[c[u]];if("symbol"===h.type){if(!l[h.source]){var p=this.sourceCaches[h.source];l[h.source]=p.getRenderableIds(!0).map((function(t){return p.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(h,l[h.source],e.center.lng);a=a||f}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new De(e,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var d=0,m=this._order;d<m.length;d+=1){var g=this._layers[m[d]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,l[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[e.source];r&&r.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},n}(t.Evented);He.getSourceType=function(t){return R[t]},He.setSourceType=function(t,e){R[t]=e},He.registerForPluginStateChange=t.registerForPluginStateChange;var We=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),qe=vn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ke=vn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ye=vn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ze=vn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ge=vn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xe=vn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Je=vn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),$e=vn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qe=vn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tn=vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),en=vn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=vn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=vn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=vn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ln=vn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),un=vn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=vn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=vn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),fn=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),dn=vn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),mn=vn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),gn=vn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yn=vn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function vn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=e.match(/attribute ([\w]+) ([\w]+)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:t=t.replace(n,(function(t,e,n,r,i){return s[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var _n=Object.freeze({__proto__:null,prelude:qe,background:Ke,backgroundPattern:Ye,circle:Ze,clippingMask:Ge,heatmap:Xe,heatmapTexture:Je,collisionBox:$e,collisionCircle:Qe,debug:tn,fill:en,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:ln,hillshade:un,line:cn,lineGradient:hn,linePattern:pn,lineSDF:fn,raster:dn,symbolIcon:mn,symbolSDF:gn,symbolTextAndIcon:yn}),bn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xn(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var r=t[n].split(" ");e.push(r.pop())}return e}bn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(e,n,r,i,o,a,s)},bn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var h=l;h<s;h++)c.disableVertexAttribArray(h)}e.enableAttributes(c,t);for(var p=0,f=n;p<f.length;p+=1)f[p].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var d=0,m=n;d<m.length;d+=1){var g=m[d];g.bind(),g.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=l},bn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(t,e,n,r,i,o){var a=t.gl;this.program=a.createProgram();for(var s=xn(n.staticAttributes),l=r?r.getBinderAttributes():[],u=s.concat(l),c=n.staticUniforms?xn(n.staticUniforms):[],h=r?r.getBinderUniforms():[],p=[],f=0,d=c.concat(h);f<d.length;f+=1){var m=d[f];p.indexOf(m)<0&&p.push(m)}var g=r?r.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;");var y=g.concat(qe.fragmentSource,n.fragmentSource).join("\n"),v=g.concat(qe.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,v),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=u.length;for(var w=0;w<this.numAttributes;w++)u[w]&&(a.bindAttribLocation(this.program,w,u[w]),this.attributes[u[w]]=w);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(_);for(var S=0;S<p.length;S++){var E=p[S];if(E&&!x[E]){var O=a.getUniformLocation(this.program,E);O&&(x[E]=O)}}this.fixedUniforms=i(t,x),this.binderUniforms=r?r.getUniforms(t,x):[]}}};function Sn(t,e,n){var r=1/pe(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(t,e,n,r,i,o,a,s,l,u,c,h,p,f,d,m){var g,y=t.gl;if(!this.failedToCreate){for(var v in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);f&&f.setUniforms(t,this.binderUniforms,h,{zoom:p});for(var _=(g={},g[y.LINES]=2,g[y.TRIANGLES]=3,g[y.LINE_STRIP]=1,g)[e],b=0,x=c.get();b<x.length;b+=1){var w=x[b],S=w.vaos||(w.vaos={});(S[s]||(S[s]=new bn)).bind(t,this,l,f?f.getPaintVertexBuffers():[],u,w.vertexOffset,d,m),y.drawElements(e,w.primitiveLength*_,y.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var En=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(l,-n.transform.angle),t.transformMat3(s,s,l);var u=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},On=function(e,n,r,i,o,a,s){return t.extend(En(e,n,r,i),Sn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},kn=function(t){return{u_matrix:t}},Mn=function(e,n,r,i){return t.extend(kn(e),Sn(r,n,i))},Cn=function(t,e){return{u_matrix:t,u_world:e}},Tn=function(e,n,r,i,o){return t.extend(Mn(e,n,r,i),{u_world:o})},Pn=function(e,n,r,i){var o,a,s=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var l=pe(r,1,s.zoom);o=!0,a=[l,l]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},An=function(t,e,n){var r=pe(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},In=function(t,e,n){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Dn=function(t,e,n){return void 0===n&&(n=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}},jn=function(t){return{u_matrix:t}},Rn=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:pe(e,1,n),u_intensity:r}},Ln=function(e,n,r){var i=e.transform;return{u_matrix:Un(e,n,r),u_ratio:1/pe(n,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},zn=function(e,n,r,i){return t.extend(Ln(e,n,r),{u_image:0,u_image_height:i})},Nn=function(e,n,r,i){var o=e.transform,a=Bn(n,o);return{u_matrix:Un(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/pe(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Fn=function(e,n,r,i,o){var a=e.lineAtlas,s=Bn(n,e.transform),l="round"===r.layout.get("line-cap"),u=a.getDash(i.from,l),c=a.getDash(i.to,l),h=u.width*o.fromScale,p=c.width*o.toScale;return t.extend(Ln(e,n,r),{u_patternscale_a:[s/h,-u.height/2],u_patternscale_b:[s/p,-c.height/2],u_sdfgamma:a.width/(256*Math.min(h,p)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})};function Bn(t,e){return 1/pe(t,1,e.tileZoom)}function Un(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Vn=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Hn(i.paint.get("raster-hue-rotate"))};var o,a};function Hn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Wn,qn=function(t,e,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Kn=function(e,n,r,i,o,a,s,l,u,c,h){var p=o.transform;return t.extend(qn(e,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+h})},Yn=function(e,n,r,i,o,a,s,l,u,c){return t.extend(Kn(e,n,r,i,o,a,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},Zn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Gn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,h=c*(r.tileID.canonical.x+r.tileID.wrap*u),p=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/pe(r,1,n.transform.tileZoom),u_pixel_coord_upper:[h>>16,p>>16],u_pixel_coord_lower:[65535&h,65535&p]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},Xn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Jn(e,n,r,i,o,a,s){for(var l=e.context,u=l.gl,c=e.useProgram("collisionBox"),h=[],p=0,f=0,d=0;d<i.length;d++){var m=i[d],g=n.getTile(m),y=g.getBucket(r);if(y){var v=m.posMatrix;0===o[0]&&0===o[1]||(v=e.translatePosMatrix(m.posMatrix,g,o,a));var _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){var x=t.create(),w=v;t.mul(x,y.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(x,x,y.placementViewportMatrix),h.push({circleArray:b,circleOffset:f,transform:w,invTransform:x}),f=p+=b.length/4}_&&c.draw(l,u.LINES,Ot.disabled,kt.disabled,e.colorModeForRenderPass(),Ct.disabled,An(v,e.transform,g),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,e.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&h.length){var S=e.useProgram("collisionCircle"),E=new t.StructArrayLayout2f1f2i16;E.resize(4*p),E._trim();for(var O=0,k=0,M=h;k<M.length;k+=1)for(var C=M[k],T=0;T<C.circleArray.length/4;T++){var P=4*T,A=C.circleArray[P+0],I=C.circleArray[P+1],D=C.circleArray[P+2],j=C.circleArray[P+3];E.emplace(O++,A,I,D,j,0),E.emplace(O++,A,I,D,j,1),E.emplace(O++,A,I,D,j,2),E.emplace(O++,A,I,D,j,3)}(!Wn||Wn.length<2*p)&&(Wn=function(e){var n=2*e,r=new t.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(p));for(var R=l.createIndexBuffer(Wn,!0),L=l.createVertexBuffer(E,t.collisionCircleLayout.members,!0),z=0,N=h;z<N.length;z+=1){var F=N[z],B=In(F.transform,F.invTransform,e.transform);S.draw(l,u.TRIANGLES,Ot.disabled,kt.disabled,e.colorModeForRenderPass(),Ct.disabled,B,r.id,L,R,t.SegmentVector.simpleSegment(0,2*F.circleOffset,F.circleArray.length,F.circleArray.length/2),null,e.transform.zoom,null,null,null)}L.destroy(),R.destroy()}}var $n=t.identity(new Float32Array(16));function Qn(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,i);return new t.Point((l/o+c[0])*a,(u/o+c[1])*a)}function tr(e,n,r,i,o,a,s,l,u,c,h){var p=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,d=e.icon.dynamicLayoutVertexArray,m={};f.clear();for(var g=0;g<p.length;g++){var y=p.get(g),v=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(v){var _=new t.Point(y.anchorX,y.anchorY),b=Qt(_,r?l:s),x=te(a.cameraToCenterDistance,b.signedDistanceFromCamera),w=o.evaluateSizeForFeature(e.textSizeData,c,y)*x/t.ONE_EM;r&&(w*=e.tilePixelRatio/u);for(var S=Qn(v.anchor,v.width,v.height,v.textOffset,v.textBoxScale,w),E=r?Qt(_.add(S),s).point:b.point.add(n?S.rotate(-a.angle):S),O=e.allowVerticalPlacement&&y.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,k=0;k<y.numGlyphs;k++)t.addDynamicAttributes(f,E,O);h&&y.associatedIconIndex>=0&&(m[y.associatedIconIndex]={shiftedAnchor:E,angle:O})}else ue(y.numGlyphs,f)}if(h){d.clear();for(var M=e.icon.placedSymbolArray,C=0;C<M.length;C++){var T=M.get(C);if(T.hidden)ue(T.numGlyphs,d);else{var P=m[C];if(P)for(var A=0;A<T.numGlyphs;A++)t.addDynamicAttributes(d,P.shiftedAnchor,P.angle);else ue(T.numGlyphs,d)}}e.icon.dynamicLayoutVertexBuffer.updateData(d)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function er(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function nr(e,n,r,i,o,a,s,l,u,c,h,p){for(var f=e.context,d=f.gl,m=e.transform,g="map"===l,y="map"===u,v=g&&"point"!==r.layout.get("symbol-placement"),_=g&&!y&&!v,b=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=!1,w=e.depthModeForSublayer(0,Ot.ReadOnly),S=r.layout.get("text-variable-anchor"),E=[],O=0,k=i;O<k.length;O+=1){var M=k[O],C=n.getTile(M),T=C.getBucket(r);if(T){var P=o?T.text:T.icon;if(P&&P.segments.get().length){var A=P.programConfigurations.get(r.id),I=o||T.sdfIcons,D=o?T.textSizeData:T.iconSizeData,j=y||0!==m.pitch,R=e.useProgram(er(I,o,T),A),L=t.evaluateSizeForZoom(D,m.zoom),z=void 0,N=[0,0],F=void 0,B=void 0,U=null,V=void 0;if(o)F=C.glyphAtlasTexture,B=d.LINEAR,z=C.glyphAtlasTexture.size,T.iconsInText&&(N=C.imageAtlasTexture.size,U=C.imageAtlasTexture,V=j||e.options.rotating||e.options.zooming||"composite"===D.kind||"camera"===D.kind?d.LINEAR:d.NEAREST);else{var H=1!==r.layout.get("icon-size").constantOr(0)||T.iconsNeedLinear;F=C.imageAtlasTexture,B=I||e.options.rotating||e.options.zooming||H||j?d.LINEAR:d.NEAREST,z=C.imageAtlasTexture.size}var W=pe(C,1,e.transform.zoom),q=Jt(M.posMatrix,y,g,e.transform,W),K=$t(M.posMatrix,y,g,e.transform,W),Y=S&&T.hasTextData(),Z="none"!==r.layout.get("icon-text-fit")&&Y&&T.hasIconData();v&&ne(T,M.posMatrix,e,o,q,K,y,c);var G=e.translatePosMatrix(M.posMatrix,C,a,s),X=v||o&&S||Z?$n:q,J=e.translatePosMatrix(K,C,a,s,!0),$=I&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:R,buffers:P,uniformValues:I?T.iconsInText?Yn(D.kind,L,_,y,e,G,X,J,z,N):Kn(D.kind,L,_,y,e,G,X,J,o,z,!0):qn(D.kind,L,_,y,e,G,X,J,o,z),atlasTexture:F,atlasTextureIcon:U,atlasInterpolation:B,atlasInterpolationIcon:V,isSDF:I,hasHalo:$};if(b&&T.canOverlap){x=!0;for(var tt=0,et=P.segments.get();tt<et.length;tt+=1){var nt=et[tt];E.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:Q})}}else E.push({segments:P.segments,sortKey:0,state:Q})}}}x&&E.sort((function(t,e){return t.sortKey-e.sortKey}));for(var rt=0,it=E;rt<it.length;rt+=1){var ot=it[rt],at=ot.state;if(f.activeTexture.set(d.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,d.CLAMP_TO_EDGE),at.atlasTextureIcon&&(f.activeTexture.set(d.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,d.CLAMP_TO_EDGE)),at.isSDF){var st=at.uniformValues;at.hasHalo&&(st.u_is_halo=1,rr(at.buffers,ot.segments,r,e,at.program,w,h,p,st)),st.u_is_halo=0}rr(at.buffers,ot.segments,r,e,at.program,w,h,p,at.uniformValues)}}function rr(t,e,n,r,i,o,a,s,l){var u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,s,Ct.disabled,l,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ir(t,e,n,r,i,o,a){var s,l,u,c,h,p=t.context.gl,f=n.paint.get("fill-pattern"),d=f&&f.constantOr(1),m=n.getCrossfadeParameters();a?(l=d&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(l=d?"fillPattern":"fill",s=p.TRIANGLES);for(var g=0,y=r;g<y.length;g+=1){var v=y[g],_=e.getTile(v);if(!d||_.patternsLoaded()){var b=_.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=t.useProgram(l,x);d&&(t.context.activeTexture.set(p.TEXTURE0),_.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),x.updatePaintBuffers(m));var S=f.constantOr(null);if(S&&_.imageAtlas){var E=_.imageAtlas,O=E.patternPositions[S.to.toString()],k=E.patternPositions[S.from.toString()];O&&k&&x.setConstantPatternPositions(O,k)}var M=t.translatePosMatrix(v.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,h=b.segments2;var C=[p.drawingBufferWidth,p.drawingBufferHeight];u="fillOutlinePattern"===l&&d?Tn(M,t,m,_,C):Cn(M,C)}else c=b.indexBuffer,h=b.segments,u=d?Mn(M,t,m,_):kn(M);w.draw(t.context,s,i,t.stencilModeForClipping(v),o,Ct.disabled,u,n.id,b.layoutVertexBuffer,c,h,n.paint,t.transform.zoom,x)}}}}function or(t,e,n,r,i,o,a){for(var s=t.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),h=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),f=0,d=r;f<d.length;f+=1){var m=d[f],g=e.getTile(m),y=g.getBucket(n);if(y){var v=y.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(t.context.activeTexture.set(l.TEXTURE0),g.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers(h));var b=u.constantOr(null);if(b&&g.imageAtlas){var x=g.imageAtlas,w=x.patternPositions[b.to.toString()],S=x.patternPositions[b.from.toString()];w&&S&&v.setConstantPatternPositions(w,S)}var E=t.translatePosMatrix(m.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),O=n.paint.get("fill-extrusion-vertical-gradient"),k=c?On(E,t,O,p,m,h,g):En(E,t,O,p);_.draw(s,s.gl.TRIANGLES,i,o,a,Ct.backCCW,k,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,t.transform.zoom,v)}}}function ar(e,n,r,i,o,a){var s=e.context,l=s.gl,u=n.fbo;if(u){var c=e.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get());var h=function(e,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l,u,c,h=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),h),u_image:0,u_latrange:(l=n.tileID,u=Math.pow(2,l.canonical.z),c=l.canonical.y,[new t.MercatorCoordinate(0,c/u).toLngLat().lat,new t.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(e,n,r);c.draw(s,l.TRIANGLES,i,o,a,Ct.disabled,h,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function sr(e,n,r,i,o,a){var s=e.context,l=s.gl,u=n.dem;if(u&&u.data){var c=u.dim,h=u.stride,p=u.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(h),n.demTexture){var f=n.demTexture;f.update(p,{premultiply:!1}),f.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(s,p,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var d=n.fbo;if(!d){var m=new t.Texture(s,{width:c,height:c,data:null},l.RGBA);m.bind(l.LINEAR,l.CLAMP_TO_EDGE),(d=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,Ct.disabled,function(e,n){var r=n.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,u),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function lr(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),l=(s-e.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=r.getSource(),h=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),f=p&&e.refreshedUponExpiration?1:t.clamp(p?l:1-u,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var ur=new t.Color(1,0,0,1),cr=new t.Color(0,1,0,1),hr=new t.Color(0,0,1,1),pr=new t.Color(1,0,1,1),fr=new t.Color(0,1,1,1);function dr(t,e,n,r){gr(t,0,e+n/2,t.transform.width,n,r)}function mr(t,e,n,r){gr(t,e-n/2,0,n,t.transform.height,r)}function gr(e,n,r,i,o,a){var s=e.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function yr(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),l=Ot.disabled,u=kt.disabled,c=e.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,l,u,c,Ct.disabled,Dn(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var h=n.getTileByID(r.key).latestRawTileData,p=Math.floor((h&&h.byteLength||0)/1024),f=n.getTile(r).tileSize,d=512/Math.min(f,512)*(r.overscaledZ/e.transform.zoom)*.5,m=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(m+=" => "+r.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,r=t.context.gl,i=t.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(e,5,5),i.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,m+" "+p+"kb"),s.draw(i,o.TRIANGLES,l,u,Mt.alphaBlended,Ct.disabled,Dn(a,t.Color.transparent,d),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var vr={symbol:function(e,n,r,i,o){if("translucent"===e.renderPass){var a=kt.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,s){for(var l=n.transform,u="map"===o,c="map"===a,h=0,p=e;h<p.length;h+=1){var f=p[h],d=i.getTile(f),m=d.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var g=t.evaluateSizeForZoom(m.textSizeData,l.zoom),y=pe(d,1,n.transform.zoom),v=Jt(f.posMatrix,c,u,n.transform,y),_="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(g){var b=Math.pow(2,l.zoom-d.tileID.overscaledZ);tr(m,u,c,s,t.symbolSize,l,v,f.posMatrix,b,g,_)}}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Jn(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Jn(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var u=e.context,c=u.gl,h=e.depthModeForSublayer(0,Ot.ReadOnly),p=kt.disabled,f=e.colorModeForRenderPass(),d=[],m=0;m<i.length;m++){var g=i[m],y=n.getTile(g),v=y.getBucket(r);if(v){var _=v.programConfigurations.get(r.id),b={programConfiguration:_,program:e.useProgram("circle",_),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:Pn(e,g,y,r)};if(l)for(var x=0,w=v.segments.get();x<w.length;x+=1){var S=w[x];d.push({segments:new t.SegmentVector([S]),sortKey:S.sortKey,state:b})}else d.push({segments:v.segments,sortKey:0,state:b})}}l&&d.sort((function(t,e){return t.sortKey-e.sortKey}));for(var E=0,O=d;E<O.length;E+=1){var k=O[E],M=k.state;M.program.draw(u,c.TRIANGLES,h,p,f,Ct.disabled,M.uniformValues,r.id,M.layoutVertexBuffer,M.indexBuffer,k.segments,r.paint,e.transform.zoom,M.programConfiguration)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=kt.disabled,l=new Mt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,r){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e.width/4,e.height/4,0,i.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var u=0;u<i.length;u++){var c=i[u];if(!n.hasRenderableParent(c)){var h=n.getTile(c),p=h.getBucket(r);if(p){var f=p.programConfigurations.get(r.id);e.useProgram("heatmap",f).draw(o,a.TRIANGLES,Ot.disabled,s,l,Ct.disabled,Rn(c.posMatrix,h,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,r.paint,e.transform.zoom,f)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Ot.disabled,kt.disabled,e.colorModeForRenderPass(),Ct.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=e.depthModeForSublayer(0,Ot.ReadOnly),l=e.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),h=c.constantOr(1),p=r.paint.get("line-gradient"),f=r.getCrossfadeParameters(),d=h?"linePattern":u?"lineSDF":p?"lineGradient":"line",m=e.context,g=m.gl,y=!0,v=0,_=i;v<_.length;v+=1){var b=_[v],x=n.getTile(b);if(!h||x.patternsLoaded()){var w=x.getBucket(r);if(w){var S=w.programConfigurations.get(r.id),E=e.context.program.get(),O=e.useProgram(d,S),k=y||O.program!==E,M=c.constantOr(null);if(M&&x.imageAtlas){var C=x.imageAtlas,T=C.patternPositions[M.to.toString()],P=C.patternPositions[M.from.toString()];T&&P&&S.setConstantPatternPositions(T,P)}var A=h?Nn(e,x,r,f):u?Fn(e,x,r,u,f):p?zn(e,x,r,w.lineClipsArray.length):Ln(e,x,r);if(h)m.activeTexture.set(g.TEXTURE0),x.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),S.updatePaintBuffers(f);else if(u&&(k||e.lineAtlas.dirty))m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m);else if(p){var I=w.gradients[r.id],D=I.texture;if(r.gradientVersion!==I.version){var j=256;if(r.stepInterpolant){var R=n.getSource().maxzoom,L=b.canonical.z===R?Math.ceil(1<<e.transform.maxZoom-b.canonical.z):1;j=t.clamp(t.nextPowerOfTwo(w.maxLineLength/t.EXTENT*1024*L),256,m.maxTextureSize)}I.gradient=t.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:j,image:I.gradient||void 0,clips:w.lineClipsArray}),I.texture?I.texture.update(I.gradient):I.texture=new t.Texture(m,I.gradient,g.RGBA),I.version=r.gradientVersion,D=I.texture}m.activeTexture.set(g.TEXTURE0),D.bind(r.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}O.draw(m,g.TRIANGLES,s,e.stencilModeForClipping(b),l,Ct.disabled,A,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,e.transform.zoom,S,w.layoutVertexBuffer2),y=!1}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===u){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?Ot.ReadWrite:Ot.ReadOnly);ir(e,n,r,i,c,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var h=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Ot.ReadOnly);ir(e,n,r,i,h,s,!0)}}},"fill-extrusion":function(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new Ot(t.context.gl.LEQUAL,Ot.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(t,e,n,r,o,kt.disabled,Mt.disabled),or(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();or(t,e,n,r,o,kt.disabled,a)}}},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=t.depthModeForSublayer(0,Ot.ReadOnly),a=t.colorModeForRenderPass(),s="translucent"===t.renderPass?t.stencilConfigForOverlap(r):[{},r],l=s[0],u=0,c=s[1];u<c.length;u+=1){var h=c[u],p=e.getTile(h);p.needsHillshadePrepare&&"offscreen"===t.renderPass?sr(t,p,n,o,kt.disabled,a):"translucent"===t.renderPass&&ar(t,p,n,o,l[h.overscaledZ],a)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),l=t.colorModeForRenderPass(),u=a instanceof I?[{},r]:t.stencilConfigForOverlap(r),c=u[0],h=u[1],p=h[h.length-1].overscaledZ,f=!t.options.moving,d=0,m=h;d<m.length;d+=1){var g=m[d],y=t.depthModeForSublayer(g.overscaledZ-p,1===n.paint.get("raster-opacity")?Ot.ReadWrite:Ot.ReadOnly,o.LESS),v=e.getTile(g),_=t.transform.calculatePosMatrix(g.toUnwrapped(),f);v.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=e.findLoadedParent(g,0),x=lr(v,b,e,n,t.transform),w=void 0,S=void 0,E="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),v.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-v.tileID.overscaledZ),S=[v.tileID.canonical.x*w%1,v.tileID.canonical.y*w%1]):v.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var O=Vn(_,S||[0,0],w||1,x,n);a instanceof I?s.draw(i,o.TRIANGLES,y,kt.disabled,l,Ct.disabled,O,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,y,c[g.overscaledZ],l,Ct.disabled,O,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!t.isPatternMissing(u)){var c=!u&&1===r.a&&1===i&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var h=kt.disabled,p=t.depthModeForSublayer(0,"opaque"===c?Ot.ReadWrite:Ot.ReadOnly),f=t.colorModeForRenderPass(),d=t.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var g=n.getCrossfadeParameters(),y=0,v=m;y<v.length;y+=1){var _=v[y],b=t.transform.calculatePosMatrix(_.toUnwrapped()),x=u?Gn(b,i,t,u,{tileID:_,tileSize:l},g):Zn(b,i,r);d.draw(o,a.TRIANGLES,p,h,f,Ct.disabled,x,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)yr(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(kt.disabled);var a="3d"===i.renderingMode?new Ot(t.context.gl.LEQUAL,Ot.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Ot.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},_r=function(t,e){this.context=new Tt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=Pt.maxUnderzooming+Pt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ne,this.gpuTimers={}};_r.prototype.resize=function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},_r.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,We.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,We.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,A.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,We.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new kt({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},_r.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,Ot.disabled,this.stencilClearMode,Mt.disabled,Ct.disabled,jn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_r.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(Mt.disabled),n.setDepthMode(Ot.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Ot.disabled,new kt({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),Mt.disabled,Ct.disabled,jn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_r.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new kt({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new kt({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,r=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new kt({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(e={},e[i]=kt.disabled,e),r]},_r.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Mt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Mt.unblended:Mt.alphaBlended},_r.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return Ot.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Ot(n||this.context.gl.LEQUAL,e,[r,r])},_r.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_r.prototype.render=function(e,n){var r=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var l,u,c={},h={},p={};for(var f in o){var d=o[f];c[f]=d.getVisibleCoordinates(),h[f]=c[f].slice().reverse(),p[f]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<i.length;m++)if(this.style._layers[i[m]].is3D()){this.opaquePassCutoff=m;break}this.renderPass="offscreen";for(var g=0,y=i;g<y.length;g+=1){var v=this.style._layers[y[g]];if(v.hasOffscreenPass()&&!v.isHidden(this.transform.zoom)){var _=h[v.source];("custom"===v.type||_.length)&&this.renderLayer(this,o[v.source],v,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=o[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,x,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],E=o[S.source],O=("symbol"===S.type?p:h)[S.source];this._renderTileClippingMasks(S,c[S.source]),this.renderLayer(this,E,S,O)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(r.transform.zoom)&&(t.source!==(u&&u.id)&&(u=r.style.sourceCaches[t.source]),(!l||l.getSource().maxzoom<u.getSource().maxzoom)&&(l=u))})),l&&vr.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;dr(t,t.transform.height-(e.top||0),3,ur),dr(t,e.bottom||0,3,cr),mr(t,e.left||0,3,hr),mr(t,t.transform.width-(e.right||0),3,pr);var n=t.transform.centerPoint;!function(t,e,n,r){gr(t,e-1,n-10,2,20,r),gr(t,e-10,n-1,20,2,r)}(t,n.x,t.transform.height-n.y,fr)}(this),this.context.setDefault()},_r.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),vr[n.type](t,e,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},_r.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},_r.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},_r.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},_r.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var r=t[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),e[n]=o}return e},_r.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[o?r[0]:pe(n,r[0],this.transform.zoom),o?r[1]:pe(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,u),c},_r.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},_r.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},_r.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},_r.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,t,_n[t],e,Xn[t],this._showOverdrawInspector)),this.cache[n]},_r.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_r.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},_r.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_r.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var br=function(t,e){this.points=t,this.planes=e};br.fromInvProjectionMatrix=function(e,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return t.transformMat4([],n,e)})).map((function(e){return t.scale$1([],e,1/e[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var n=t.sub([],o[e[0]],o[e[1]]),r=t.sub([],o[e[2]],o[e[1]]),i=t.normalize([],t.cross([],n,r)),a=-t.dot(i,o[e[1]]);return i.concat(a)}));return new br(o,a)};var xr=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};xr.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],r=t.clone$2(this.min),i=t.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new xr(r,i)},xr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},xr.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},xr.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<e.planes.length;i++){for(var o=e.planes[i],a=0,s=0;s<n.length;s++)a+=t.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var l=0;l<3;l++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0;h<e.points.length;h++){var p=e.points[h][l]-this.min[l];u=Math.min(u,p),c=Math.max(c,p)}if(c<0||u>this.max[l]-this.min[l])return 0}return 1};var wr=function(t,e,n,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=r};wr.prototype.interpolate=function(e,n,r){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,r)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,r)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,r)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,r)),this},wr.prototype.getCenter=function(e,n){var r=t.clamp((this.left+e-this.right)/2,0,e),i=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(r,i)},wr.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sr=function(e,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Er={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sr.prototype.clone=function(){var t=new Sr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},Er.minZoom.get=function(){return this._minZoom},Er.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Er.maxZoom.get=function(){return this._maxZoom},Er.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Er.minPitch.get=function(){return this._minPitch},Er.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Er.maxPitch.get=function(){return this._maxPitch},Er.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},Er.renderWorldCopies.get=function(){return this._renderWorldCopies},Er.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Er.worldSize.get=function(){return this.tileSize*this.scale},Er.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Er.size.get=function(){return new t.Point(this.width,this.height)},Er.bearing.get=function(){return-this.angle/Math.PI*180},Er.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Er.pitch.get=function(){return this._pitch/Math.PI*180},Er.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Er.fov.get=function(){return this._fov/Math.PI*180},Er.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Er.zoom.get=function(){return this._zoom},Er.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Er.center.get=function(){return this._center},Er.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Er.padding.get=function(){return this._edgeInsets.toJSON()},Er.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},Er.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sr.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},Sr.prototype.interpolatePadding=function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()},Sr.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},Sr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new t.UnwrappedTileID(u,e));return n},Sr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=br.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),l=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=n);var u=function(t){return{aabb:new xr([t*o,0,0],[(t+1)*o,o,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},c=[],h=[],p=n,f=e.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var d=1;d<=3;d++)c.push(u(-d)),c.push(u(d));for(c.push(u(0));c.length>0;){var m=c.pop(),g=m.x,y=m.y,v=m.fullyVisible;if(!v){var _=m.aabb.intersects(s);if(0===_)continue;v=2===_}var b=m.aabb.distanceX(a),x=m.aabb.distanceY(a),w=Math.max(Math.abs(b),Math.abs(x));if(m.zoom===p||w>3+(1<<p-m.zoom)-2&&m.zoom>=l)h.push({tileID:new t.OverscaledTileID(m.zoom===p?f:m.zoom,m.wrap,m.zoom,g,y),distanceSq:t.sqrLen([a[0]-.5-g,a[1]-.5-y])});else for(var S=0;S<4;S++){var E=(g<<1)+S%2,O=(y<<1)+(S>>1);c.push({aabb:m.aabb.quadrant(S),zoom:m.zoom+1,x:E,y:O,wrap:m.wrap,fullyVisible:v})}}return h.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},Sr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Er.unmodified.get=function(){return this._unmodified},Sr.prototype.zoomScale=function(t){return Math.pow(2,t)},Sr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Sr.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},Sr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},Er.point.get=function(){return this.project(this.center)},Sr.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},Sr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Sr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Sr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},Sr.prototype.coordinateLocation=function(t){return t.toLngLat()},Sr.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,l=n[2]/i,u=r[2]/o,c=l===u?0:(0-l)/(u-l);return new t.MercatorCoordinate(t.number(n[0]/i,r[0]/o,c)/this.worldSize,t.number(a,s,c)/this.worldSize)},Sr.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},Sr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},Sr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Sr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,o.y*a,0]),t.scale(l,l,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]},Sr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;o=t.mercatorYfromLat(h[1])*this.worldSize,e=(a=t.mercatorYfromLat(h[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=t.mercatorXfromLng(p[0])*this.worldSize,n=(l=t.mercatorXfromLng(p[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var f=this.point,d=Math.max(n||0,e||0);if(d)return this.center=this.unproject(new t.Point(n?(l+s)/2:f.x,e?(a+o)/2:f.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=f.y,g=u.y/2;m-g<o&&(i=o+g),m+g>a&&(i=a-g)}if(this.lngRange){var y=f.x,v=u.x/2;y-v<s&&(r=s+v),y+v>l&&(r=l-v)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:f.x,void 0!==i?i:f.y))),this._unmodified=c,this._constraining=!1}},Sr.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+e.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,u,l),c[8]=2*-e.x/this.width,c[9]=2*e.y/this.height,t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-a,-s,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var h=this.width%2/2,p=this.height%2/2,f=Math.cos(this.angle),d=Math.sin(this.angle),m=a-Math.round(a)+f*h+d*p,g=s-Math.round(s)+f*p+d*h,y=new Float64Array(c);if(t.translate(y,y,[m>.5?m-1:m,g>.5?g-1:g,0]),this.alignedProjMatrix=y,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Sr.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},Sr.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,l=e;s<l.length;s+=1){var u=l[s];r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(Sr.prototype,Er);var Or=function(e){var n,r,i,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Or.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Or.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Or.prototype.getHashString=function(e){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=e?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/"+Math.round(u)),this._hashName){var h=this._hashName,p=!1,f=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===h?(p=!0,e+"="+c):t})).filter((function(t){return t}));return p||f.push(h+"="+c),"#"+f.join("&")}return"#"+c},Or.prototype._getCurrentHash=function(){var e,n=this,r=t.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):r.split("/")},Or.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Or.prototype._updateHashUnthrottled=function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,e)}catch(t){}};var kr={linearity:.3,easing:t.bezier(0,0,.3,1)},Mr=t.extend({deceleration:2500,maxSpeed:1400},kr),Cr=t.extend({deceleration:20,maxSpeed:1400},kr),Tr=t.extend({deceleration:1e3,maxSpeed:360},kr),Pr=t.extend({deceleration:1e3,maxSpeed:90},kr),Ar=function(t){this._map=t,this.clear()};function Ir(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Dr(e,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=t.clamp(e*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}Ar.prototype.clear=function(){this._inertiaBuffer=[]},Ar.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},Ar.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()},Ar.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var l=Dr(n.pan.mag(),a,t.extend({},Mr,e||{}));s.offset=n.pan.mult(l.amount/n.pan.mag()),s.center=this._map.transform.center,Ir(s,l)}if(n.zoom){var u=Dr(n.zoom,a,Cr);s.zoom=this._map.transform.zoom+u.amount,Ir(s,u)}if(n.bearing){var c=Dr(n.bearing,a,Tr);s.bearing=this._map.transform.bearing+t.clamp(c.amount,-179,179),Ir(s,c)}if(n.pitch){var h=Dr(n.pitch,a,Pr);s.pitch=this._map.transform.pitch+h.amount,Ir(s,h)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}};var jr=function(e){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),l=i.unproject(s);e.call(this,r,t.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Rr=function(e){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),l=s.map((function(t){return i.unproject(t)})),u=s.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),c=i.unproject(u);e.call(this,r,{points:s,point:u,lngLats:l,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Lr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),zr=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};zr.prototype.reset=function(){delete this._mousedownPos},zr.prototype.wheel=function(t){return this._firePreventable(new Lr(t.type,this._map,t))},zr.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new jr(t.type,this._map,t))},zr.prototype.mouseup=function(t){this._map.fire(new jr(t.type,this._map,t))},zr.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new jr(t.type,this._map,t))},zr.prototype.dblclick=function(t){return this._firePreventable(new jr(t.type,this._map,t))},zr.prototype.mouseover=function(t){this._map.fire(new jr(t.type,this._map,t))},zr.prototype.mouseout=function(t){this._map.fire(new jr(t.type,this._map,t))},zr.prototype.touchstart=function(t){return this._firePreventable(new Rr(t.type,this._map,t))},zr.prototype.touchmove=function(t){this._map.fire(new Rr(t.type,this._map,t))},zr.prototype.touchend=function(t){this._map.fire(new Rr(t.type,this._map,t))},zr.prototype.touchcancel=function(t){this._map.fire(new Rr(t.type,this._map,t))},zr.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},zr.prototype.isEnabled=function(){return!0},zr.prototype.isActive=function(){return!1},zr.prototype.enable=function(){},zr.prototype.disable=function(){};var Nr=function(t){this._map=t};Nr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Nr.prototype.mousemove=function(t){this._map.fire(new jr(t.type,this._map,t))},Nr.prototype.mousedown=function(){this._delayContextMenu=!0},Nr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new jr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Nr.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new jr(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},Nr.prototype.isEnabled=function(){return!0},Nr.prototype.isActive=function(){return!1},Nr.prototype.enable=function(){},Nr.prototype.disable=function(){};var Fr=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function Br(t,e){for(var n={},r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}Fr.prototype.isEnabled=function(){return!!this._enabled},Fr.prototype.isActive=function(){return!!this._active},Fr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Fr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Fr.prototype.mousedown=function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(n.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)},Fr.prototype.mousemoveWindow=function(t,e){if(this._active){var r=e;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),l=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=l-s+"px"}}},Fr.prototype.mouseupWindow=function(e,r){var i=this;if(this._active&&0===e.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},Fr.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},Fr.prototype.blur=function(){this.reset()},Fr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Fr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Ur=function(t){this.reset(),this.numTouches=t.numTouches};Ur.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ur.prototype.touchstart=function(e,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),r.length===this.numTouches&&(this.centroid=function(e){for(var n=new t.Point(0,0),r=0,i=e;r<i.length;r+=1)n._add(i[r]);return n.div(e.length)}(n),this.touches=Br(r,n)))},Ur.prototype.touchmove=function(t,e,n){if(!this.aborted&&this.centroid){var r=Br(n,e);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Ur.prototype.touchend=function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Vr=function(t){this.singleTap=new Ur(t),this.numTaps=t.numTaps,this.reset()};Vr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Vr.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Vr.prototype.touchmove=function(t,e,n){this.singleTap.touchmove(t,e,n)},Vr.prototype.touchend=function(t,e,n){var r=this.singleTap.touchend(t,e,n);if(r){var i=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Hr=function(){this._zoomIn=new Vr({numTouches:1,numTaps:2}),this._zoomOut=new Vr({numTouches:2,numTaps:1}),this.reset()};Hr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Hr.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},Hr.prototype.touchmove=function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)},Hr.prototype.touchend=function(t,e,n){var r=this,i=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return i?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0},Hr.prototype.touchcancel=function(){this.reset()},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Wr={0:1,2:2},qr=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};qr.prototype.blur=function(){this.reset()},qr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},qr.prototype._correctButton=function(t,e){return!1},qr.prototype._move=function(t,e){return{}},qr.prototype.mousedown=function(t,e){if(!this._lastPoint){var r=n.mouseButton(t);this._correctButton(t,r)&&(this._lastPoint=e,this._eventButton=r)}},qr.prototype.mousemoveWindow=function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=Wr[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)},qr.prototype.mouseupWindow=function(t){this._lastPoint&&n.mouseButton(t)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},qr.prototype.enable=function(){this._enabled=!0},qr.prototype.disable=function(){this._enabled=!1,this.reset()},qr.prototype.isEnabled=function(){return this._enabled},qr.prototype.isActive=function(){return this._active};var Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,n){t.prototype.mousedown.call(this,e,n),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(qr),Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(qr),Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(qr),Gr=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Gr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Gr.prototype.touchstart=function(t,e,n){return this._calculateTransform(t,e,n)},Gr.prototype.touchmove=function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)},Gr.prototype.touchend=function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()},Gr.prototype.touchcancel=function(){this.reset()},Gr.prototype._calculateTransform=function(e,n,r){r.length>0&&(this._active=!0);var i=Br(r,n),o=new t.Point(0,0),a=new t.Point(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(o._add(u),a._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var h=a.div(s);if(this._sum._add(h),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:h}}},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var Xr=function(){this.reset()};function Jr(t,e,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function $r(t,e){return Math.log(t/e)/Math.LN2}Xr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Xr.prototype._start=function(t){},Xr.prototype._move=function(t,e,n){return{}},Xr.prototype.touchstart=function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))},Xr.prototype.touchmove=function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Jr(n,e,r[0]),a=Jr(n,e,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,t)}}},Xr.prototype.touchend=function(t,e,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Jr(r,e,i[0]),s=Jr(r,e,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var Qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs($r(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:$r(this._distance,n),pinchAround:e}},e}(Xr);function ti(t,e){return 180*t.angleWith(e)/Math.PI}var ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ti(this._vector,n),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=ti(t,this._startVector);return Math.abs(n)<e},e}(Xr);function ni(t){return Math.abs(t.y)>Math.abs(t.x)}var ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,ni(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,n){var r=t[0].sub(this._lastPoints[0]),i=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,n){if(void 0!==this._valid)return this._valid;var r=t.mag()>=2,i=e.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return ni(t)&&ni(e)&&o}},e}(Xr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var t=ii;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1};function ai(t){return t*(2-t)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(l)+n*(t.shiftKey?2:1):l,bearing:s.getBearing()+r*e._bearingStep,pitch:s.getPitch()+i*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:s.getCenter()},{originalEvent:t})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(t){this._defaultZoomRate=t},si.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}},si.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},si.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,l=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&l&&u){var h=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=u(h);a=t.number(l,s,p),h<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var li=function(t,e){this._clickZoom=t,this._tapZoom=e};li.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},li.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},li.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},li.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ui=function(){this.reset()};ui.prototype.reset=function(){this._active=!1},ui.prototype.blur=function(){this.reset()},ui.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new Vr({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))},ci.prototype.touchmove=function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=e[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,t.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(t,e,n)},ci.prototype.touchend=function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var hi=function(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n};hi.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var fi=function(t,e,n,r){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};fi.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},fi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},fi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},fi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},fi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},fi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var di=function(t){return t.zoom||t.drag||t.pitch||t.rotate},mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function gi(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var yi=function(e,r){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ar(e),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),t.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[t.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],l=s[0];n.addEventListener(l,s[1],l===t.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var e=0,r=this._listeners;e<r.length;e+=1){var i=r[e],o=i[0];n.removeEventListener(o,i[1],o===t.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new zr(e,t));var r=e.boxZoom=new Fr(e,t);this._add("boxZoom",r);var i=new Hr,o=new ui;e.doubleClickZoom=new li(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ci;this._add("tapDragZoom",a);var s=e.touchPitch=new ri;this._add("touchPitch",s);var l=new Yr(t),u=new Zr(t);e.dragRotate=new pi(t,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new Kr(t),h=new Gr(t);e.dragPan=new hi(n,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);var p=new ei,f=new Qr;e.touchZoomRotate=new fi(n,f,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]);var d=e.scrollZoom=new si(e,this);this._add("scrollZoom",d,["mousePan"]);var m=e.keyboard=new oi;this._add("keyboard",m),this._add("blockableMapEvent",new Nr(e));for(var g=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<y.length;g+=1){var v=y[g];t.interactive&&t[v]&&e[v].enable(t[v])}},yi.prototype._add=function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e},yi.prototype.stop=function(t){if(!this._updatingCamera){for(var e=0,n=this._handlers;e<n.length;e+=1)n[e].handler.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}},yi.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(di(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(t,e,n){for(var r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},yi.prototype._getMapTouches=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&e.push(i)}return e},yi.prototype.handleEvent=function(t,e){this._updatingCamera=!0;for(var r="renderFrame"===t.type?void 0:t,i={needsRenderFrame:!1},o={},a={},s=t.touches?this._getMapTouches(t.touches):void 0,l=s?n.touchPos(this._el,s):n.mousePos(this._el,t),u=0,c=this._handlers;u<c.length;u+=1){var h=c[u],p=h.handlerName,f=h.handler,d=h.allowed;if(f.isEnabled()){var m=void 0;this._blockedByActive(a,d,p)?f.reset():f[e||t.type]&&(m=f[e||t.type](t,l,s),this.mergeHandlerResult(i,o,m,p,r),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||f.isActive())&&(a[p]=f)}}var g={};for(var y in this._previousActiveHandlers)a[y]||(g[y]=r);this._previousActiveHandlers=a,(Object.keys(g).length||gi(i))&&(this._changes.push([i,o,g]),this._triggerRenderFrame()),(Object.keys(a).length||gi(i))&&this._map._stop(!0),this._updatingCamera=!1;var v=i.cameraAnimation;v&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],v(this._map))},yi.prototype.mergeHandlerResult=function(e,n,r,i,o){if(r){t.extend(e,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},yi.prototype._applyChanges=function(){for(var e={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=a[2];s.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(e.around=s.around),void 0!==s.pinchAround&&(e.pinchAround=s.pinchAround),s.noInertia&&(e.noInertia=s.noInertia),t.extend(n,l),t.extend(r,u)}this._updateMapTransform(e,n,r),this._changes=[]},yi.prototype._updateMapTransform=function(t,e,n){var r=this._map,i=r.transform;if(!gi(t))return this._fireEvents(e,n,!0);var o=t.panDelta,a=t.zoomDelta,s=t.bearingDelta,l=t.pitchDelta,u=t.around,c=t.pinchAround;void 0!==c&&(u=c),r._stop(!0),u=u||r.transform.centerPoint;var h=i.pointLocation(o?u.sub(o):u);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(h,u),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)},yi.prototype._fireEvents=function(e,n,r){var i=this,o=di(this._eventsInProgress),a=di(e),s={};for(var l in e)this._eventsInProgress[l]||(s[l+"start"]=e[l].originalEvent),this._eventsInProgress[l]=e[l];for(var u in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(u,s[u]);for(var c in a&&this._fireEvent("move",a.originalEvent),e)this._fireEvent(c,e[c].originalEvent);var h,p={};for(var f in this._eventsInProgress){var d=this._eventsInProgress[f],m=d.handlerName,g=d.originalEvent;this._handlersById[m].isActive()||(delete this._eventsInProgress[f],p[f+"end"]=h=n[m]||g)}for(var y in p)this._fireEvent(y,p[y]);var v=di(this._eventsInProgress);if(r&&(o||a)&&!v){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(t){return 0!==t&&-i._bearingSnap<t&&t<i._bearingSnap};_?(b(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:h})):(this._map.fire(new t.Event("moveend",{originalEvent:h})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},yi.prototype._requestFrame=function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(e){delete t._frameId,t.handleEvent(new mi("renderFrame",{timeStamp:e})),t._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var vi=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){e=t.LngLatBounds.convert(e);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=t.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=t.extend(o,i.padding);var s=this.transform,l=s.padding,u=s.project(t.LngLat.convert(e)),c=s.project(t.LngLat.convert(n)),h=u.rotate(-r*Math.PI/180),p=c.rotate(-r*Math.PI/180),f=new t.Point(Math.max(h.x,p.x),Math.max(h.y,p.y)),d=new t.Point(Math.min(h.x,p.x),Math.min(h.y,p.y)),m=f.sub(d),g=(s.width-(l.left+l.right+i.padding.left+i.padding.right))/m.x,y=(s.height-(l.top+l.bottom+i.padding.top+i.padding.bottom))/m.y;if(!(y<0||g<0)){var v=Math.min(s.scaleZoom(s.scale*Math.min(g,y)),i.maxZoom),_="number"==typeof i.offset.x?new t.Point(i.offset.x,i.offset.y):t.Point.convert(i.offset),b=new t.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),x=_.add(b).mult(s.scale/s.zoomScale(v));return{center:s.unproject(u.add(c).div(2).sub(x)),zoom:v,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),null==e.padding||r.isPaddingEqual(e.padding)||(r.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l=this.getPadding(),u="zoom"in e?+e.zoom:o,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,h="pitch"in e?+e.pitch:s,p="padding"in e?e.padding:i.padding,f=t.Point.convert(e.offset),d=i.centerPoint.add(f),m=i.pointLocation(d),g=t.LngLat.convert(e.center||m);this._normalizeCenter(g);var y,v,_=i.project(m),b=i.project(g).sub(_),x=i.zoomScale(u-o);e.around&&(y=t.LngLat.convert(e.around),v=i.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||h!==s,this._padding=!i.isPaddingEqual(p),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,w),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,u,e)),r._rotating&&(i.bearing=t.number(a,c,e)),r._pitching&&(i.pitch=t.number(s,h,e)),r._padding&&(i.interpolatePadding(l,p,e),d=i.centerPoint.add(f)),y)i.setLocationAtPoint(y,v);else{var m=i.zoomScale(i.zoom-o),g=u>o?Math.min(2,x):Math.max(.5,x),w=Math.pow(g,1-e),S=i.unproject(_.add(b.mult(e*w)).mult(m));i.setLocationAtPoint(i.renderWorldCopies?S.wrap():S,d)}r._fireMoveEvents(n)}),(function(t){r._afterEase(n,t)}),e),this},n.prototype._prepareEase=function(e,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},n.prototype.flyTo=function(e,n){var r=this;if(!e.essential&&t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,h="bearing"in e?this._normalizeBearing(e.bearing,s):s,p="pitch"in e?+e.pitch:l,f="padding"in e?e.padding:o.padding,d=o.zoomScale(c-a),m=t.Point.convert(e.offset),g=o.centerPoint.add(m),y=o.pointLocation(g),v=t.LngLat.convert(e.center||y);this._normalizeCenter(v);var _=o.project(y),b=o.project(v).sub(_),x=e.curve,w=Math.max(o.width,o.height),S=w/d,E=b.mag();if("minZoom"in e){var O=t.clamp(Math.min(e.minZoom,a,c),o.minZoom,o.maxZoom),k=w/o.zoomScale(O-a);x=Math.sqrt(k/E*2)}var M=x*x;function C(t){var e=(S*S-w*w+(t?-1:1)*M*M*E*E)/(2*(t?S:w)*M*E);return Math.log(Math.sqrt(e*e+1)-e)}function T(t){return(Math.exp(t)-Math.exp(-t))/2}function P(t){return(Math.exp(t)+Math.exp(-t))/2}var A=C(0),I=function(t){return P(A)/P(A+x*t)},D=function(t){return w*((P(A)*(T(e=A+x*t)/P(e))-T(A))/M)/E;var e},j=(C(1)-A)/x;if(Math.abs(E)<1e-6||!isFinite(j)){if(Math.abs(w-S)<1e-6)return this.easeTo(e,n);var R=S<w?-1:1;j=Math.abs(Math.log(S/w))/x,D=function(){return 0},I=function(t){return Math.exp(R*x*t)}}return e.duration="duration"in e?+e.duration:1e3*j/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==h,this._pitching=p!==l,this._padding=!o.isPaddingEqual(f),this._prepareEase(n,!1),this._ease((function(e){var i=e*j,d=1/I(i);o.zoom=1===e?c:a+o.scaleZoom(d),r._rotating&&(o.bearing=t.number(s,h,e)),r._pitching&&(o.pitch=t.number(l,p,e)),r._padding&&(o.interpolatePadding(u,f,e),g=o.centerPoint.add(m));var y=1===e?v:o.unproject(_.add(b.mult(D(i))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,g),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),_i=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_i.prototype.getDefaultPosition=function(){return"bottom-right"},_i.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_i.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},_i.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_i.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}},_i.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},_i.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_i.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var bi=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};bi.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bi.prototype.getDefaultPosition=function(){return"bottom-left"},bi.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},bi.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},bi.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var xi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xi.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},xi.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},xi.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Si=t.window.HTMLImageElement,Ei=t.window.HTMLElement,Oi=t.window.ImageBitmap,ki={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Mi=function(r){function i(e){var n=this;if(null!=(e=t.extend({},ki,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Sr(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(r.call(this,i,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new xi,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},wi,e.locale),this._clickTolerance=e.clickTolerance,this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Ei))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,e),this._hash=e.hash&&new Or("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new _i({customAttribution:e.customAttribution})),this.addControl(new bi,e.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(e){n._update("style"===e.dataType),n.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){n.fire(new t.Event(e.dataType+"dataloading",e))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},i.prototype.hasControl=function(t){return this._controls.indexOf(t)>-1},i.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(t,e,n){var r,i=this;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(i,new jr(t,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){(i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(i,new jr(t,i,r.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(i,new jr(t,i,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(r={},r[t]=function(t){var r=i.getLayer(e)?i.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(i,t),delete t.features)},r)}},i.prototype.on=function(t,e,n){if(void 0===n)return r.prototype.on.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(t,e,n){if(void 0===n)return r.prototype.once.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(t,e,n){var i=this;return void 0===n?r.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(r){for(var o=r[t],a=0;a<o.length;a++){var s=o[a];if(s.layer===e&&s.listener===n){for(var l in s.delegates)i.off(l,s.delegates[l]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},i.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},i.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new He(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new He(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(e,n){var r=this;if("string"==typeof e){var i=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},i.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,l=r.content;if(this._lazyInitEmptyStyle(),n instanceof Si||Oi&&n instanceof Oi){var u=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:u.width,height:u.height},u.data),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e)}},i.prototype.updateImage=function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Si||Oi&&n instanceof Oi?t.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Si||Oi&&n instanceof Oi)),void this.style.updateImage(e,r))},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},i.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,n,r),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(e,n){var r=t.browser.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new _r(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype._onMapScroll=function(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(e){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=t.browser.now();this.style.zoomHistory.update(s,l);var u=new t.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var h=t.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var e=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new t.Event("gpu-timing-frame",{cpuTime:h,gpuTime:e}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var e=r.painter.queryGpuTimers(p);r.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}var f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Ci(this._canvasContainer),Ci(this._controlContainer),Ci(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){e._frame=null,e._render(t)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(t){this._showPadding!==t&&(this._showPadding=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},i.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},o.version.get=function(){return t.version},Object.defineProperties(i.prototype,o),i}(vi);function Ci(t){t.parentNode&&t.parentNode.removeChild(t)}var Ti={showCompass:!0,showZoom:!0,visualizePitch:!1},Pi=function(e){var r=this;this.options=t.extend({},Ti,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return r._map.zoomOut({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Pi.prototype._updateZoomButtons=function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Pi.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Pi.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ai(this._map,this._compass,this.options.visualizePitch)),this._container},Pi.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Pi.prototype._createButton=function(t,e){var r=n.create("button",t,this._container);return r.type="button",r.addEventListener("click",e),r},Pi.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var Ai=function(e,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Yr({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,i&&(this.mousePitch=new Zr({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Ii(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Ai.prototype.down=function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),n.disableDrag()},Ai.prototype.move=function(t,e){var n=this.map,r=this.mouseRotate.mousemoveWindow(t,e);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(t,e);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Ai.prototype.off=function(){var t=this.element;n.removeEventListener(t,"mousedown",this.mousedown),n.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(t,"touchmove",this.touchmove),n.removeEventListener(t,"touchend",this.touchend),n.removeEventListener(t,"touchcancel",this.reset),this.offTemp()},Ai.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(t.window,"mousemove",this.mousemove),n.removeEventListener(t.window,"mouseup",this.mouseup)},Ai.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),n.mousePos(this.element,e)),n.addEventListener(t.window,"mousemove",this.mousemove),n.addEventListener(t.window,"mouseup",this.mouseup)},Ai.prototype.mousemove=function(t){this.move(t,n.mousePos(this.element,t))},Ai.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},Ai.prototype.touchstart=function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))},Ai.prototype.touchmove=function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))},Ai.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ai.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Di={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ji(t,e,n){var r=t.classList;for(var i in Di)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Ri,Li=function(e){function r(r,i){if(e.call(this),(r instanceof t.window.HTMLElement||i)&&(r=t.extend({element:r},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var h=c[u],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",h.rx),p.setAttributeNS(null,"ry",h.ry),l.appendChild(p)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var d=n.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(d);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),v.appendChild(_),v.appendChild(b),s.appendChild(l),s.appendChild(f),s.appendChild(m),s.appendChild(y),s.appendChild(v),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),ji(this._element,this._anchor,"marker"),this._popup=null}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,Di[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+e)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(t.Evented),zi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ni=0,Fi=!1,Bi=function(e){function r(n){e.call(this),this.options=t.extend({},zi,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Ri?r(Ri):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){r(Ri="denied"!==t.state)})):r(Ri=!!t.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ni=0,Fi=!1},r.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},r.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),r=e.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Fi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Li(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Li({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ni--,Fi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ni>1?(e={maximumAge:6e5,timeout:0},Fi=!0):(e=this.options.positionOptions,Fi=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),Ui={maxWidth:100,unit:"metric"},Vi=function(e){this.options=t.extend({},Ui,e),t.bindAll(["_onMove","setUnit"],this)};function Hi(t,e,n){var r=n&&n.maxWidth||100,i=t._container.clientHeight/2,o=t.unproject([0,i]),a=t.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?Wi(e,r,l/5280,t._getUIString("ScaleControl.Miles")):Wi(e,r,l,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Wi(e,r,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Wi(e,r,s/1e3,t._getUIString("ScaleControl.Kilometers")):Wi(e,r,s,t._getUIString("ScaleControl.Meters"))}function Wi(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a)));t.style.width=e*(s/n)+"px",t.innerHTML=s+"&nbsp;"+r}Vi.prototype.getDefaultPosition=function(){return"bottom-left"},Vi.prototype._onMove=function(){Hi(this._map,this._container,this.options)},Vi.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vi.prototype.setUnit=function(t){this.options.unit=t,Hi(this._map,this._container,this.options)};var qi=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};qi.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},qi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},qi.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},qi.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},qi.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},qi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},qi.prototype._isFullscreen=function(){return this._fullscreen},qi.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},qi.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ki={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Yi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Zi=function(e){function r(n){e.call(this),this.options=t.extend(Object.create(Ki),n),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},r.prototype.setDOMContent=function(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},r.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},r.prototype.setOffset=function(t){return this.options.offset=t,this._update(),this},r.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(t){this._update(t.point)},r.prototype._onMouseMove=function(t){this._update(t.point)},r.prototype._onDrag=function(t){this._update(t.point)},r.prototype._update=function(e){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return r._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var i=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var s,l=this._container.offsetWidth,u=this._container.offsetHeight;s=i.y+a.bottom.y<u?["top"]:i.y>this._map.transform.height-u?["bottom"]:[],i.x<l/2?s.push("left"):i.x>this._map.transform.width-l/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Di[o]+" translate("+c.x+"px,"+c.y+"px)"),ji(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(Yi);t&&t.focus()}},r.prototype._onClose=function(){this.remove()},r}(t.Evented),Gi={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Mi,NavigationControl:Pi,GeolocateControl:Bi,AttributionControl:_i,ScaleControl:Vi,FullscreenControl:qi,Popup:Zi,Marker:Li,Style:He,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){Nt().acquire(jt)},clearPrewarmedResources:function(){var t=Lt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(jt),Lt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Rt.workerCount},set workerCount(t){Rt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Gi})),n}()},function(t,e,n){"use strict";function r(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return Di})),n.d(e,"b",(function(){return Zn})),n.d(e,"c",(function(){return Ji})),n.d(e,"d",(function(){return Gn})),n.d(e,"e",(function(){return vo})),n.d(e,"f",(function(){return Oi})),n.d(e,"g",(function(){return Xn})),n.d(e,"h",(function(){return to})),n.d(e,"i",(function(){return Jn})),n.d(e,"j",(function(){return wo})),n.d(e,"k",(function(){return Qn})),n.d(e,"l",(function(){return $n})),n.d(e,"m",(function(){return tr})),n.d(e,"n",(function(){return mr})),n.d(e,"o",(function(){return no})),n.d(e,"p",(function(){return go}));const i=function(){let t=0;return function(){return t++}}();function o(t){return null===t||"undefined"===typeof t}function a(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function s(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const l=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function u(t,e){return l(t)?t:e}function c(t,e){return"undefined"===typeof t?e:t}const h=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function p(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function f(t,e,n,r){let i,o,l;if(a(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(s(t))for(l=Object.keys(t),o=l.length,i=0;i<o;i++)e.call(n,t[l[i]],l[i])}function d(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function m(t){if(a(t))return t.map(m);if(s(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=m(t[n[i]]);return e}return t}function g(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function y(t,e,n,r){if(!g(t))return;const i=e[t],o=n[t];s(i)&&s(o)?v(i,o,r):e[t]=m(o)}function v(t,e,n){const r=a(e)?e:[e],i=r.length;if(!s(t))return t;const o=(n=n||{}).merger||y;for(let a=0;a<i;++a){if(!s(e=r[a]))continue;const i=Object.keys(e);for(let r=0,a=i.length;r<a;++r)o(i[r],t,e,n)}return t}function _(t,e){return v(t,e,{merger:b})}function b(t,e,n){if(!g(t))return;const r=e[t],i=n[t];s(r)&&s(i)?_(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=m(i))}const x={"":t=>t,x:t=>t.x,y:t=>t.y};function w(t,e){const n=x[e]||(x[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function S(t){return t.charAt(0).toUpperCase()+t.slice(1)}const E=t=>"undefined"!==typeof t,O=t=>"function"===typeof t,k=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const M=Math.PI,C=2*M,T=C+M,P=Number.POSITIVE_INFINITY,A=M/180,I=M/2,D=M/4,j=2*M/3,R=Math.log10,L=Math.sign;function z(t){const e=Math.round(t);t=F(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(R(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function N(t){return!isNaN(parseFloat(t))&&isFinite(t)}function F(t,e,n){return Math.abs(t-e)<n}function B(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function U(t){return t*(M/180)}function V(t){return t*(180/M)}function H(t){if(!l(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function W(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*M&&(o+=C),{angle:o,distance:i}}function q(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function K(t,e){return(t-e+T)%C-M}function Y(t){return(t%C+C)%C}function Z(t,e,n,r){const i=Y(t),o=Y(e),a=Y(n),s=Y(o-i),l=Y(a-i),u=Y(i-o),c=Y(i-a);return i===o||i===a||r&&o===a||s>l&&u<c}function G(t,e,n){return Math.max(e,Math.min(n,t))}function X(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function J(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const $=(t,e,n,r)=>J(t,n,r?r=>t[r][e]<=n:r=>t[r][e]<n),Q=(t,e,n)=>J(t,n,(r=>t[r][e]>=n));const tt=["push","pop","shift","splice","unshift"];function et(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(tt.forEach((e=>{delete t[e]})),delete t._chartjs)}function nt(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const rt="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function it(t,e,n){const r=n||(t=>Array.prototype.slice.call(t));let i=!1,o=[];return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];o=r(a),i||(i=!0,rt.call(window,(()=>{i=!1,t.apply(e,o)})))}}const ot=t=>"start"===t?"left":"end"===t?"right":"center",at=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function st(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:s}=t,l=a.axis,{min:u,max:c,minDefined:h,maxDefined:p}=a.getUserBounds();h&&(i=G(Math.min($(s,a.axis,u).lo,n?r:$(e,l,a.getPixelForValue(u)).lo),0,r-1)),o=p?G(Math.max($(s,a.axis,c,!0).hi+1,n?0:$(e,l,a.getPixelForValue(c),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}}function lt(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const ut=t=>0===t||1===t,ct=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*C/n),ht=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*C/n)+1,pt={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*I),easeOutSine:t=>Math.sin(t*I),easeInOutSine:t=>-.5*(Math.cos(M*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ut(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ut(t)?t:ct(t,.075,.3),easeOutElastic:t=>ut(t)?t:ht(t,.075,.3),easeInOutElastic(t){const e=.1125;return ut(t)?t:t<.5?.5*ct(2*t,e,.45):.5+.5*ht(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-pt.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*pt.easeInBounce(2*t):.5*pt.easeOutBounce(2*t-1)+.5};function ft(t){return t+.5|0}const dt=(t,e,n)=>Math.max(Math.min(t,n),e);function mt(t){return dt(ft(2.55*t),0,255)}function gt(t){return dt(ft(255*t),0,255)}function yt(t){return dt(ft(t/2.55)/100,0,1)}function vt(t){return dt(ft(100*t),0,100)}const _t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bt=[..."0123456789ABCDEF"],xt=t=>bt[15&t],wt=t=>bt[(240&t)>>4]+bt[15&t],St=t=>(240&t)>>4===(15&t);function Et(t){var e=(t=>St(t.r)&&St(t.g)&&St(t.b)&&St(t.a))(t)?xt:wt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Ot=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kt(t,e,n){const r=e*Math.min(n,1-n),i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Mt(t,e,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Ct(t,e,n){const r=kt(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Tt(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;let s,l,u;return i!==o&&(u=i-o,l=a>.5?u/(2-i-o):u/(i+o),s=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,u,i),s=60*s+.5),[0|s,l||0,a]}function Pt(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(gt)}function At(t,e,n){return Pt(kt,t,e,n)}function It(t){return(t%360+360)%360}function Dt(t){const e=Ot.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?mt(+e[5]):gt(+e[5]));const i=It(+e[2]),o=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Pt(Ct,t,e,n)}(i,o,a):"hsv"===e[1]?function(t,e,n){return Pt(Mt,t,e,n)}(i,o,a):At(i,o,a),{r:n[0],g:n[1],b:n[2],a:r}}const jt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Lt;function zt(t){Lt||(Lt=function(){const t={},e=Object.keys(Rt),n=Object.keys(jt);let r,i,o,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,jt[o]);o=parseInt(Rt[a],16),t[s]=[o>>16&255,o>>8&255,255&o]}return t}(),Lt.transparent=[0,0,0,0]);const e=Lt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Nt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ft=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Bt=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ut(t,e,n){if(t){let r=Tt(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=At(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Vt(t,e){return t?Object.assign(e||{},t):t}function Ht(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=gt(t[3]))):(e=Vt(t,{r:0,g:0,b:0,a:1})).a=gt(e.a),e}function Wt(t){return"r"===t.charAt(0)?function(t){const e=Nt.exec(t);let n,r,i,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?mt(t):dt(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?mt(n):dt(n,0,255)),r=255&(e[4]?mt(r):dt(r,0,255)),i=255&(e[6]?mt(i):dt(i,0,255)),{r:n,g:r,b:i,a:o}}}(t):Dt(t)}class qt{constructor(t){if(t instanceof qt)return t;const e=typeof t;let n;"object"===e?n=Ht(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*_t[t[1]],g:255&17*_t[t[2]],b:255&17*_t[t[3]],a:5===n?17*_t[t[4]]:255}:7!==n&&9!==n||(e={r:_t[t[1]]<<4|_t[t[2]],g:_t[t[3]]<<4|_t[t[4]],b:_t[t[5]]<<4|_t[t[6]],a:9===n?_t[t[7]]<<4|_t[t[8]]:255})),e}(t)||zt(t)||Wt(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Vt(this._rgb);return t&&(t.a=yt(t.a)),t}set rgb(t){this._rgb=Ht(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(yt(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?Et(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Tt(t),n=e[0],r=vt(e[1]),i=vt(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(yt(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const o=e===i?.5:e,a=2*o-1,s=n.a-r.a,l=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=Bt(yt(t.r)),i=Bt(yt(t.g)),o=Bt(yt(t.b));return{r:gt(Ft(r+n*(Bt(yt(e.r))-r))),g:gt(Ft(i+n*(Bt(yt(e.g))-i))),b:gt(Ft(o+n*(Bt(yt(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new qt(this.rgb)}alpha(t){return this._rgb.a=gt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=ft(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ut(this._rgb,2,t),this}darken(t){return Ut(this._rgb,2,-t),this}saturate(t){return Ut(this._rgb,1,t),this}desaturate(t){return Ut(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Tt(t);n[0]=It(n[0]+e),n=At(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Kt(t){return new qt(t)}function Yt(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Zt(t){return Yt(t)?t:Kt(t)}function Gt(t){return Yt(t)?t:Kt(t).saturate(.5).darken(.1).hexString()}const Xt=Object.create(null),Jt=Object.create(null);function $t(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function Qt(t,e,n){return"string"===typeof e?v($t(t,e),n):v($t(t,""),e)}var te=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Gt(e.backgroundColor),this.hoverBorderColor=(t,e)=>Gt(e.borderColor),this.hoverColor=(t,e)=>Gt(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return Qt(this,t,e)}get(t){return $t(this,t)}describe(t,e){return Qt(Jt,t,e)}override(t,e){return Qt(Xt,t,e)}route(t,e,n,r){const i=$t(this,t),o=$t(this,n),a="_"+e;Object.defineProperties(i,{[a]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[r];return s(t)?Object.assign({},e,t):c(t,e)},set(t){this[a]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function ee(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function ne(t,e,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let s=0;const l=n.length;let u,c,h,p,f;for(u=0;u<l;u++)if(p=n[u],void 0!==p&&null!==p&&!0!==a(p))s=ee(t,i,o,s,p);else if(a(p))for(c=0,h=p.length;c<h;c++)f=p[c],void 0===f||null===f||a(f)||(s=ee(t,i,o,s,f));t.restore();const d=o.length/2;if(d>n.length){for(u=0;u<d;u++)delete i[o[u]];o.splice(0,d)}return s}function re(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function ie(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function oe(t,e,n,r){ae(t,e,n,r,null)}function ae(t,e,n,r,i){let o,a,s,l,u,c;const h=e.pointStyle,p=e.rotation,f=e.radius;let d=(p||0)*A;if(h&&"object"===typeof h&&(o=h.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(d),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(f)||f<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,r,i/2,f,0,0,C):t.arc(n,r,f,0,C),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(d)*f,r-Math.cos(d)*f),d+=j,t.lineTo(n+Math.sin(d)*f,r-Math.cos(d)*f),d+=j,t.lineTo(n+Math.sin(d)*f,r-Math.cos(d)*f),t.closePath();break;case"rectRounded":u=.516*f,l=f-u,a=Math.cos(d+D)*l,s=Math.sin(d+D)*l,t.arc(n-a,r-s,u,d-M,d-I),t.arc(n+s,r-a,u,d-I,d),t.arc(n+a,r+s,u,d,d+I),t.arc(n-s,r+a,u,d+I,d+M),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*f,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}d+=D;case"rectRot":a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(n-a,r-s),t.lineTo(n+s,r-a),t.lineTo(n+a,r+s),t.lineTo(n-s,r+a),t.closePath();break;case"crossRot":d+=D;case"cross":a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s),t.moveTo(n+s,r-a),t.lineTo(n-s,r+a);break;case"star":a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s),t.moveTo(n+s,r-a),t.lineTo(n-s,r+a),d+=D,a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s),t.moveTo(n+s,r-a),t.lineTo(n-s,r+a);break;case"line":a=i?i/2:Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(d)*f,r+Math.sin(d)*f)}t.fill(),e.borderWidth>0&&t.stroke()}}function se(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function le(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ue(t){t.restore()}function ce(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function he(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function pe(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const l=a(e)?e:[e],u=s.strokeWidth>0&&""!==s.strokeColor;let c,h;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);o(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),c=0;c<l.length;++c)h=l[c],u&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),o(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(h,n,r,s.maxWidth)),t.fillText(h,n,r,s.maxWidth),fe(t,n,r,h,s),r+=i.lineHeight;t.restore()}function fe(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,c),t.lineTo(s,c),t.stroke()}}function de(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-I,M,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,M,I,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,I,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-I,!0),t.lineTo(n+a.topLeft,r)}const me=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ge=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ye(t,e){const n=(""+t).match(me);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const ve=t=>+t||0;function _e(t,e){const n={},r=s(e),i=r?Object.keys(e):e,o=s(t)?r?n=>c(t[n],t[e[n]]):e=>t[e]:()=>t;for(const a of i)n[a]=ve(o(a));return n}function be(t){return _e(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xe(t){return _e(t,["topLeft","topRight","bottomLeft","bottomRight"])}function we(t){const e=be(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Se(t,e){t=t||{},e=e||te.font;let n=c(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=c(t.style,e.style);r&&!(""+r).match(ge)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:c(t.family,e.family),lineHeight:ye(c(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:c(t.weight,e.weight),string:""};return i.string=function(t){return!t||o(t.size)||o(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Ee(t,e,n,r){let i,o,s,l=!0;for(i=0,o=t.length;i<o;++i)if(s=t[i],void 0!==s&&(void 0!==e&&"function"===typeof s&&(s=s(e),l=!1),void 0!==n&&a(s)&&(s=s[n%s.length],l=!1),void 0!==s))return r&&!l&&(r.cacheable=!1),s}function Oe(t,e){return Object.assign(Object.create(t),e)}function ke(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];E(r)||(r=ze("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>ke([i,...t],e,n,r)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>Ae(n,r,(()=>function(t,e,n,r){let i;for(const o of e)if(i=ze(Te(o,t),n),E(i))return Pe(t,i)?Re(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Ne(t).includes(e),ownKeys:t=>Ne(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function Me(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ce(t,r),setContext:e=>Me(t,e,n,r),override:i=>Me(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Ae(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=t;let u=r[e];O(u)&&l.isScriptable(e)&&(u=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t),e=e(o,a||r),s.delete(t),Pe(t,e)&&(e=Re(i._scopes,i,t,e));return e}(e,u,t,n));a(u)&&u.length&&(u=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:l}=n;if(E(o.index)&&r(t))e=e[o.index%e.length];else if(s(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const s of n){const n=Re(r,i,t,s);e.push(Me(n,o,a&&a[t],l))}}return e}(e,u,t,l.isIndexable));Pe(e,u)&&(u=Me(u,i,o&&o[e],l));return u}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function Ce(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:O(n)?n:()=>n,isIndexable:O(r)?r:()=>r}}const Te=(t,e)=>t?t+S(e):e,Pe=(t,e)=>s(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Ae(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function Ie(t,e,n){return O(t)?t(e,n):t}const De=(t,e)=>!0===t?e:"string"===typeof t?w(e,t):void 0;function je(t,e,n,r,i){for(const o of e){const e=De(n,o);if(e){t.add(e);const o=Ie(e._fallback,n,i);if(E(o)&&o!==n&&o!==r)return o}else if(!1===e&&E(r)&&n!==r)return null}return!1}function Re(t,e,n,r){const i=e._rootScopes,o=Ie(e._fallback,n,r),l=[...t,...i],u=new Set;u.add(r);let c=Le(u,l,n,o||n,r);return null!==c&&((!E(o)||o===n||(c=Le(u,l,o,c,r),null!==c))&&ke(Array.from(u),[""],i,o,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(a(i)&&s(n))return n;return i}(e,n,r))))}function Le(t,e,n,r,i){for(;n;)n=je(t,e,n,r,i);return n}function ze(t,e){for(const n of e){if(!n)continue;const e=n[t];if(E(e))return e}}function Ne(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Fe(t,e,n,r){const{iScale:i}=t,{key:o="r"}=this._parsing,a=new Array(r);let s,l,u,c;for(s=0,l=r;s<l;++s)u=s+n,c=e[u],a[s]={r:i.parse(w(c,o),u)};return a}const Be=Number.EPSILON||1e-14,Ue=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ve=t=>"x"===t?"y":"x";function He(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,s=q(o,i),l=q(a,o);let u=s/(s+l),c=l/(s+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=r*u,p=r*c;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+p*(a.x-i.x),y:o.y+p*(a.y-i.y)}}}function We(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Ve(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,s,l,u=Ue(t,0);for(a=0;a<r;++a)if(s=l,l=u,u=Ue(t,a+1),l){if(u){const t=u[e]-l[e];i[a]=0!==t?(u[n]-l[n])/t:0}o[a]=s?u?L(i[a-1])!==L(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(t,e,n){const r=t.length;let i,o,a,s,l,u=Ue(t,0);for(let c=0;c<r-1;++c)l=u,u=Ue(t,c+1),l&&u&&(F(e[c],0,Be)?n[c]=n[c+1]=0:(i=n[c]/e[c],o=n[c+1]/e[c],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[c]=i*a*e[c],n[c+1]=o*a*e[c])))}(t,i,o),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=Ve(n),i=t.length;let o,a,s,l=Ue(t,0);for(let u=0;u<i;++u){if(a=s,s=l,l=Ue(t,u+1),!s)continue;const i=s[n],c=s[r];a&&(o=(i-a[n])/3,s["cp1".concat(n)]=i-o,s["cp1".concat(r)]=c-o*e[u]),l&&(o=(l[n]-i)/3,s["cp2".concat(n)]=i+o,s["cp2".concat(r)]=c+o*e[u])}}(t,o,e)}function qe(t,e,n){return Math.max(Math.min(t,n),e)}function Ke(t,e,n,r,i){let o,a,s,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)We(t,i);else{let n=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)s=t[o],l=He(n,s,t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}e.capBezierPoints&&function(t,e){let n,r,i,o,a,s=se(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&se(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=qe(i.cp1x,e.left,e.right),i.cp1y=qe(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=qe(i.cp2x,e.left,e.right),i.cp2y=qe(i.cp2y,e.top,e.bottom)))}(t,n)}function Ye(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Ze(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Ge(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const Xe=t=>window.getComputedStyle(t,null);const Je=["top","right","bottom","left"];function $e(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=Je[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Qe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function tn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Xe(n),o="border-box"===i.boxSizing,a=$e(i,"padding"),s=$e(i,"border","width"),{x:l,y:u,box:c}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let a,s,l=!1;if(Qe(i,o,t.target))a=i,s=o;else{const t=e.getBoundingClientRect();a=r.clientX-t.left,s=r.clientY-t.top,l=!0}return{x:a,y:s,box:l}}(t,n),h=a.left+(c&&s.left),p=a.top+(c&&s.top);let{width:f,height:d}=e;return o&&(f-=a.width+s.width,d-=a.height+s.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((u-p)/d*n.height/r)}}const en=t=>Math.round(10*t)/10;function nn(t,e,n,r){const i=Xe(t),o=$e(i,"margin"),a=Ge(i.maxWidth,t,"clientWidth")||P,s=Ge(i.maxHeight,t,"clientHeight")||P,l=function(t,e,n){let r,i;if(void 0===e||void 0===n){const o=Ze(t);if(o){const t=o.getBoundingClientRect(),a=Xe(o),s=$e(a,"border","width"),l=$e(a,"padding");e=t.width-l.width-s.width,n=t.height-l.height-s.height,r=Ge(a.maxWidth,o,"clientWidth"),i=Ge(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||P,maxHeight:i||P}}(t,e,n);let{width:u,height:c}=l;if("content-box"===i.boxSizing){const t=$e(i,"border","width"),e=$e(i,"padding");u-=e.width+t.width,c-=e.height+t.height}return u=Math.max(0,u-o.width),c=Math.max(0,r?Math.floor(u/r):c-o.height),u=en(Math.min(u,a,l.maxWidth)),c=en(Math.min(c,s,l.maxHeight)),u&&!c&&(c=en(u/2)),{width:u,height:c}}function rn(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=i/r,t.width=o/r;const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(t.height,"px"),a.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const on=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function an(t,e){const n=function(t,e){return Xe(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function sn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function ln(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function un(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=sn(t,i,n),s=sn(i,o,n),l=sn(o,e,n),u=sn(a,s,n),c=sn(s,l,n);return sn(u,c,n)}const cn=new Map;function hn(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=cn.get(n);return r||(r=new Intl.NumberFormat(t,e),cn.set(n,r)),r}(e,n).format(t)}function pn(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function fn(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function dn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function mn(t){return"angle"===t?{between:Z,compare:K,normalize:Y}:{between:X,compare:(t,e)=>t-e,normalize:t=>t}}function gn(t){let{start:e,end:n,count:r,loop:i,style:o}=t;return{start:e%r,end:n%r,loop:i&&(n-e+1)%r===0,style:o}}function yn(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:s,between:l,normalize:u}=mn(r),{start:c,end:h,loop:p,style:f}=function(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=mn(r),l=e.length;let u,c,{start:h,end:p,loop:f}=t;if(f){for(h+=l,p+=l,u=0,c=l;u<c&&a(s(e[h%l][r]),i,o);++u)h--,p--;h%=l,p%=l}return p<h&&(p+=l),{start:h,end:p,loop:f,style:t.style}}(t,e,n),d=[];let m,g,y,v=!1,_=null;const b=()=>v||l(i,y,m)&&0!==s(i,y),x=()=>!v||0===s(o,m)||l(o,y,m);for(let w=c,S=c;w<=h;++w)g=e[w%a],g.skip||(m=u(g[r]),m!==y&&(v=l(m,i,o),null===_&&b()&&(_=0===s(m,i)?w:S),null!==_&&x()&&(d.push(gn({start:_,end:w,loop:p,count:a,style:f})),_=null),S=w,y=m));return null!==_&&d.push(gn({start:_,end:h,loop:p,count:a,style:f})),d}function vn(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=yn(r[i],t.points,e);o.length&&n.push(...o)}return n}function _n(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),o=bn(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,l=n.length,u=[];let c=o,h=e[0].start,p=h;function f(t,e,r,i){const o=s?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=o;for(;n[e%l].skip;)e+=o;t%l!==e%l&&(u.push({start:t%l,end:e%l,loop:r,style:i}),c=i,h=e%l)}}for(const d of e){h=s?h:d.start;let t,e=n[h%l];for(p=h+1;p<=d.end;p++){const o=n[p%l];t=bn(r.setContext(Oe(i,{type:"segment",p0:e,p1:o,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),xn(t,c)&&f(h,p-1,d.loop,c),e=o,c=t}h<p-1&&f(h,p-1,d.loop,c)}return u}(t,e,n,r):e}function bn(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xn(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var wn=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=rt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const Sn="transparent",En={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=Zt(t||Sn),i=r.valid&&Zt(e||Sn);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class On{constructor(t,e,n,r){const i=e[n];r=Ee([t.to,r,i,t.from]);const o=Ee([t.from,i,r]);this._active=!0,this._fn=t.fn||En[t.type||typeof o],this._easing=pt[t.easing]||pt.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Ee([t.to,e,r,t.from]),this._from=Ee([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=i:(s=e/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}te.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const kn=Object.keys(te.animation);te.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),te.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),te.describe("animations",{_fallback:"animation"}),te.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class Mn{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!s(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n];if(!s(r))return;const i={};for(const t of kn)i[t]=r[t];(a(r.properties)&&r.properties||[n]).forEach((t=>{t!==n&&e.has(t)||e.set(t,i)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const l=o[s];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const u=e[l];let c=i[l];const h=n.get(l);if(c){if(h&&c.active()){c.update(h,u,a);continue}c.cancel()}h&&h.duration?(i[l]=c=new On(h,t,l,u),r.push(c)):t[l]=u}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(wn.add(this._chart,n),!0):void 0}}function Cn(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Tn(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function Pn(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.keys,o="single"===r.mode;let a,s,u,c;if(null!==e){for(a=0,s=i.length;a<s;++a){if(u=+i[a],u===n){if(r.all)continue;break}c=t.values[u],l(c)&&(o||0===e||L(e)===L(c))&&(e+=c)}return e}}function An(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function In(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Dn(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function jn(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,l=o.axis,u=a.axis,c=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(o,a,r),h=e.length;let p;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[u]:o}=t;p=(t._stacks||(t._stacks={}))[u]=In(i,c,n),p[s]=o,p._top=Dn(p,a,!0,r.type),p._bottom=Dn(p,a,!1,r.type)}}function Rn(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Ln(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n]}}}const zn=t=>"reset"===t||"none"===t,Nn=(t,e)=>e?t:Object.assign({},t);class Fn{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=An(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Ln(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=c(n.xAxisID,Rn(t,"x")),o=e.yAxisID=c(n.yAxisID,Rn(t,"y")),a=e.rAxisID=c(n.rAxisID,Rn(t,"r")),s=e.indexAxis,l=e.iAxisID=r(s,i,o,a),u=e.vAxisID=r(s,o,i,a);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&et(this._data,this),t._stacked&&Ln(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(s(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}(e);else if(n!==e){if(n){et(n,this);const t=this._cachedMeta;Ln(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),tt.forEach((t=>{const e="_onData"+S(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const a=n.apply(this,i);return r._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...i)})),a}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=An(e.vScale,e),e.stack!==n.stack&&(r=!0,Ln(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&jn(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,l=i.axis;let u,c,h,p=0===t&&e===r.length||n._sorted,f=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,h=r;else{h=a(r[t])?this.parseArrayData(n,r,t,e):s(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===c[l]||f&&c[l]<f[l];for(u=0;u<e;++u)n._parsed[u+t]=c=h[u],p&&(i()&&(p=!1),f=c);n._sorted=p}o&&jn(this,h)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,a=i.axis,s=o.axis,l=i.getLabels(),u=i===o,c=new Array(r);let h,p,f;for(h=0,p=r;h<p;++h)f=h+n,c[h]={[a]:u||i.parse(l[f],f),[s]:o.parse(e[f],f)};return c}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,a=new Array(r);let s,l,u,c;for(s=0,l=r;s<l;++s)u=s+n,c=e[u],a[s]={x:i.parse(c[0],u),y:o.parse(c[1],u)};return a}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(r);let u,c,h,p;for(u=0,c=r;u<c;++u)h=u+n,p=e[h],l[u]={x:i.parse(w(p,a),h),y:o.parse(w(p,s),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis];return Pn({keys:Tn(r,!0),values:e._stacks[t.axis]},o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const a=r&&n._stacks[e.axis];r&&a&&(r.values=a,o=Pn(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,o=r.length,a=this._getOtherScale(t),s=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Tn(n,!0),values:null})(e,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let p,f;function d(){f=r[p];const e=f[a.axis];return!l(f[t.axis])||c>e||h<e}for(p=0;p<o&&(d()||(this.updateRangeFromParsed(u,t,f,s),!i));++p);if(i)for(p=o-1;p>=0;--p)if(!d()){this.updateRangeFromParsed(u,t,f,s);break}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],l(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return s(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(c(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=Cn(t,n),i=Cn(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,i,a,s),u=a;u<a+s;++u){const e=r[u];e.hidden||(e.active&&l?o.push(e):e.draw(t,i))}for(u=0;u<o.length;++u)o[u].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return Oe(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return Oe(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===e,i=this._cachedDataOpts,o=t+"-"+e,a=i[o],s=this.enableOptionSharing&&E(n);if(a)return Nn(a,s);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,t),c=r?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),u),p=Object.keys(te.elements[t]),f=l.resolveNamedOptions(h,p,(()=>this.getContext(n,r)),c);return f.$shared&&(f.$shared=s,i[o]=Object.freeze(Nn(f,s))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,o="animation-".concat(e),a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(t,n,e))}const l=new Mn(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||zn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,r){zn(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!zn(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[a,s,l]of this._syncList)this[a](s,l);this._syncList=[];const r=n.length,i=e.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,o=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(s(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Ln(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Bn(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=nt(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,o,a,s=e._length;const l=()=>{32767!==o&&-32768!==o&&(E(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function Un(t,e,n,r){return a(t)?function(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o);let l=a,u=s;Math.abs(a)>Math.abs(s)&&(l=s,u=a),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Vn(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),s=i===o,l=[];let u,c,h,p;for(u=n,c=n+r;u<c;++u)p=e[u],h={},h[i.axis]=s||i.parse(a[u],u),l.push(Un(p,h,o,u));return l}function Hn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Wn(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:l,top:u,bottom:c}=function(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=c:(o[qn(c,a,s,l)]=!0,i=u)),o[qn(i,a,s,l)]=!0,t.borderSkipped=o}function qn(t,e,n,r){var i,o,a;return r?(a=n,t=Kn(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=Kn(t,e,n),t}function Kn(t,e,n){return"start"===t?e:"end"===t?n:t}function Yn(t,e,n){let{inflateAmount:r}=e;t.inflateAmount="auto"===r?1===n?.33:0:r}Fn.defaults={},Fn.prototype.datasetElementType=null,Fn.prototype.dataElementType=null;class Zn extends Fn{parsePrimitiveData(t,e,n,r){return Vn(t,e,n,r)}parseArrayData(t,e,n,r){return Vn(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===i.axis?a:s,u="x"===o.axis?a:s,c=[];let h,p,f,d;for(h=n,p=n+r;h<p;++h)d=e[h],f={},f[i.axis]=i.parse(w(d,l),h),c.push(Un(w(d,u),f,o,h));return c}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),o=i._custom,a=Hn(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:a,_cachedMeta:{vScale:s}}=this,l=s.getBasePixel(),u=s.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(e,r);for(let f=e;f<e+n;f++){const e=this.getParsed(f),n=i||o(e[s.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),d=this._calculateBarIndexPixels(f,c),m=(e._stacks||{})[s.axis],g={horizontal:u,base:n.base,enableBorderRadius:!m||Hn(e._custom)||a===m._top||a===m._bottom,x:u?n.head:d.center,y:u?d.center:n.head,height:u?d.size:Math.abs(n.size),width:u?Math.abs(n.size):d.size};p&&(g.options=h||this.resolveDataElementOptions(f,t[f].active?"active":r));const y=g.options||t[f].options;Wn(g,y,m,a),Yn(g,y,c.ratio),this.updateElement(t[f],f,g,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,a=[],s=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(o(r)||isNaN(r))return!0};for(const o of r)if((void 0===e||!s(o))&&((!1===i||-1===a.indexOf(o.stack)||void 0===i&&void 0===o.stack)&&a.push(o.stack),o.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,o;for(i=0,o=e.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=t.barThickness;return{min:a||Bn(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:r,minBarLength:i}}=this,a=r||0,s=this.getParsed(t),l=s._custom,u=Hn(l);let c,h,p=s[e.axis],f=0,d=n?this.applyStack(e,s,n):p;d!==p&&(f=d-p,d=p),u&&(p=l.barStart,d=l.barEnd-l.barStart,0!==p&&L(p)!==L(l.barEnd)&&(f=0),f+=p);const m=o(r)||u?f:r;let g=e.getPixelForValue(m);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(f+d):g,h=c-g,Math.abs(h)<i){h=function(t,e,n){return 0!==t?L(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,a)*i,p===a&&(g-=h/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),r=Math.min(t,n),o=Math.max(t,n);g=Math.max(Math.min(g,o),r),c=g+h}if(g===e.getPixelForValue(a)){const t=L(h)*e.getLineWidthForValue(a)/2;g+=t,h-=t}return{size:h,base:g,head:c,center:c+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,a=c(r.maxBarThickness,1/0);let s,l;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,u="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);const u=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:n.barPercentage,start:u}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let a,s;return o(i)?(a=e.min*n.categoryPercentage,s=n.barPercentage):(a=i*r,s=1),{chunk:a/r,ratio:s,start:e.pixels[t]-a/2}}(t,e,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);s=u.start+u.chunk*c+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(a,e.min*e.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}Zn.id="bar",Zn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Zn.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Gn extends Fn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let o=0;o<i.length;o++){const t=e[n+o];i[o]._custom=c(t[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let o=0;o<i.length;o++){const t=e[n+o];i[o]._custom=c(t&&t.r&&+t.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:r}=e,i=this.getParsed(t),o=n.getLabelForValue(i.x),a=r.getLabelForValue(i.y),s=i._custom;return{label:e.label,value:"("+o+", "+a+(s?", "+s:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(e,r),u=o.axis,c=a.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),p={},f=p[u]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[u]),d=p[c]=i?a.getBasePixel():a.getPixelForValue(n[c]);p.skip=isNaN(f)||isNaN(d),l&&(p.options=s||this.resolveDataElementOptions(h,e.active?"active":r),i&&(p.options.radius=0)),this.updateElement(e,h,p,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=c(n&&n._custom,i),r}}Gn.id="bubble",Gn.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Gn.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Xn extends Fn{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,a=t=>+n[t];if(s(n[t])){const{key:t="value"}=this._parsing;a=e=>+w(n[e],t)}for(i=t,o=t+e;i<o;++i)r._parsed[i]=a(i)}}_getRotation(){return U(this.options.rotation-90)}_getCircumference(){return U(this.options.circumference)}_getRotationExtents(){let t=C,e=-C;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),s=Math.min((l=this.options.cutout,u=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:l/u),1);var l,u;const c=this._getRingWeight(this.index),{circumference:p,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:m,offsetX:g,offsetY:y}=function(t,e,n){let r=1,i=1,o=0,a=0;if(e<C){const s=t,l=s+e,u=Math.cos(s),c=Math.sin(s),h=Math.cos(l),p=Math.sin(l),f=(t,e,r)=>Z(t,s,l,!0)?1:Math.max(e,e*n,r,r*n),d=(t,e,r)=>Z(t,s,l,!0)?-1:Math.min(e,e*n,r,r*n),m=f(0,u,h),g=f(I,c,p),y=d(M,u,h),v=d(M+I,c,p);r=(m-y)/2,i=(g-v)/2,o=-(m+y)/2,a=-(g+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(f,p,s),v=(n.width-o)/d,_=(n.height-o)/m,b=Math.max(Math.min(v,_)/2,0),x=h(this.options.radius,b),w=(x-Math.max(x*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=y*x,r.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/C)}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.chartArea,s=o.options.animation,l=(a.left+a.right)/2,u=(a.top+a.bottom)/2,c=i&&s.animateScale,h=c?0:this.innerRadius,p=c?0:this.outerRadius,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,r);let m,g=this._getRotation();for(m=0;m<e;++m)g+=this._circumference(m,i);for(m=e;m<e+n;++m){const e=this._circumference(m,i),n=t[m],o={x:l+this.offsetX,y:u+this.offsetY,startAngle:g,endAngle:g+e,circumference:e,outerRadius:p,innerRadius:h};d&&(o.options=f||this.resolveDataElementOptions(m,n.active?"active":r)),g+=e,this.updateElement(n,m,o,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?C*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=hn(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,o,a,s;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),t=o.data,a=o.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(e=Math.max(e,s.borderWidth||0,s.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(c(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Xn.id="doughnut",Xn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Xn.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},Xn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const n=": "+t.formattedValue;return a(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Jn extends Fn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:a,count:s}=st(e,r,o);this._drawStart=a,this._drawCount=s,lt(e)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},t),this.updateElements(r,a,s,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:a,vScale:s,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(e,r),p=a.axis,f=s.axis,{spanGaps:d,segment:m}=this.options,g=N(d)?d:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let v=e>0&&this.getParsed(e-1);for(let _=e;_<e+n;++_){const e=t[_],n=this.getParsed(_),d=y?e:{},b=o(n[f]),x=d[p]=a.getPixelForValue(n[p],_),w=d[f]=i||b?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,n,l):n[f],_);d.skip=isNaN(x)||isNaN(w)||b,d.stop=_>0&&Math.abs(n[p]-v[p])>g,m&&(d.parsed=n,d.raw=u.data[_]),h&&(d.options=c||this.resolveDataElementOptions(_,e.active?"active":r)),y||this.updateElement(e,_,d,r),v=n}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Jn.id="line",Jn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Jn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class $n extends Fn{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=hn(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return Fe.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,u=s.yCenter,c=s.getIndexAngle(0)-.5*M;let h,p=c;const f=360/this.countVisibleElements();for(h=0;h<e;++h)p+=this._computeAngle(h,r,f);for(h=e;h<e+n;h++){const e=t[h];let n=p,d=p+this._computeAngle(h,r,f),m=o.getDataVisibility(h)?s.getDistanceFromCenterForValue(this.getParsed(h).r):0;p=d,i&&(a.animateScale&&(m=0),a.animateRotate&&(n=d=c));const g={x:l,y:u,innerRadius:0,outerRadius:m,startAngle:n,endAngle:d,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,g,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?U(this.resolveDataElementOptions(t,e).angle||n):0}}$n.id="polarArea",$n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},$n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Qn extends Xn{}Qn.id="pie",Qn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class tr extends Fn{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return Fe.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,void 0,o,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let a=e;a<e+n;a++){const e=t[a],n=this.resolveDataElementOptions(a,e.active?"active":r),s=i.getPointPositionForValue(a,this.getParsed(a).r),l=o?i.xCenter:s.x,u=o?i.yCenter:s.y,c={x:l,y:u,angle:s.angle,skip:isNaN(l)||isNaN(u),options:n};this.updateElement(e,a,c,r)}}}tr.id="radar",tr.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},tr.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class er{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return N(this.x)&&N(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}er.defaults={},er.defaultRoutes=void 0;const nr={values:t=>a(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const a=R(Math.abs(o)),s=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),hn(t,r,l)},logarithmic(t,e,n){if(0===t)return"0";const r=t/Math.pow(10,Math.floor(R(t)));return 1===r||2===r||5===r?nr.numeric.call(this,t,e,n):""}};var rr={formatters:nr};function ir(t,e){const n=t.options.ticks,r=n.maxTicksLimit||function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],a=i.length,s=i[0],l=i[a-1],u=[];if(a>r)return function(t,e,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),o++,a=n[o*r])}(e,u,i,a/r),u;const c=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const o=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let a=0,s=o.length-1;a<s;a++){const t=o[a];if(t>i)return t}return Math.max(i,1)}(i,e,r);if(a>0){let t,n;const r=a>1?Math.round((l-s)/(a-1)):null;for(or(e,u,c,o(r)?0:s-r,s),t=0,n=a-1;t<n;t++)or(e,u,c,i[t],i[t+1]);return or(e,u,c,l,o(r)?e.length:l+r),u}return or(e,u,c),u}function or(t,e,n,r,i){const o=c(r,0),a=Math.min(c(i,t.length),t.length);let s,l,u,h=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),u=o;u<0;)h++,u=Math.round(o+h*n);for(l=Math.max(o,0);l<a;l++)l===u&&(e.push(t[l]),h++,u=Math.round(o+h*n))}te.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),te.route("scale.ticks","color","","color"),te.route("scale.grid","color","","borderColor"),te.route("scale.grid","borderColor","","borderColor"),te.route("scale.title","color","","color"),te.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),te.describe("scales",{_fallback:"scale"}),te.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const ar=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function sr(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function lr(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,s=1e-6;let l,u=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(u-o,a-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(i-1))/2,u+=i<e?l:-l,u<o-s||u>a+s)))return u}function ur(t){return t.drawTicks?t.tickLength:0}function cr(t,e){if(!t.display)return 0;const n=Se(t.font,e),r=we(t.padding);return(a(t.text)?t.text.length:1)*n.lineHeight+r.height}function hr(t,e,n){let r=ot(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class pr extends er{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=u(t,Number.POSITIVE_INFINITY),e=u(e,Number.NEGATIVE_INFINITY),n=u(n,Number.POSITIVE_INFINITY),r=u(r,Number.NEGATIVE_INFINITY),{min:u(t,n),max:u(e,r),minDefined:l(t),maxDefined:l(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,l=a.length;s<l;++s)e=a[s].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),o||(r=Math.max(r,e.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:u(n,u(r,n)),max:u(r,u(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){p(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,o=h(e,(i-r)/2),a=(t,e)=>n&&0===t?0:t+e;return{min:a(r,-Math.abs(o)),max:a(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?sr(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=ir(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){p(this.options.afterUpdate,[this])}beforeSetDimensions(){p(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){p(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),p(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){p(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=p(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){p(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){p(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,r=e.minRotation||0,i=e.maxRotation;let o,a,s,l=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const u=this._getLabelSizes(),c=u.widest.width,h=u.highest.height,p=G(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/n:p/(n-1),c+6>o&&(o=p/(n-(t.offset?.5:1)),a=this.maxHeight-ur(t.grid)-e.padding-cr(t.title,this.chart.options.font),s=Math.sqrt(c*c+h*h),l=V(Math.min(Math.asin(G((u.highest.height+6)/o,-1,1)),Math.asin(G(a/s,-1,1))-Math.asin(G(h/s,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){p(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){p(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=cr(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=ur(i)+o):(t.height=this.maxHeight,t.width=ur(i)+o),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:o}=this._getLabelSizes(),s=2*n.padding,l=U(this.labelRotation),u=Math.cos(l),c=Math.sin(l);if(a){const e=n.mirror?0:c*i.width+u*o.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=n.mirror?0:u*i.width+c*o.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,r,c,u)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,h=0;s?l?(c=r*t.width,h=n*e.height):(c=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?c=t.width:"inner"!==i&&(c=t.width/2,h=e.width/2),this.paddingLeft=Math.max((c-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-u+o)*this.width/(this.width-u),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){p(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)o(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=sr(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:r}=this,i=[],s=[];let l,u,c,h,p,d,m,g,y,v,_,b=0,x=0;for(l=0;l<e;++l){if(h=t[l].label,p=this._resolveTickFontOptions(l),n.font=d=p.string,m=r[d]=r[d]||{data:{},gc:[]},g=p.lineHeight,y=v=0,o(h)||a(h)){if(a(h))for(u=0,c=h.length;u<c;++u)_=h[u],o(_)||a(_)||(y=ee(n,m.data,m.gc,y,_),v+=g)}else y=ee(n,m.data,m.gc,y,h),v=g;i.push(y),s.push(v),b=Math.max(y,b),x=Math.max(v,x)}!function(t,e){f(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(r,e);const w=i.indexOf(b),S=s.indexOf(x),E=t=>({width:i[t]||0,height:s[t]||0});return{first:E(0),last:E(e-1),widest:E(w),highest:E(S),widths:i,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return G(this._alignToPixels?re(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Oe(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=Oe(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=U(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:o}=r,a=i.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=ur(i),p=[],f=i.setContext(this.getContext()),d=f.drawBorder?f.borderWidth:0,m=d/2,g=function(t){return re(n,t,d)};let y,v,_,b,x,w,S,E,O,k,M,C;if("top"===o)y=g(this.bottom),w=this.bottom-h,E=y-m,k=g(t.top)+m,C=t.bottom;else if("bottom"===o)y=g(this.top),k=t.top,C=g(t.bottom)-m,w=y+m,E=this.top+h;else if("left"===o)y=g(this.right),x=this.right-h,S=y-m,O=g(t.left)+m,M=t.right;else if("right"===o)y=g(this.left),O=t.left,M=g(t.right)-m,x=y+m,S=this.left+h;else if("x"===e){if("center"===o)y=g((t.top+t.bottom)/2+.5);else if(s(o)){const t=Object.keys(o)[0],e=o[t];y=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,C=t.bottom,w=y+m,E=w+h}else if("y"===e){if("center"===o)y=g((t.left+t.right)/2);else if(s(o)){const t=Object.keys(o)[0],e=o[t];y=g(this.chart.scales[t].getPixelForValue(e))}x=y-m,S=x-h,O=t.left,M=t.right}const T=c(r.ticks.maxTicksLimit,u),P=Math.max(1,Math.ceil(u/T));for(v=0;v<u;v+=P){const t=i.setContext(this.getContext(v)),e=t.lineWidth,r=t.color,o=t.borderDash||[],s=t.borderDashOffset,u=t.tickWidth,c=t.tickColor,h=t.tickBorderDash||[],f=t.tickBorderDashOffset;_=lr(this,v,a),void 0!==_&&(b=re(n,_,e),l?x=S=O=M=b:w=E=k=C=b,p.push({tx1:x,ty1:w,tx2:S,ty2:E,x1:O,y1:k,x2:M,y2:C,width:e,color:r,borderDash:o,borderDashOffset:s,tickWidth:u,tickColor:c,tickBorderDash:h,tickBorderDashOffset:f}))}return this._ticksLength=u,this._borderValue=y,p}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:c,padding:h,mirror:p}=i,f=ur(n.grid),d=f+h,m=p?-h:d,g=-U(this.labelRotation),y=[];let v,_,b,x,w,S,E,O,k,M,C,T,P="middle";if("top"===r)S=this.bottom-m,E=this._getXAxisLabelAlignment();else if("bottom"===r)S=this.top+m,E=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(f);E=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(f);E=t.textAlign,w=t.x}else if("x"===e){if("center"===r)S=(t.top+t.bottom)/2+d;else if(s(r)){const t=Object.keys(r)[0],e=r[t];S=this.chart.scales[t].getPixelForValue(e)+d}E=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-d;else if(s(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)}E=this._getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===u?P="top":"end"===u&&(P="bottom"));const A=this._getLabelSizes();for(v=0,_=l.length;v<_;++v){b=l[v],x=b.label;const t=i.setContext(this.getContext(v));O=this.getPixelForTick(v)+i.labelOffset,k=this._resolveTickFontOptions(v),M=k.lineHeight,C=a(x)?x.length:1;const e=C/2,n=t.color,s=t.textStrokeColor,u=t.textStrokeWidth;let h,f=E;if(o?(w=O,"inner"===E&&(f=v===_-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),T="top"===r?"near"===c||0!==g?-C*M+M/2:"center"===c?-A.highest.height/2-e*M+M:-A.highest.height+M/2:"near"===c||0!==g?M/2:"center"===c?A.highest.height/2-e*M:A.highest.height-C*M,p&&(T*=-1)):(S=O,T=(1-C)*M/2),t.showLabelBackdrop){const e=we(t.backdropPadding),n=A.heights[v],r=A.widths[v];let i=S+T-e.top,o=w-e.left;switch(P){case"middle":i-=n/2;break;case"bottom":i-=n}switch(E){case"center":o-=r/2;break;case"right":o-=r}h={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}y.push({rotation:g,label:x,font:k,color:n,strokeColor:s,strokeWidth:u,textOffset:T,textAlign:f,textBaseline:P,translation:[w,S],backdrop:h})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-U(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=t+i,a=this._getLabelSizes().widest.width;let s,l;return"left"===e?r?(l=this.right+i,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l+=a)):(l=this.right-o,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l=this.left)):"right"===e?r?(l=this.left+i,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l-=a)):(l=this.left+o,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=r.length;i<o;++i){const t=r[i];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,r=n.setContext(this.getContext()),i=n.drawBorder?r.borderWidth:0;if(!i)return;const o=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let s,l,u,c;this.isHorizontal()?(s=re(t,this.left,i)-i/2,l=re(t,this.right,o)+o/2,u=c=a):(u=re(t,this.top,i)-i/2,c=re(t,this.bottom,o)+o/2,s=l=a),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(s,u),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&le(e,n);const r=this._labelItems||(this._labelItems=this._computeLabelItems(t));let i,o;for(i=0,o=r.length;i<o;++i){const t=r[i],n=t.font,o=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),pe(e,o,0,t.textOffset,n,t)}n&&ue(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Se(n.font),o=we(n.padding),l=n.align;let u=i.lineHeight/2;"bottom"===e||"center"===e||s(e)?(u+=o.bottom,a(n.text)&&(u+=i.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:c,titleY:h,maxWidth:p,rotation:f}=function(t,e,n,r){const{top:i,left:o,bottom:a,right:l,chart:u}=t,{chartArea:c,scales:h}=u;let p,f,d,m=0;const g=a-i,y=l-o;if(t.isHorizontal()){if(f=at(r,o,l),s(n)){const t=Object.keys(n)[0],r=n[t];d=h[t].getPixelForValue(r)+g-e}else d="center"===n?(c.bottom+c.top)/2+g-e:ar(t,n,e);p=l-o}else{if(s(n)){const t=Object.keys(n)[0],r=n[t];f=h[t].getPixelForValue(r)-y+e}else f="center"===n?(c.left+c.right)/2-y+e:ar(t,n,e);d=at(r,a,i),m="left"===n?-I:I}return{titleX:f,titleY:d,maxWidth:p,rotation:m}}(this,u,e,l);pe(t,n.text,0,0,i,{color:n.color,maxWidth:p,rotation:f,textAlign:hr(l,e,r),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=c(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===pr.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];o[n]!==this.id||t&&o.type!==t||r.push(o)}return r}_resolveTickFontOptions(t){return Se(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class fr{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=v(Object.create(null),[n?te.get(n):{},te.get(e),t.defaults]);te.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),l=a.join(".");te.route(o,i,l,s)}))}(e,t.defaultRoutes);t.descriptors&&te.describe(e,t.descriptors)}(t,o,n),this.override&&te.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in te[r]&&(delete te[r][n],this.override&&delete Xt[n])}}var dr=new class{constructor(){this.controllers=new fr(Fn,"datasets",!0),this.elements=new fr(er,"elements"),this.plugins=new fr(Object,"plugins"),this.scales=new fr(pr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):f(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=S(t);p(n["before"+r],[],n),e[t](n),p(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}};class mr extends Fn{update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:o}=st(e,n,r);if(this._drawStart=i,this._drawCount=o,lt(e)&&(i=0,o=n.length),this.options.showLine){const{dataset:i,_dataset:o}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},t)}this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=dr.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:a,vScale:s,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(e,r),h=this.getSharedOptions(c),p=this.includeOptions(r,h),f=a.axis,d=s.axis,{spanGaps:m,segment:g}=this.options,y=N(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let _=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=v?e:{},m=o(n[d]),x=c[f]=a.getPixelForValue(n[f],b),w=c[d]=i||m?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,n,l):n[d],b);c.skip=isNaN(x)||isNaN(w)||m,c.stop=b>0&&Math.abs(n[f]-_[f])>y,g&&(c.parsed=n,c.raw=u.data[b]),p&&(c.options=h||this.resolveDataElementOptions(b,e.active?"active":r)),v||this.updateElement(e,b,c,r),_=n}this.updateSharedOptions(h,r,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,o)/2}}mr.id="scatter",mr.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},mr.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function gr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yr{constructor(t){this.options=t||{}}init(t){}formats(){return gr()}parse(t,e){return gr()}format(t,e){return gr()}add(t,e,n){return gr()}diff(t,e,n){return gr()}startOf(t,e,n){return gr()}endOf(t,e){return gr()}}yr.override=function(t){Object.assign(yr.prototype,t)};var vr={_date:yr};function _r(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,s=i._cachedMeta.iScale;if(s&&e===s.axis&&"r"!==e&&a&&o.length){const t=s._reversePixels?Q:$;if(!r)return t(o,e,n);if(i._sharedOptions){const r=o[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(o,e,n-i),a=t(o,e,n+i);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function br(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let s=0,l=o.length;s<l;++s){const{index:t,data:n}=o[s],{lo:l,hi:u}=_r(o[s],e,a,i);for(let e=l;e<=u;++e){const i=n[e];i.skip||r(i,t,e)}}}function xr(t,e,n,r,i){const o=[];if(!i&&!t.isPointInArea(e))return o;return br(t,n,e,(function(n,a,s){(i||se(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o}function wr(t,e,n,r,i,o){let a=[];const s=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return br(t,n,e,(function(n,u,c){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const p=n.getCenterPoint(i);if(!(!!o||t.isPointInArea(p))&&!h)return;const f=s(e,p);f<l?(a=[{element:n,datasetIndex:u,index:c}],l=f):f===l&&a.push({element:n,datasetIndex:u,index:c})})),a}function Sr(t,e,n,r,i,o){return o||t.isPointInArea(e)?"r"!==n||r?wr(t,e,n,r,i,o):function(t,e,n,r){let i=[];return br(t,n,e,(function(t,n,o){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],r),{angle:l}=W(t,{x:e.x,y:e.y});Z(l,a,s)&&i.push({element:t,datasetIndex:n,index:o})})),i}(t,e,n,i):[]}function Er(t,e,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return br(t,n,e,((t,r,l)=>{t[a](e[n],i)&&(o.push({element:t,datasetIndex:r,index:l}),s=s||t.inRange(e.x,e.y,i))})),r&&!s?[]:o}var Or={evaluateInteractionItems:br,modes:{index(t,e,n,r){const i=tn(e,t),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?xr(t,i,o,r,a):Sr(t,i,o,!1,r,a),l=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,r){const i=tn(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?xr(t,i,o,r,a):Sr(t,i,o,!1,r,a);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point:(t,e,n,r)=>xr(t,tn(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=tn(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Sr(t,i,o,n.intersect,r,a)},x:(t,e,n,r)=>Er(t,tn(e,t),"x",n.intersect,r),y:(t,e,n,r)=>Er(t,tn(e,t),"y",n.intersect,r)}};const kr=["left","top","right","bottom"];function Mr(t,e){return t.filter((t=>t.pos===e))}function Cr(t,e){return t.filter((t=>-1===kr.indexOf(t.pos)&&t.box.axis===e))}function Tr(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Pr(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!kr.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,s;for(o=0,a=t.length;o<a;++o){s=t[o];const{fullSize:a}=s.box,l=n[s.stack],u=l&&s.stackWeight/l.weight;s.horizontal?(s.width=u?u*r:a&&e.availableWidth,s.height=i):(s.width=r,s.height=u?u*i:a&&e.availableHeight)}return n}function Ar(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Ir(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Dr(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!s(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&Ir(a,o.getPadding());const l=Math.max(0,e.outerWidth-Ar(a,t,"left","right")),u=Math.max(0,e.outerHeight-Ar(a,t,"top","bottom")),c=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function jr(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function Rr(t,e,n,r){const i=[];let o,a,s,l,u,c;for(o=0,a=t.length,u=0;o<a;++o){s=t[o],l=s.box,l.update(s.width||e.w,s.height||e.h,jr(s.horizontal,e));const{same:a,other:h}=Dr(e,n,s,r);u|=a&&i.length,c=c||h,l.fullSize||i.push(s)}return u&&Rr(i,e,n,r)||c}function Lr(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function zr(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const s of t){const t=s.box,l=r[s.stack]||{count:1,placed:0,weight:1},u=s.stackWeight/l.weight||1;if(s.horizontal){const r=e.w*u,o=l.size||t.height;E(l.start)&&(a=l.start),t.fullSize?Lr(t,i.left,a,n.outerWidth-i.right-i.left,o):Lr(t,e.left+l.placed,a,r,o),l.start=a,l.placed+=r,a=t.bottom}else{const r=e.h*u,a=l.size||t.width;E(l.start)&&(o=l.start),t.fullSize?Lr(t,o,i.top,a,n.outerHeight-i.bottom-i.top):Lr(t,o,e.top+l.placed,a,r),l.start=o,l.placed+=r,o=t.right}}e.x=o,e.y=a}te.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Nr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=we(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){const e=function(t){const e=[];let n,r,i,o,a,s;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return e}(t),n=Tr(e.filter((t=>t.box.fullSize)),!0),r=Tr(Mr(e,"left"),!0),i=Tr(Mr(e,"right")),o=Tr(Mr(e,"top"),!0),a=Tr(Mr(e,"bottom")),s=Cr(e,"x"),l=Cr(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(a).concat(s),chartArea:Mr(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(a).concat(s)}}(t.boxes),l=s.vertical,u=s.horizontal;f(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),p=Object.assign({},i);Ir(p,we(r));const d=Object.assign({maxPadding:p,w:o,h:a,x:i.left,y:i.top},i),m=Pr(l.concat(u),h);Rr(s.fullSize,d,h,m),Rr(l,d,h,m),Rr(u,d,h,m)&&Rr(l,d,h,m),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),zr(s.leftAndTop,d,h,m),d.x+=d.w,d.y+=d.h,zr(s.rightAndBottom,d,h,m),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},f(s.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}};class Fr{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class Br extends Fr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ur="$chartjs",Vr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hr=t=>null===t||""===t;const Wr=!!on&&{passive:!0};function qr(t,e,n){t.canvas.removeEventListener(e,n,Wr)}function Kr(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Yr(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Kr(n.addedNodes,r),e=e&&!Kr(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Zr(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Kr(n.removedNodes,r),e=e&&!Kr(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Gr=new Map;let Xr=0;function Jr(){const t=window.devicePixelRatio;t!==Xr&&(Xr=t,Gr.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function $r(t,e,n){const r=t.canvas,i=r&&Ze(r);if(!i)return;const o=it(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),a=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),function(t,e){Gr.size||window.addEventListener("resize",Jr),Gr.set(t,e)}(t,o),a}function Qr(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Gr.delete(t),Gr.size||window.removeEventListener("resize",Jr)}(t)}function ti(t,e,n){const r=t.canvas,i=it((e=>{null!==t.ctx&&n(function(t,e){const n=Vr[t.type]||t.type,{x:r,y:i}=tn(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,n){t.addEventListener(e,n,Wr)}(r,e,i),i}class ei extends Fr{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ur]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Hr(i)){const e=an(t,"width");void 0!==e&&(t.width=e)}if(Hr(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=an(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Ur])return!1;const n=e[Ur].initial;["height","width"].forEach((t=>{const r=n[t];o(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[Ur],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:Yr,detach:Zr,resize:$r}[e]||ti;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:Qr,detach:Qr,resize:Qr}[e]||qr)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return nn(t,e,n,r)}isAttached(t){const e=Ze(t);return!(!e||!e.isConnected)}}class ni{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===p(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){o(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=c(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(dr.plugins.items);for(let o=0;o<r.length;o++)n.push(dr.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const t=i[o];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,e,n,r){let{plugins:i,localIds:o}=e;const a=[],s=t.getContext();for(const l of i){const e=l.id,i=ri(n[e],r);null!==i&&a.push({plugin:l,options:ii(t.config,{plugin:l,local:o[e]},i,s)})}return a}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function ri(t,e){return e||!1!==t?!0===t?{}:t:null}function ii(t,e,n,r){let{plugin:i,local:o}=e;const a=t.pluginScopeKeys(i),s=t.getOptionScopes(n,a);return o&&i.defaults&&s.push(i.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function oi(t,e){const n=te.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ai(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function si(t){const e=t.options||(t.options={});e.plugins=c(e.plugins,{}),e.scales=function(t,e){const n=Xt[t.type]||{scales:{}},r=e.scales||{},i=oi(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach((t=>{const e=r[t];if(!s(e))return console.error("Invalid scale configuration for scale: ".concat(t));if(e._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const l=ai(t,e),u=function(t,e){return t===e?"_index_":"_value_"}(l,i),c=n.scales||{};o[l]=o[l]||t,a[t]=_(Object.create(null),[{axis:l},e,c[l],c[u]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,s=n.indexAxis||oi(i,e),l=(Xt[i]||{}).scales||{};Object.keys(l).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),i=n[e+"AxisID"]||o[e]||e;a[i]=a[i]||Object.create(null),_(a[i],[{axis:e},r[i],l[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];_(e,[te.scales[e.type],te.scale])})),a}(t,e)}function li(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const ui=new Map,ci=new Set;function hi(t,e){let n=ui.get(t);return n||(n=e(),ui.set(t,n),ci.add(n)),n}const pi=(t,e,n)=>{const r=w(e,n);void 0!==r&&t.add(r)};class fi{constructor(t){this._config=function(t){return(t=t||{}).data=li(t.data),si(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=li(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),si(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return hi(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return hi("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return hi("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return hi("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>pi(s,t,e)))),e.forEach((t=>pi(s,r,t))),e.forEach((t=>pi(s,Xt[i]||{},t))),e.forEach((t=>pi(s,te,t))),e.forEach((t=>pi(s,Jt,t)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),ci.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Xt[e]||{},te.datasets[e]||{},{type:e},te,Jt]}resolveNamedOptions(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:o,subPrefixes:s}=di(this._resolverCache,t,r);let l=o;if(function(t,e){const{isScriptable:n,isIndexable:r}=Ce(t);for(const i of e){const e=n(i),o=r(i),s=(o||e)&&t[i];if(e&&(O(s)||mi(s))||o&&a(s))return!0}return!1}(o,e)){i.$shared=!1;l=Me(o,n=O(n)?n():n,this.createResolver(t,n,s))}for(const a of e)i[a]=l[a];return i}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=di(this._resolverCache,t,n);return s(e)?Me(i,e,void 0,r):i}}function di(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);if(!o){o={resolver:ke(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,o)}return o}const mi=t=>s(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||O(t[n])),!1);const gi=["top","bottom","left","right","chartArea"];function yi(t,e){return"top"===t||"bottom"===t||-1===gi.indexOf(t)&&"x"===e}function vi(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function _i(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),p(n&&n.onComplete,[t],e)}function bi(t){const e=t.chart,n=e.options.animation;p(n&&n.onProgress,[t],e)}function xi(t){return Ye()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wi={},Si=t=>{const e=xi(t);return Object.values(wi).filter((t=>t.canvas===e)).pop()};function Ei(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}class Oi{constructor(t,e){const n=this.config=new fi(e),r=xi(t),o=Si(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!Ye()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Br:ei}(r)),this.platform.updateConfig(n);const s=this.platform.acquireContext(r,a.aspectRatio),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;this.id=i(),this.ctx=s,this.canvas=l,this.width=c,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ni,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),a.resizeDelay||0),this._dataChanges=[],wi[this.id]=this,s&&l?(wn.listen(this,"complete",_i),wn.listen(this,"progress",bi),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return o(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ie(this.canvas,this.ctx),this}stop(){return wn.stop(this),this}resize(t,e){wn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rn(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),p(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){f(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=ai(t,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),f(i,(e=>{const i=e.options,o=i.id,a=ai(o,i),s=c(i.type,e.dtype);void 0!==i.position&&yi(i.position,a)===yi(e.dposition)||(i.position=e.dposition),r[o]=!0;let l=null;if(o in n&&n[o].type===s)l=n[o];else{l=new(dr.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,t)})),f(r,((t,e)=>{t||delete n[e]})),f(n,(t=>{Nr.configure(this,t,t.options),Nr.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(vi("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||oi(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=dr.getController(o),{datasetElementType:r,dataElementType:a}=te.datasets[o];Object.assign(e.prototype,{dataElementType:dr.getElement(a),datasetElementType:r&&dr.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){f(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:t}=this.getDatasetMeta(l),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||f(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vi("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){f(this.scales,(t=>{Nr.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);k(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){Ei(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!k(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Nr.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],f(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,O(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(wn.has(this)?this.attached&&!wn.running(this)&&wn.start(this):(this.draw(),_i({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&le(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&ue(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return se(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=Or.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Oe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);E(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),wn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ie(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete wi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};f(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){f(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},f(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[n],index:n}}));!d(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,o=e,a=this._getActiveElements(t,r,n,o),s=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,s);n&&(this._lastEvent=null,p(i.onHover,[t,a,this],this),s&&p(i.onClick,[t,a,this],this));const u=!d(a,r);return(u||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=l,u}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}const ki=()=>f(Oi.instances,(t=>t._plugins.invalidate())),Mi=!0;function Ci(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:l}=e;let u=i/s;t.beginPath(),t.arc(o,a,s,r-u,n+u),l>i?(u=i/l,t.arc(o,a,l,n+u,r-u,!0)):t.arc(o,a,i,n+I,r-I),t.closePath(),t.clip()}function Ti(t,e,n,r){const i=_e(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(n-e)/2,a=Math.min(o,r*e/2),s=t=>{const e=(n-Math.min(o,t))*r/2;return G(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:G(i.innerStart,0,a),innerEnd:G(i.innerEnd,0,a)}}function Pi(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ai(t,e,n,r,i,o){const{x:a,y:s,startAngle:l,pixelMargin:u,innerRadius:c}=e,h=Math.max(e.outerRadius+r+n-u,0),p=c>0?c+r+n+u:0;let f=0;const d=i-l;if(r){const t=((c>0?c-r:0)+(h>0?h-r:0))/2;f=(d-(0!==t?d*t/(t+r):d))/2}const m=(d-Math.max(.001,d*h-n/M)/h)/2,g=l+m+f,y=i-m-f,{outerStart:v,outerEnd:_,innerStart:b,innerEnd:x}=Ti(e,p,h,y-g),w=h-v,S=h-_,E=g+v/w,O=y-_/S,k=p+b,C=p+x,T=g+b/k,P=y-x/C;if(t.beginPath(),o){if(t.arc(a,s,h,E,O),_>0){const e=Pi(S,O,a,s);t.arc(e.x,e.y,_,O,y+I)}const e=Pi(C,y,a,s);if(t.lineTo(e.x,e.y),x>0){const e=Pi(C,P,a,s);t.arc(e.x,e.y,x,y+I,P+Math.PI)}if(t.arc(a,s,p,y-x/p,g+b/p,!0),b>0){const e=Pi(k,T,a,s);t.arc(e.x,e.y,b,T+Math.PI,g-I)}const n=Pi(w,g,a,s);if(t.lineTo(n.x,n.y),v>0){const e=Pi(w,E,a,s);t.arc(e.x,e.y,v,g-I,E)}}else{t.moveTo(a,s);const e=Math.cos(E)*h+a,n=Math.sin(E)*h+s;t.lineTo(e,n);const r=Math.cos(O)*h+a,i=Math.sin(O)*h+s;t.lineTo(r,i)}t.closePath()}function Ii(t,e,n,r,i,o){const{options:a}=e,{borderWidth:s,borderJoinStyle:l}=a,u="inner"===a.borderAlign;s&&(u?(t.lineWidth=2*s,t.lineJoin=l||"round"):(t.lineWidth=s,t.lineJoin=l||"bevel"),e.fullCircles&&function(t,e,n){const{x:r,y:i,startAngle:o,pixelMargin:a,fullCircles:s}=e,l=Math.max(e.outerRadius-a,0),u=e.innerRadius+a;let c;for(n&&Ci(t,e,o+C),t.beginPath(),t.arc(r,i,u,o+C,o,!0),c=0;c<s;++c)t.stroke();for(t.beginPath(),t.arc(r,i,l,o,o+C),c=0;c<s;++c)t.stroke()}(t,e,u),u&&Ci(t,e,i),Ai(t,e,n,r,i,o),t.stroke())}Object.defineProperties(Oi,{defaults:{enumerable:Mi,value:te},instances:{enumerable:Mi,value:wi},overrides:{enumerable:Mi,value:Xt},registry:{enumerable:Mi,value:dr},version:{enumerable:Mi,value:"3.9.1"},getChart:{enumerable:Mi,value:Si},register:{enumerable:Mi,value:function(){dr.add(...arguments),ki()}},unregister:{enumerable:Mi,value:function(){dr.remove(...arguments),ki()}}});class Di extends er{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=W(r,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:l,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),p=this.options.spacing/2,f=c(h,s-a)>=C||Z(i,a,s),d=X(o,l+p,u+p);return f&&d}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:s,spacing:l}=this.options,u=(r+i)/2,c=(o+a+l+s)/2;return{x:e+Math.cos(u)*c,y:n+Math.sin(u)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/2,i=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>C?Math.floor(n/C):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*a,Math.sin(e)*a),this.circumference>=M&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const s=function(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s}=e;let l=e.endAngle;if(o){Ai(t,e,n,r,a+C,i);for(let e=0;e<o;++e)t.fill();isNaN(s)||(l=a+s%C,s%C===0&&(l+=C))}return Ai(t,e,n,r,l,i),t.fill(),l}(t,this,a,i,o);Ii(t,this,a,i,s,o),t.restore()}}function ji(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=c(n.borderCapStyle,e.borderCapStyle),t.setLineDash(c(n.borderDash,e.borderDash)),t.lineDashOffset=c(n.borderDashOffset,e.borderDashOffset),t.lineJoin=c(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=c(n.borderWidth,e.borderWidth),t.strokeStyle=c(n.borderColor,e.borderColor)}function Ri(t,e,n){t.lineTo(n.x,n.y)}function Li(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=e,l=Math.max(i,a),u=Math.min(o,s),c=i<a&&o<a||i>s&&o>s;return{count:r,start:l,loop:e.loop,ilen:u<l&&!c?r+u-l:u-l}}function zi(t,e,n,r){const{points:i,options:o}=e,{count:a,start:s,loop:l,ilen:u}=Li(i,n,r),c=function(t){return t.stepped?ce:t.tension||"monotone"===t.cubicInterpolationMode?he:Ri}(o);let h,p,f,{move:d=!0,reverse:m}=r||{};for(h=0;h<=u;++h)p=i[(s+(m?u-h:h))%a],p.skip||(d?(t.moveTo(p.x,p.y),d=!1):c(t,f,p,m,o.stepped),f=p);return l&&(p=i[(s+(m?u:0))%a],c(t,f,p,m,o.stepped)),!!l}function Ni(t,e,n,r){const i=e.points,{count:o,start:a,ilen:s}=Li(i,n,r),{move:l=!0,reverse:u}=r||{};let c,h,p,f,d,m,g=0,y=0;const v=t=>(a+(u?s-t:t))%o,_=()=>{f!==d&&(t.lineTo(g,d),t.lineTo(g,f),t.lineTo(g,m))};for(l&&(h=i[v(0)],t.moveTo(h.x,h.y)),c=0;c<=s;++c){if(h=i[v(c)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===p?(n<f?f=n:n>d&&(d=n),g=(y*g+e)/++y):(_(),t.lineTo(e,n),p=r,y=0,f=d=n),m=n}_()}function Fi(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Ni:zi}Di.id="arc",Di.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Di.defaultRoutes={backgroundColor:"backgroundColor"};const Bi="function"===typeof Path2D;function Ui(t,e,n,r){Bi&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),ji(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:o}=e,a=Fi(e);for(const s of i)ji(t,o,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}class Vi extends er{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Ke(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:s}=function(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}(n,i,o,r);return _n(t,!0===r?[{start:a,end:s,loop:o}]:function(t,e,n,r){const i=t.length,o=[];let a,s=e,l=t[e];for(a=e+1;a<=n;++a){const n=t[a%i];n.skip||n.stop?l.skip||(r=!1,o.push({start:e%i,end:(a-1)%i,loop:r}),e=s=n.stop?a:null):(s=a,l.skip&&(e=a)),l=n}return null!==s&&o.push({start:e%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!t._fullLoop&&0===a&&s===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,o=vn(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],s=function(t){return t.stepped?ln:t.tension||"monotone"===t.cubicInterpolationMode?un:sn}(n);let l,u;for(l=0,u=o.length;l<u;++l){const{start:u,end:c}=o[l],h=i[u],p=i[c];if(h===p){a.push(h);continue}const f=s(h,p,Math.abs((r-h[e])/(p[e]-h[e])),n.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return Fi(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=Fi(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const a of r)o&=i(t,this,a,{start:e,end:e+n-1});return!!o}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Ui(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Hi(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}Vi.id="line",Vi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Vi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Vi.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class Wi extends er{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Hi(this,t,"x",e)}inYRange(t,e){return Hi(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!se(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,oe(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function qi(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,l,u,c,h;return t.horizontal?(h=a/2,s=Math.min(n,i),l=Math.max(n,i),u=r-h,c=r+h):(h=o/2,s=n-h,l=n+h,u=Math.min(r,i),c=Math.max(r,i)),{left:s,top:u,right:l,bottom:c}}function Ki(t,e,n,r){return t?0:G(e,n,r)}function Yi(t){const e=qi(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=be(r);return{t:Ki(i.top,o.top,0,n),r:Ki(i.right,o.right,0,e),b:Ki(i.bottom,o.bottom,0,n),l:Ki(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=xe(i),a=Math.min(e,n),l=t.borderSkipped,u=r||s(i);return{topLeft:Ki(!u||l.top||l.left,o.topLeft,0,a),topRight:Ki(!u||l.top||l.right,o.topRight,0,a),bottomLeft:Ki(!u||l.bottom||l.left,o.bottomLeft,0,a),bottomRight:Ki(!u||l.bottom||l.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Zi(t,e,n,r){const i=null===e,o=null===n,a=t&&!(i&&o)&&qi(t,r);return a&&(i||X(e,a.left,a.right))&&(o||X(n,a.top,a.bottom))}function Gi(t,e){t.rect(e.x,e.y,e.w,e.h)}function Xi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}Wi.id="point",Wi.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Wi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Ji extends er{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=Yi(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?de:Gi;var s;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,Xi(o,e,i)),t.clip(),a(t,Xi(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Xi(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Zi(this,t,e,n)}inXRange(t,e){return Zi(this,t,null,e)}inYRange(t,e){return Zi(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ji.id="bar",Ji.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Ji.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const $i=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class Qi extends er{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=p(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Se(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=$i(n,i);let l,u;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,i,a,s)+10):(u=this.maxHeight,l=this._fitCols(o,i,a,s)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+a;let c=t;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach(((t,f)=>{const d=n+e/2+i.measureText(t.text).width;(0===f||l[l.length-1]+d+2*a>o)&&(c+=u,l[l.length-(f>0?0:1)]=0,p+=u,h++),s[f]={left:0,top:p,row:h,width:d,height:r},l[l.length-1]+=d+a})),c}_fitCols(t,e,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-t;let c=a,h=0,p=0,f=0,d=0;return this.legendItems.forEach(((t,o)=>{const m=n+e/2+i.measureText(t.text).width;o>0&&p+r+2*a>u&&(c+=h+a,l.push({width:h,height:p}),f+=h+a,d++,h=p=0),s[o]={left:f,top:p,col:d,width:m,height:r},h=Math.max(h,m),p+=r+a})),c+=h,l.push({width:h,height:p}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,o=pn(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=at(n,this.left+r,this.right-this.lineWidths[i]);for(const s of e)i!==s.row&&(i=s.row,a=at(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+t+r,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+r}else{let i=0,a=at(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const s of e)s.col!==i&&(i=s.col,a=at(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),s.top=a,s.left+=this.left+r,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;le(t,this),this._draw(),ue(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:o}=t,a=te.color,s=pn(t.rtl,this.left,this.width),l=Se(o.font),{color:u,padding:h}=o,p=l.size,f=p/2;let d;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:m,boxHeight:g,itemHeight:y}=$i(o,p),v=this.isHorizontal(),_=this._computeTitleHeight();d=v?{x:at(i,this.left+h,this.right-n[0]),y:this.top+h+_,line:0}:{x:this.left+h,y:at(i,this.top+_+h,this.bottom-e[0].height),line:0},fn(this.ctx,t.textDirection);const b=y+h;this.legendItems.forEach(((x,w)=>{r.strokeStyle=x.fontColor||u,r.fillStyle=x.fontColor||u;const S=r.measureText(x.text).width,E=s.textAlign(x.textAlign||(x.textAlign=o.textAlign)),O=m+f+S;let k=d.x,M=d.y;s.setWidth(this.width),v?w>0&&k+O+h>this.right&&(M=d.y+=b,d.line++,k=d.x=at(i,this.left+h,this.right-n[d.line])):w>0&&M+b>this.bottom&&(k=d.x=k+e[d.line].width+h,d.line++,M=d.y=at(i,this.top+_+h,this.bottom-e[d.line].height));!function(t,e,n){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;r.save();const i=c(n.lineWidth,1);if(r.fillStyle=c(n.fillStyle,a),r.lineCap=c(n.lineCap,"butt"),r.lineDashOffset=c(n.lineDashOffset,0),r.lineJoin=c(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=c(n.strokeStyle,a),r.setLineDash(c(n.lineDash,[])),o.usePointStyle){const a={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=s.xPlus(t,m/2);ae(r,a,l,e+f,o.pointStyleWidth&&m)}else{const o=e+Math.max((p-g)/2,0),a=s.leftForLtr(t,m),l=xe(n.borderRadius);r.beginPath(),Object.values(l).some((t=>0!==t))?de(r,{x:a,y:o,w:m,h:g,radius:l}):r.rect(a,o,m,g),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(k),M,x),k=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(E,k+m+f,v?k+O:this.right,t.rtl),function(t,e,n){pe(r,n.text,t,e+y/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(k),M,x),v?d.x+=O+h:d.y+=b})),dn(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Se(e.font),r=we(e.padding);if(!e.display)return;const i=pn(t.rtl,this.left,this.width),o=this.ctx,a=e.position,s=n.size/2,l=r.top+s;let u,c=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,c=at(t.align,c,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);u=l+at(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const p=at(a,c,c+h);o.textAlign=i.textAlign(ot(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,pe(o,e.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,e=Se(t.font),n=we(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(X(t,this.left,this.right)&&X(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],X(t,r.left,r.left+r.width)&&X(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=(i=n,null!==(r=o)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);o&&!a&&p(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!a&&p(e.onHover,[t,n,this],this)}else n&&p(e.onClick,[t,n,this],this);var r,i}}var to={id:"legend",_element:Qi,start(t,e,n){const r=t.legend=new Qi({ctx:t.ctx,options:n,chart:t});Nr.configure(t,r,n),Nr.addBox(t,r)},stop(t){Nr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Nr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const a=t.controller.getStyle(n?0:void 0),s=we(a.borderWidth);return{text:e[t.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:a.borderColor,pointStyle:r||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eo extends er{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=a(n.text)?n.text.length:1;this._padding=we(n.padding);const i=r*Se(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,a=o.align;let s,l,u,c=0;return this.isHorizontal()?(l=at(a,n,i),u=e+t,s=i-n):("left"===o.position?(l=n+t,u=at(a,r,e),c=-.5*M):(l=i-t,u=at(a,e,r),c=.5*M),s=r-e),{titleX:l,titleY:u,maxWidth:s,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Se(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(r);pe(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:s,textAlign:ot(e.align),textBaseline:"middle",translation:[i,o]})}}var no={id:"title",_element:eo,start(t,e,n){!function(t,e){const n=new eo({ctx:t.ctx,options:e,chart:t});Nr.configure(t,n,e),Nr.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Nr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Nr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ro={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=q(e,r.getCenterPoint());t<s&&(s=t,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function io(t,e){return e&&(a(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function oo(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function ao(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function so(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:s}=e,l=Se(e.bodyFont),u=Se(e.titleFont),c=Se(e.footerFont),h=o.length,p=i.length,d=r.length,m=we(e.padding);let g=m.height,y=0,v=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){g+=d*(e.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(v-d)*l.lineHeight+(v-1)*e.bodySpacing}p&&(g+=e.footerMarginTop+p*c.lineHeight+(p-1)*e.footerSpacing);let _=0;const b=function(t){y=Math.max(y,n.measureText(t).width+_)};return n.save(),n.font=u.string,f(t.title,b),n.font=l.string,f(t.beforeBody.concat(t.afterBody),b),_=e.displayColors?a+2+e.boxPadding:0,f(r,(t=>{f(t.before,b),f(t.lines,b),f(t.after,b)})),_=0,n.font=c.string,f(t.footer,b),n.restore(),y+=m.width,{width:y,height:g}}function lo(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:l}}=t;let u="center";return"center"===r?u=i<=(s+l)/2?"left":"right":i<=o/2?u="left":i>=a-o/2&&(u="right"),function(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(u,t,e,n)&&(u="center"),u}function uo(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||lo(t,e,n,r),yAlign:r}}function co(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:l}=n,u=i+o,{topLeft:c,topRight:h,bottomLeft:p,bottomRight:f}=xe(a);let d=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s);const m=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,l,u);return"center"===l?"left"===s?d+=u:"right"===s&&(d-=u):"left"===s?d-=Math.max(c,p)+i:"right"===s&&(d+=Math.max(h,f)+i),{x:G(d,0,r.width-e.width),y:G(m,0,r.height-e.height)}}function ho(t,e,n){const r=we(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function po(t){return io([],oo(t))}function fo(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class mo extends er{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new Mn(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Oe(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=n.beforeTitle.apply(this,[t]),i=n.title.apply(this,[t]),o=n.afterTitle.apply(this,[t]);let a=[];return a=io(a,oo(r)),a=io(a,oo(i)),a=io(a,oo(o)),a}getBeforeBody(t,e){return po(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,r=[];return f(t,(t=>{const e={before:[],lines:[],after:[]},i=fo(n,t);io(e.before,oo(i.beforeLabel.call(this,t))),io(e.lines,i.label.call(this,t)),io(e.after,oo(i.afterLabel.call(this,t))),r.push(e)})),r}getAfterBody(t,e){return po(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,r=n.beforeFooter.apply(this,[t]),i=n.footer.apply(this,[t]),o=n.afterFooter.apply(this,[t]);let a=[];return a=io(a,oo(r)),a=io(a,oo(i)),a=io(a,oo(o)),a}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],o=[];let a,s,l=[];for(a=0,s=e.length;a<s;++a)l.push(ao(this.chart,e[a]));return t.filter&&(l=l.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(l=l.sort(((e,r)=>t.itemSort(e,r,n)))),f(l,(e=>{const n=fo(t.callbacks,e);r.push(n.labelColor.call(this,e)),i.push(n.labelPointStyle.call(this,e)),o.push(n.labelTextColor.call(this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const t=ro[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=so(this,n),a=Object.assign({},t,e),s=uo(this.chart,n,a),l=co(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:l,bottomLeft:u,bottomRight:c}=xe(a),{x:h,y:p}=t,{width:f,height:d}=e;let m,g,y,v,_,b;return"center"===i?(_=p+d/2,"left"===r?(m=h,g=m-o,v=_+o,b=_-o):(m=h+f,g=m+o,v=_-o,b=_+o),y=m):(g="left"===r?h+Math.max(s,u)+o:"right"===r?h+f-Math.max(l,c)-o:this.caretX,"top"===i?(v=p,_=v-o,m=g-o,y=g+o):(v=p+d,_=v+o,m=g+o,y=g-o),b=v),{x1:m,x2:g,x3:y,y1:v,y2:_,y3:b}}drawTitle(t,e,n){const r=this.title,i=r.length;let o,a,s;if(i){const l=pn(n.rtl,this.x,this.width);for(t.x=ho(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",o=Se(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,s=0;s<i;++s)e.fillText(r[s],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,s+1===i&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:u,boxPadding:c}=i,h=Se(i.bodyFont),p=ho(this,"left",i),f=r.x(p),d=l<h.lineHeight?(h.lineHeight-l)/2:0,m=e.y+d;if(i.usePointStyle){const e={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(f,u)+u/2,s=m+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,oe(t,e,n,s),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,oe(t,e,n,s)}else{t.lineWidth=s(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=r.leftForLtr(f,u-c),n=r.leftForLtr(r.xPlus(f,1),u-c-2),a=xe(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,de(t,{x:e,y:m,w:u,h:l,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),de(t,{x:n,y:m+1,w:u-2,h:l-2,radius:a}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,m,u,l),t.strokeRect(e,m,u,l),t.fillStyle=o.backgroundColor,t.fillRect(n,m+1,u-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:l,boxPadding:u}=n,c=Se(n.bodyFont);let h=c.lineHeight,p=0;const d=pn(n.rtl,this.x,this.width),m=function(n){e.fillText(n,d.x(t.x+p),t.y+h/2),t.y+=h+i},g=d.textAlign(o);let y,v,_,b,x,w,S;for(e.textAlign=o,e.textBaseline="middle",e.font=c.string,t.x=ho(this,g,n),e.fillStyle=n.bodyColor,f(this.beforeBody,m),p=a&&"right"!==g?"center"===o?l/2+u:l+2+u:0,b=0,w=r.length;b<w;++b){for(y=r[b],v=this.labelTextColors[b],e.fillStyle=v,f(y.before,m),_=y.lines,a&&_.length&&(this._drawColorBox(e,t,b,d,n),h=Math.max(c.lineHeight,s)),x=0,S=_.length;x<S;++x)m(_[x]),h=c.lineHeight;f(y.after,m)}p=0,h=c.lineHeight,f(this.afterBody,m),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let o,a;if(i){const s=pn(n.rtl,this.x,this.width);for(t.x=ho(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",o=Se(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,a=0;a<i;++a)e.fillText(r[a],s.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:s}=t,{width:l,height:u}=n,{topLeft:c,topRight:h,bottomLeft:p,bottomRight:f}=xe(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+c,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+l-h,s),e.quadraticCurveTo(a+l,s,a+l,s+h),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+l,s+u-f),e.quadraticCurveTo(a+l,s+u,a+l-f,s+u),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+p,s+u),e.quadraticCurveTo(a,s+u,a,s+u-p),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+c),e.quadraticCurveTo(a,s,a+c,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=ro[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=so(this,t),a=Object.assign({},n,this._size),s=uo(e,t,a),l=co(t,a,s,e);r._to===l.x&&i._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=we(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),fn(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),dn(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[n],index:n}})),i=!d(n,r),o=this._positionChanged(r,e);(i||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),a=this._positionChanged(o,t),s=e||!d(o,i)||a;return s&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e;const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=ro[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}mo.positioners=ro;var go={id:"tooltip",_element:mo,positioners:ro,afterInit(t,e,n){n&&(t.tooltip=new mo({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",n))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:r,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:r,beforeBody:r,beforeLabel:r,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return o(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:r,afterBody:r,beforeFooter:r,footer:r,afterFooter:r}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function yo(t,e,n,r){const i=t.indexOf(e);if(-1===i)return((t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r);return i!==t.lastIndexOf(e)?n:i}class vo extends pr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(o(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:G(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:yo(n,t,c(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function _o(t,e){const n=[],{bounds:r,step:i,min:a,max:s,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:p}=t,f=i||1,d=c-1,{min:m,max:g}=e,y=!o(a),v=!o(s),_=!o(u),b=(g-m)/(h+1);let x,w,S,E,O=z((g-m)/d/f)*f;if(O<1e-14&&!y&&!v)return[{value:m},{value:g}];E=Math.ceil(g/O)-Math.floor(m/O),E>d&&(O=z(E*O/d/f)*f),o(l)||(x=Math.pow(10,l),O=Math.ceil(O*x)/x),"ticks"===r?(w=Math.floor(m/O)*O,S=Math.ceil(g/O)*O):(w=m,S=g),y&&v&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((s-a)/i,O/1e3)?(E=Math.round(Math.min((s-a)/O,c)),O=(s-a)/E,w=a,S=s):_?(w=y?a:w,S=v?s:S,E=u-1,O=(S-w)/E):(E=(S-w)/O,E=F(E,Math.round(E),O/1e3)?Math.round(E):Math.ceil(E));const k=Math.max(H(O),H(w));x=Math.pow(10,o(l)?k:l),w=Math.round(w*x)/x,S=Math.round(S*x)/x;let M=0;for(y&&(p&&w!==a?(n.push({value:a}),w<a&&M++,F(Math.round((w+M*O)*x)/x,a,bo(a,b,t))&&M++):w<a&&M++);M<E;++M)n.push({value:Math.round((w+M*O)*x)/x});return v&&p&&S!==s?n.length&&F(n[n.length-1].value,s,bo(s,b,t))?n[n.length-1].value=s:n.push({value:s}):v&&S!==s||n.push({value:S}),n}function bo(t,e,n){let{horizontal:r,minRotation:i}=n;const o=U(i),a=(r?Math.sin(o):Math.cos(o))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}vo.id="category",vo.defaults={ticks:{callback:vo.prototype.getLabelForValue}};class xo extends pr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return o(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=t=>r=e?r:t,a=t=>i=n?i:t;if(t){const t=L(r),e=L(i);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(r===i){let e=1;(i>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*i)),a(i+e),t||o(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=_o({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&B(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return hn(t,this.chart.options.locale,this.options.ticks.format)}}class wo extends xo{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=l(t)?t:0,this.max=l(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=U(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function So(t){return 1===t/Math.pow(10,Math.floor(R(t)))}wo.id="linear",wo.defaults={ticks:{callback:rr.formatters.numeric}};class Eo extends pr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=xo.prototype.parse.apply(this,[t,e]);if(0!==n)return l(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=l(t)?Math.max(0,t):null,this.max=l(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,o=t=>r=e?r:t,a=(t,e)=>Math.pow(10,Math.floor(R(t))+e);n===r&&(n<=0?(i(1),o(10)):(i(a(n,-1)),o(a(r,1)))),n<=0&&i(a(r,-1)),r<=0&&o(a(n,1)),this._zero&&this.min!==this._suggestedMin&&n===a(this.min,0)&&i(a(n,-1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=function(t,e){const n=Math.floor(R(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let o=u(t.min,Math.pow(10,Math.floor(R(e.min)))),a=Math.floor(R(o)),s=Math.floor(o/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do{i.push({value:o,major:So(o)}),++s,10===s&&(s=1,++a,l=a>=0?1:l),o=Math.round(s*Math.pow(10,a)*l)/l}while(a<n||a===n&&s<r);const c=u(t.max,o);return i.push({value:c,major:So(o)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&B(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":hn(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=R(t),this._valueRange=R(this.max)-R(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(R(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Oo(t){const e=t.ticks;if(e.display&&t.display){const t=we(e.backdropPadding);return c(e.font&&e.font.size,te.font.size)+t.height}return 0}function ko(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Mo(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,s=t.options.pointLabels,l=s.centerPointLabels?M/o:0;for(let p=0;p<o;p++){const o=s.setContext(t.getPointLabelContext(p));i[p]=o.padding;const f=t.getPointPosition(p,t.drawingArea+i[p],l),d=Se(o.font),m=(u=t.ctx,c=d,h=a(h=t._pointLabels[p])?h:[h],{w:ne(u,c.string,h),h:h.length*c.lineHeight});r[p]=m;const g=Y(t.getIndexAngle(p)+l),y=Math.round(V(g));Co(n,e,g,ko(y,f.x,m.w,0,180),ko(y,f.y,m.h,90,270))}var u,c,h;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,a=Oo(o)/2,s=t.drawingArea,l=o.pointLabels.centerPointLabels?M/i:0;for(let u=0;u<i;u++){const i=t.getPointPosition(u,s+a+n[u],l),o=Math.round(V(Y(i.angle+I))),c=e[u],h=Ao(i.y,c.h,o),p=To(o),f=Po(i.x,c.w,p);r.push({x:i.x,y:h,textAlign:p,left:f,top:h,right:f+c.w,bottom:h+c.h})}return r}(t,r,i)}function Co(t,e,n,r,i){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,l=0;r.start<e.l?(s=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-s)):r.end>e.r&&(s=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+s)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function To(t){return 0===t||180===t?"center":t<180?"left":"right"}function Po(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Ao(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function Io(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,C);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=t.getPointPosition(o,e),i.lineTo(n.x,n.y)}}Eo.id="logarithmic",Eo.defaults={ticks:{callback:rr.formatters.logarithmic,major:{enabled:!0}}};class Do extends xo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=we(Oo(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=l(t)&&!isNaN(t)?t:0,this.max=l(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Oo(this.options))}generateTickLabels(t){xo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=p(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Mo(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return Y(t*(C/(this._pointLabels.length||1))+U(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(o(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(o(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return Oe(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(t)-I+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Io(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r}=e,i=this._pointLabels.length;let a,s,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=r.setContext(t.getPointLabelContext(i)),a=Se(e.font),{x:s,y:l,textAlign:u,left:c,top:h,right:p,bottom:f}=t._pointLabelItems[i],{backdropColor:d}=e;if(!o(d)){const t=xe(e.borderRadius),r=we(e.backdropPadding);n.fillStyle=d;const i=c-r.left,o=h-r.top,a=p-c+r.width,s=f-h+r.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),de(n,{x:i,y:o,w:a,h:s,radius:t}),n.fill()):n.fillRect(i,o,a,s)}pe(n,t._pointLabels[i],s,l+a.lineHeight/2,a,{color:e.color,textAlign:u,textBaseline:"middle"})}}(this,i),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e){s=this.getDistanceFromCenterForValue(t.value);!function(t,e,n,r){const i=t.ctx,o=e.circular,{color:a,lineWidth:s}=e;!o&&!r||!a||!s||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=s,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),Io(t,n,o,r),i.closePath(),i.stroke(),i.restore())}(this,r.setContext(this.getContext(e-1)),s,i)}})),n.display){for(t.save(),a=i-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:o}=r;o&&i&&(t.lineWidth=o,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&!e.reverse)return;const s=n.setContext(this.getContext(a)),l=Se(s.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){t.font=l.string,o=t.measureText(r.label).width,t.fillStyle=s.backdropColor;const e=we(s.backdropPadding);t.fillRect(-o/2-e.left,-i-l.size/2-e.top,o+e.width,l.size+e.height)}pe(t,r.label,0,-i,l,{color:s.color})})),t.restore()}drawTitle(){}}Do.id="radialLinear",Do.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},Do.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Do.descriptors={angleLines:{_fallback:"grid"}};const jo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ro=Object.keys(jo);function Lo(t,e){return t-e}function zo(t,e){if(o(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:a}=t._parseOpts;let s=e;return"function"===typeof r&&(s=r(s)),l(s)||(s="string"===typeof r?n.parse(s,r):n.parse(s)),null===s?null:(i&&(s="week"!==i||!N(a)&&!0!==a?n.startOf(s,i):n.startOf(s,"isoWeek",a)),+s)}function No(t,e,n,r){const i=Ro.length;for(let o=Ro.indexOf(t);o<i-1;++o){const t=jo[Ro[o]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return Ro[o]}return Ro[i-1]}function Fo(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=J(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function Bo(t,e,n){const r=[],i={},o=e.length;let a,s;for(a=0;a<o;++a)s=e[a],i[s]=a,r.push({value:s,major:!1});return 0!==o&&n?function(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let s,l;for(s=o;s<=a;s=+i.add(s,1,r))l=n[s],l>=0&&(e[l].major=!0);return e}(t,r,i,n):r}class Uo extends pr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),r=this._adapter=new vr._date(t.adapters.date);r.init(e),_(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:zo(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function s(t){o||isNaN(t.min)||(r=Math.min(r,t.min)),a||isNaN(t.max)||(i=Math.max(i,t.max))}o&&a||(s(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||s(this.getMinMax(!1))),r=l(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=l(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?No(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let o=Ro.length-1;o>=Ro.indexOf(n);o--){const n=Ro[o];if(jo[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return Ro[n?Ro.indexOf(n):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=Ro.indexOf(t)+1,n=Ro.length;e<n;++e)if(jo[Ro[e]].common)return Ro[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&o.reverse(),Bo(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t){let e,n,r=0,i=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=G(r,0,o),i=G(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||No(i.minUnit,e,n,this._getLabelCapacity(e)),a=c(i.stepSize,1),s="week"===o&&i.isoWeekday,l=N(s)||!0===s,u={};let h,p,f=e;if(l&&(f=+t.startOf(f,"isoWeek",s)),f=+t.startOf(f,l?"day":o),t.diff(n,e,o)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+o);const d="data"===r.ticks.source&&this.getDataTimestamps();for(h=f,p=0;h<n;h=+t.add(h,a,o),p++)Fo(u,h,d);return h!==n&&"ticks"!==r.bounds&&1!==p||Fo(u,h,d),Object.keys(u).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,r){const i=this.options,o=i.time.displayFormats,a=this._unit,s=this._majorUnit,l=a&&o[a],u=s&&o[s],c=n[e],h=s&&u&&c&&c.major,f=this._adapter.format(t,r||(h?u:l)),d=i.ticks.callback;return d?p(d,[f,e,n],this):f}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=U(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,Bo(this,[t],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(zo(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return nt(t.sort(Lo))}}function Vo(t,e,n){let r,i,o,a,s=0,l=t.length-1;n?(e>=t[s].pos&&e<=t[l].pos&&({lo:s,hi:l}=$(t,"pos",e)),({pos:r,time:o}=t[s]),({pos:i,time:a}=t[l])):(e>=t[s].time&&e<=t[l].time&&({lo:s,hi:l}=$(t,"time",e)),({time:r,pos:o}=t[s]),({time:i,pos:a}=t[l]));const u=i-r;return u?o+(a-o)*(e-r)/u:o}Uo.id="time",Uo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Ho extends Uo{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Vo(e,this.min),this._tableRange=Vo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let o,a,s,l,u;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],s=r[o-1],l=r[o],Math.round((u+s)/2)!==l&&i.push({time:l,pos:o/(a-1)});return i}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Vo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Vo(this._table,n*this._tableRange+this._minPos,!0)}}Ho.id="timeseries",Ho.defaults=Uo.defaults},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=n(168);function o(t){const e=Object(i.a)(t);return Object(r.useCallback)((function(){return e.current&&e.current(...arguments)}),[e])}},function(t,e,n){"use strict";function r(t){return t?(t.nodeName||"").toLowerCase():null}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return t.split("-")[0]}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(1),a=n.n(o),s=n(30),l=n(41);n(54);function u(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function c(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function h(t,e){return Object.keys(e).reduce((function(n,r){var i,a=n,h=a[u(r)],p=a[r],f=Object(l.a)(a,[u(r),r].map(c)),d=e[r],m=function(t,e,n){var r=Object(o.useRef)(void 0!==t),i=Object(o.useState)(e),a=i[0],s=i[1],l=void 0!==t,u=r.current;return r.current=l,!l&&u&&a!==e&&s(e),[l?t:a,Object(o.useCallback)((function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[t].concat(r)),s(t)}),[n])]}(p,h,t[d]),g=m[0],y=m[1];return Object(s.a)({},f,((i={})[r]=g,i[d]=y,i))}),t)}n(122);function p(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function f(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function d(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}p.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0,d.__suppressDeprecationWarning=!0;var m=n(7),g=n(33),y=n(44),v=n(113);var _=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((t=>null!=t)).reduce(((t,e)=>{if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}}),null)},b=n(112),x=n(121),w=n(0);const S={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function E(t,e){const n=e["offset".concat(t[0].toUpperCase()).concat(t.slice(1))],r=S[t];return n+parseInt(Object(g.a)(e,r[0]),10)+parseInt(Object(g.a)(e,r[1]),10)}const O={[y.c]:"collapse",[y.d]:"collapsing",[y.b]:"collapsing",[y.a]:"collapse show"};var k=a.a.forwardRef(((t,e)=>{let{onEnter:n,onEntering:r,onEntered:s,onExit:l,onExiting:u,className:c,children:h,dimension:p="height",in:f=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:g=!1,appear:y=!1,getDimensionValue:S=E,...k}=t;const M="function"===typeof p?p():p,C=Object(o.useMemo)((()=>_((t=>{t.style[M]="0"}),n)),[M,n]),T=Object(o.useMemo)((()=>_((t=>{const e="scroll".concat(M[0].toUpperCase()).concat(M.slice(1));t.style[M]="".concat(t[e],"px")}),r)),[M,r]),P=Object(o.useMemo)((()=>_((t=>{t.style[M]=null}),s)),[M,s]),A=Object(o.useMemo)((()=>_((t=>{t.style[M]="".concat(S(M,t),"px"),Object(b.a)(t)}),l)),[l,S,M]),I=Object(o.useMemo)((()=>_((t=>{t.style[M]=null}),u)),[M,u]);return Object(w.jsx)(x.a,{ref:e,addEndListener:v.a,...k,"aria-expanded":k.role?f:null,onEnter:C,onEntering:T,onEntered:P,onExit:A,onExiting:I,childRef:h.ref,in:f,timeout:d,mountOnEnter:m,unmountOnExit:g,appear:y,children:(t,e)=>a.a.cloneElement(h,{...e,className:i()(c,h.props.className,O[t],"width"===M&&"collapse-horizontal")})})}));function M(t,e){return Array.isArray(t)?t.includes(e):t===e}const C=o.createContext({});C.displayName="AccordionContext";var T=C;const P=o.forwardRef(((t,e)=>{let{as:n="div",bsPrefix:r,className:a,children:s,eventKey:l,...u}=t;const{activeEventKey:c}=Object(o.useContext)(T);return r=Object(m.c)(r,"accordion-collapse"),Object(w.jsx)(k,{ref:e,in:M(c,l),...u,className:i()(a,r),children:Object(w.jsx)(n,{children:o.Children.only(s)})})}));P.displayName="AccordionCollapse";var A=P;const I=o.createContext({eventKey:""});I.displayName="AccordionItemContext";var D=I;const j=o.forwardRef(((t,e)=>{let{as:n="div",bsPrefix:r,className:a,onEnter:s,onEntering:l,onEntered:u,onExit:c,onExiting:h,onExited:p,...f}=t;r=Object(m.c)(r,"accordion-body");const{eventKey:d}=Object(o.useContext)(D);return Object(w.jsx)(A,{eventKey:d,onEnter:s,onEntering:l,onEntered:u,onExit:c,onExiting:h,onExited:p,children:Object(w.jsx)(n,{ref:e,...f,className:i()(a,r)})})}));j.displayName="AccordionBody";var R=j;const L=o.forwardRef(((t,e)=>{let{as:n="button",bsPrefix:r,className:a,onClick:s,...l}=t;r=Object(m.c)(r,"accordion-button");const{eventKey:u}=Object(o.useContext)(D),c=function(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:i}=Object(o.useContext)(T);return o=>{let a=t===n?null:t;i&&(a=Array.isArray(n)?n.includes(t)?n.filter((e=>e!==t)):[...n,t]:[t]),null==r||r(a,o),null==e||e(o)}}(u,s),{activeEventKey:h}=Object(o.useContext)(T);return"button"===n&&(l.type="button"),Object(w.jsx)(n,{ref:e,onClick:c,...l,"aria-expanded":Array.isArray(h)?h.includes(u):u===h,className:i()(a,r,!M(h,u)&&"collapsed")})}));L.displayName="AccordionButton";var z=L;const N=o.forwardRef(((t,e)=>{let{as:n="h2",bsPrefix:r,className:o,children:a,onClick:s,...l}=t;return r=Object(m.c)(r,"accordion-header"),Object(w.jsx)(n,{ref:e,...l,className:i()(o,r),children:Object(w.jsx)(z,{onClick:s,children:a})})}));N.displayName="AccordionHeader";var F=N;const B=o.forwardRef(((t,e)=>{let{as:n="div",bsPrefix:r,className:a,eventKey:s,...l}=t;r=Object(m.c)(r,"accordion-item");const u=Object(o.useMemo)((()=>({eventKey:s})),[s]);return Object(w.jsx)(D.Provider,{value:u,children:Object(w.jsx)(n,{ref:e,...l,className:i()(a,r)})})}));B.displayName="AccordionItem";var U=B;const V=o.forwardRef(((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:a,className:s,onSelect:l,flush:u,alwaysOpen:c,...p}=h(t,{activeKey:"onSelect"}),f=Object(m.c)(a,"accordion"),d=Object(o.useMemo)((()=>({activeEventKey:r,onSelect:l,alwaysOpen:c})),[r,l,c]);return Object(w.jsx)(T.Provider,{value:d,children:Object(w.jsx)(n,{ref:e,...p,className:i()(s,f,u&&"".concat(f,"-flush"))})})}));V.displayName="Accordion";e.a=Object.assign(V,{Button:z,Collapse:A,Item:U,Header:F,Body:R})},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(12);function i(t){return((Object(r.a)(t)?t.ownerDocument:t.document)||window.document).documentElement}},function(t,e,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var r=n(6),i=n(21),o=n(29),a=n(68),s=n(105);var l=n(32),u=n(69),c=n(19);var h=n(77),p=n(43),f=n(12),d=n(37),m=n(52),g=n(106),y=n(26);function v(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function _(t,e,n){return e===r.w?v(function(t,e){var n=Object(i.a)(t),r=Object(o.a)(t),l=n.visualViewport,u=r.clientWidth,c=r.clientHeight,h=0,p=0;if(l){u=l.width,c=l.height;var f=Object(s.a)();(f||!f&&"fixed"===e)&&(h=l.offsetLeft,p=l.offsetTop)}return{width:u,height:c,x:h+Object(a.a)(t),y:p}}(t,n)):Object(f.a)(e)?function(t,e){var n=Object(d.a)(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):v(function(t){var e,n=Object(o.a)(t),r=Object(u.a)(t),i=null==(e=t.ownerDocument)?void 0:e.body,s=Object(c.a)(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),h=Object(c.a)(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),p=-r.scrollLeft+Object(a.a)(t),f=-r.scrollTop;return"rtl"===Object(l.a)(i||n).direction&&(p+=Object(c.a)(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:h,x:p,y:f}}(Object(o.a)(t)))}function b(t,e,n,r){var i="clippingParents"===e?function(t){var e=Object(h.a)(Object(m.a)(t)),n=["absolute","fixed"].indexOf(Object(l.a)(t).position)>=0&&Object(f.b)(t)?Object(p.a)(t):t;return Object(f.a)(n)?e.filter((function(t){return Object(f.a)(t)&&Object(g.a)(t,n)&&"body"!==Object(y.a)(t)})):[]}(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(e,n){var i=_(t,n,r);return e.top=Object(c.a)(i.top,e.top),e.right=Object(c.b)(i.right,e.right),e.bottom=Object(c.b)(i.bottom,e.bottom),e.left=Object(c.a)(i.left,e.left),e}),_(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var x=n(107),w=n(102),S=n(104);function E(t,e){void 0===e&&(e={});var n=e,i=n.placement,a=void 0===i?t.placement:i,s=n.strategy,l=void 0===s?t.strategy:s,u=n.boundary,c=void 0===u?r.j:u,h=n.rootBoundary,p=void 0===h?r.w:h,m=n.elementContext,g=void 0===m?r.p:m,y=n.altBoundary,_=void 0!==y&&y,E=n.padding,O=void 0===E?0:E,k=Object(w.a)("number"!==typeof O?O:Object(S.a)(O,r.e)),M=g===r.p?r.r:r.p,C=t.rects.popper,T=t.elements[_?M:g],P=b(Object(f.a)(T)?T:T.contextElement||Object(o.a)(t.elements.popper),c,p,l),A=Object(d.a)(t.elements.reference),I=Object(x.a)({reference:A,element:C,strategy:"absolute",placement:a}),D=v(Object.assign({},C,I)),j=g===r.p?D:A,R={top:P.top-j.top+k.top,bottom:j.bottom-P.bottom+k.bottom,left:P.left-j.left+k.left,right:j.right-P.right+k.right},L=t.modifiersData.offset;if(g===r.p&&L){var z=L[a];Object.keys(R).forEach((function(t){var e=[r.s,r.i].indexOf(t)>=0?1:-1,n=[r.u,r.i].indexOf(t)>=0?"y":"x";R[t]+=z[n]*e}))}return R}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(21);function i(t){return Object(r.a)(t).getComputedStyle(t)}},function(t,e,n){"use strict";var r=n(42);function i(t,e){return function(t){var e=Object(r.a)(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var o=/([A-Z])/g;var a=/^ms-/;function s(t){return function(t){return t.replace(o,"-$1").toLowerCase()}(t).replace(a,"-ms-")}var l=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.a=function(t,e){var n="",r="";if("string"===typeof e)return t.style.getPropertyValue(s(e))||i(t).getPropertyValue(s(e));Object.keys(e).forEach((function(i){var o=e[i];o||0===o?!function(t){return!(!t||!l.test(t))}(i)?n+=s(i)+": "+o+";":r+=i+"("+o+") ":t.style.removeProperty(s(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}},function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return l}));var r=n(1),i=function(t){return Array.isArray(t)?t[0]:t},o=function(t){if("function"===typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}},a=function(t,e){if("function"===typeof t)return o(t,e);null!=t&&(t.current=e)},s=function(t){return t.reduce((function(t,e){var n=e[0],r=e[1];return t[n]=r,t}),{})},l="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},function(t,e,n){"use strict";e.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(t,e,n){"use strict";var r,i=n(3),o=n.n(i),a=n(111),s=n(35),l=n(42),u=n(83);function c(t){if((!r&&0!==r||t)&&s.a){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return r}var h=n(167),p=n(25),f=n(53),d=n(119),m=n(120),g=n(1);function y(t){void 0===t&&(t=Object(l.a)());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(n){return t.body}}var v=n(84),_=n(39),b=n(17),x=n.n(b),w=n(169),S=n(114),E=n(33);const O=(k="modal-open","".concat("data-rr-ui-").concat(k));var k;var M=class{constructor(){let{ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[n]:r.style[n]},t.scrollBarWidth&&(e[n]="".concat(parseInt(Object(E.a)(r,n)||"0",10)+t.scrollBarWidth,"px")),r.setAttribute(O,""),Object(E.a)(r,e)}reset(){[...this.modals].forEach((t=>this.remove(t)))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(O),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return-1!==e?e:(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),0!==e||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e)}remove(t){const e=this.modals.indexOf(t);-1!==e&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}};const C=Object(g.createContext)(s.a?window:void 0);C.Provider;function T(){return Object(g.useContext)(C)}const P=(t,e)=>s.a?null==t?(e||Object(l.a)()).body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;var A=n(135);var I=function(t){let{children:e,in:n,onExited:r,mountOnEnter:i,unmountOnExit:o}=t;const a=Object(g.useRef)(null),s=Object(g.useRef)(n),l=Object(p.a)(r);Object(g.useEffect)((()=>{n?s.current=!0:l(a.current)}),[n,l]);const u=Object(f.a)(a,e.ref),c=Object(g.cloneElement)(e,{ref:u});return n?c:o||!s.current&&i?null:c},D=n(0);function j(t){let{children:e,in:n,onExited:r,onEntered:i,transition:o}=t;const[a,s]=Object(g.useState)(!n);n&&a&&s(!1);const l=function(t){let{in:e,onTransition:n}=t;const r=Object(g.useRef)(null),i=Object(g.useRef)(!0),o=Object(p.a)(n);return Object(A.a)((()=>{if(!r.current)return;let t=!1;return o({in:e,element:r.current,initial:i.current,isStale:()=>t}),()=>{t=!0}}),[e,o]),Object(A.a)((()=>(i.current=!1,()=>{i.current=!0})),[]),r}({in:!!n,onTransition:t=>{Promise.resolve(o(t)).then((()=>{t.isStale()||(t.in?null==i||i(t.element,t.initial):(s(!0),null==r||r(t.element)))}),(e=>{throw t.in||s(!0),e}))}}),u=Object(f.a)(l,e.ref);return a&&!n?null:Object(g.cloneElement)(e,{ref:u})}function R(t,e,n){return t?Object(D.jsx)(t,Object.assign({},n)):e?Object(D.jsx)(j,Object.assign({},n,{transition:e})):Object(D.jsx)(I,Object.assign({},n))}const L=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let z;function N(t){const e=T(),n=t||function(t){return z||(z=new M({ownerDocument:null==t?void 0:t.document})),z}(e),r=Object(g.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:Object(g.useCallback)((t=>{r.current.dialog=t}),[]),setBackdropRef:Object(g.useCallback)((t=>{r.current.backdrop=t}),[])})}const F=Object(g.forwardRef)(((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:a,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:h,transition:f,runTransition:m,backdropTransition:b,runBackdropTransition:E,autoFocus:O=!0,enforceFocus:k=!0,restoreFocus:M=!0,restoreFocusOptions:C,renderDialog:A,renderBackdrop:I=(t=>Object(D.jsx)("div",Object.assign({},t))),manager:j,container:z,onShow:F,onHide:B=(()=>{}),onExit:U,onExited:V,onExiting:H,onEnter:W,onEntering:q,onEntered:K}=t,Y=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,L);const Z=T(),G=function(t,e){const n=T(),[r,i]=Object(g.useState)((()=>P(t,null==n?void 0:n.document)));if(!r){const e=P(t);e&&i(e)}return Object(g.useEffect)((()=>{e&&r&&e(r)}),[e,r]),Object(g.useEffect)((()=>{const e=P(t);e!==r&&i(e)}),[t,r]),r}(z),X=N(j),J=Object(w.a)(),$=Object(S.a)(n),[Q,tt]=Object(g.useState)(!n),et=Object(g.useRef)(null);Object(g.useImperativeHandle)(e,(()=>X),[X]),s.a&&!$&&n&&(et.current=y(null==Z?void 0:Z.document)),n&&Q&&tt(!1);const nt=Object(p.a)((()=>{if(X.add(),lt.current=Object(_.a)(document,"keydown",at),st.current=Object(_.a)(document,"focus",(()=>setTimeout(it)),!0),F&&F(),O){var t,e;const n=y(null!=(t=null==(e=X.dialog)?void 0:e.ownerDocument)?t:null==Z?void 0:Z.document);X.dialog&&n&&!Object(v.a)(X.dialog,n)&&(et.current=n,X.dialog.focus())}})),rt=Object(p.a)((()=>{var t;(X.remove(),null==lt.current||lt.current(),null==st.current||st.current(),M)&&(null==(t=et.current)||null==t.focus||t.focus(C),et.current=null)}));Object(g.useEffect)((()=>{n&&G&&nt()}),[n,G,nt]),Object(g.useEffect)((()=>{Q&&rt()}),[Q,rt]),Object(d.a)((()=>{rt()}));const it=Object(p.a)((()=>{if(!k||!J()||!X.isTopModal())return;const t=y(null==Z?void 0:Z.document);X.dialog&&t&&!Object(v.a)(X.dialog,t)&&X.dialog.focus()})),ot=Object(p.a)((t=>{t.target===t.currentTarget&&(null==c||c(t),!0===l&&B())})),at=Object(p.a)((t=>{u&&function(t){return"Escape"===t.code||27===t.keyCode}(t)&&X.isTopModal()&&(null==h||h(t),t.defaultPrevented||B())})),st=Object(g.useRef)(),lt=Object(g.useRef)();if(!G)return null;const ut=Object.assign({role:r,ref:X.setDialogRef,"aria-modal":"dialog"===r||void 0},Y,{style:o,className:i,tabIndex:-1});let ct=A?A(ut):Object(D.jsx)("div",Object.assign({},ut,{children:g.cloneElement(a,{role:"document"})}));ct=R(f,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:U,onExiting:H,onExited:function(){tt(!0),null==V||V(...arguments)},onEnter:W,onEntering:q,onEntered:K,children:ct});let ht=null;return l&&(ht=I({ref:X.setBackdropRef,onClick:ot}),ht=R(b,E,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ht})),Object(D.jsx)(D.Fragment,{children:x.a.createPortal(Object(D.jsxs)(D.Fragment,{children:[ht,ct]}),G)})}));F.displayName="Modal";var B=Object.assign(F,{Manager:M});var U=Function.prototype.bind.call(Function.prototype.call,[].slice);function V(t,e){return U(t.querySelectorAll(e))}function H(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const W=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",q=".sticky-top",K=".navbar-toggler";class Y extends M{adjustAndStore(t,e,n){const r=e.style[t];e.dataset[t]=r,Object(E.a)(e,{[t]:"".concat(parseFloat(Object(E.a)(e,t))+n,"px")})}restore(t,e){const n=e.dataset[t];void 0!==n&&(delete e.dataset[t],Object(E.a)(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();var n,r;if(r="modal-open",(n=e).classList?n.classList.add(r):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";V(e,W).forEach((e=>this.adjustAndStore(i,e,t.scrollBarWidth))),V(e,q).forEach((e=>this.adjustAndStore(o,e,-t.scrollBarWidth))),V(e,K).forEach((e=>this.adjustAndStore(o,e,t.scrollBarWidth)))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();var n,r;r="modal-open",(n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=H(n.className,r):n.setAttribute("class",H(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";V(e,W).forEach((t=>this.restore(i,t))),V(e,q).forEach((t=>this.restore(o,t))),V(e,K).forEach((t=>this.restore(o,t)))}}let Z;var G=n(44),X=n(113),J=n(112),$=n(121);const Q={[G.b]:"show",[G.a]:"show"},tt=g.forwardRef(((t,e)=>{let{className:n,children:r,transitionClasses:i={},onEnter:a,...s}=t;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},u=Object(g.useCallback)(((t,e)=>{Object(J.a)(t),null==a||a(t,e)}),[a]);return Object(D.jsx)($.a,{ref:e,addEndListener:X.a,...l,onEnter:u,childRef:r.ref,children:(t,e)=>g.cloneElement(r,{...e,className:o()("fade",n,r.props.className,Q[t],i[t])})})}));tt.displayName="Fade";var et=tt,nt=n(7);const rt=g.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...a}=t;return r=Object(nt.c)(r,"modal-body"),Object(D.jsx)(i,{ref:e,className:o()(n,r),...a})}));rt.displayName="ModalBody";var it=rt;var ot=g.createContext({onHide(){}});const at=g.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:a,size:s,fullscreen:l,children:u,scrollable:c,...h}=t;n=Object(nt.c)(n,"modal");const p="".concat(n,"-dialog"),f="string"===typeof l?"".concat(n,"-fullscreen-").concat(l):"".concat(n,"-fullscreen");return Object(D.jsx)("div",{...h,ref:e,className:o()(p,r,s&&"".concat(n,"-").concat(s),a&&"".concat(p,"-centered"),c&&"".concat(p,"-scrollable"),l&&f),children:Object(D.jsx)("div",{className:o()("".concat(n,"-content"),i),children:u})})}));at.displayName="ModalDialog";var st=at;const lt=g.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...a}=t;return r=Object(nt.c)(r,"modal-footer"),Object(D.jsx)(i,{ref:e,className:o()(n,r),...a})}));lt.displayName="ModalFooter";var ut=lt,ct=n(2),ht=n.n(ct);const pt={"aria-label":ht.a.string,onClick:ht.a.func,variant:ht.a.oneOf(["white"])},ft=g.forwardRef(((t,e)=>{let{className:n,variant:r,"aria-label":i="Close",...a}=t;return Object(D.jsx)("button",{ref:e,type:"button",className:o()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...a})}));ft.displayName="CloseButton",ft.propTypes=pt;var dt=ft;var mt=g.forwardRef(((t,e)=>{let{closeLabel:n="Close",closeVariant:r,closeButton:i=!1,onHide:o,children:a,...s}=t;const l=Object(g.useContext)(ot),u=Object(p.a)((()=>{null==l||l.onHide(),null==o||o()}));return Object(D.jsxs)("div",{ref:e,...s,children:[a,i&&Object(D.jsx)(dt,{"aria-label":n,variant:r,onClick:u})]})}));const gt=g.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:a=!1,...s}=t;return n=Object(nt.c)(n,"modal-header"),Object(D.jsx)(mt,{ref:e,...s,className:o()(r,n),closeLabel:i,closeButton:a})}));gt.displayName="ModalHeader";var yt=gt,vt=n(71);const _t=Object(vt.a)("h4"),bt=g.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i=_t,...a}=t;return r=Object(nt.c)(r,"modal-title"),Object(D.jsx)(i,{ref:e,className:o()(n,r),...a})}));bt.displayName="ModalTitle";var xt=bt;function wt(t){return Object(D.jsx)(et,{...t,timeout:null})}function St(t){return Object(D.jsx)(et,{...t,timeout:null})}const Et=g.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,style:i,dialogClassName:y,contentClassName:v,children:_,dialogAs:b=st,"aria-labelledby":x,"aria-describedby":w,"aria-label":S,show:E=!1,animation:O=!0,backdrop:k=!0,keyboard:M=!0,onEscapeKeyDown:C,onShow:T,onHide:P,container:A,autoFocus:I=!0,enforceFocus:j=!0,restoreFocus:R=!0,restoreFocusOptions:L,onEntered:z,onExit:N,onExiting:F,onEnter:U,onEntering:V,onExited:H,backdropClassName:W,manager:q,...K}=t;const[G,X]=Object(g.useState)({}),[J,$]=Object(g.useState)(!1),Q=Object(g.useRef)(!1),tt=Object(g.useRef)(!1),et=Object(g.useRef)(null),[rt,it]=Object(h.a)(),at=Object(f.a)(e,it),lt=Object(p.a)(P),ut=Object(nt.d)();n=Object(nt.c)(n,"modal");const ct=Object(g.useMemo)((()=>({onHide:lt})),[lt]);function ht(){return q||(t={isRTL:ut},Z||(Z=new Y(t)),Z);var t}function pt(t){if(!s.a)return;const e=ht().getScrollbarWidth()>0,n=t.scrollHeight>Object(l.a)(t).documentElement.clientHeight;X({paddingRight:e&&!n?c():void 0,paddingLeft:!e&&n?c():void 0})}const ft=Object(p.a)((()=>{rt&&pt(rt.dialog)}));Object(d.a)((()=>{Object(u.a)(window,"resize",ft),null==et.current||et.current()}));const dt=()=>{Q.current=!0},mt=t=>{Q.current&&rt&&t.target===rt.dialog&&(tt.current=!0),Q.current=!1},gt=()=>{$(!0),et.current=Object(m.a)(rt.dialog,(()=>{$(!1)}))},yt=t=>{"static"!==k?tt.current||t.target!==t.currentTarget?tt.current=!1:null==P||P():(t=>{t.target===t.currentTarget&&gt()})(t)},vt=Object(g.useCallback)((t=>Object(D.jsx)("div",{...t,className:o()("".concat(n,"-backdrop"),W,!O&&"show")})),[O,W,n]),_t={...i,...G};_t.display="block";return Object(D.jsx)(ot.Provider,{value:ct,children:Object(D.jsx)(B,{show:E,ref:at,backdrop:k,container:A,keyboard:!0,autoFocus:I,enforceFocus:j,restoreFocus:R,restoreFocusOptions:L,onEscapeKeyDown:t=>{M?null==C||C(t):(t.preventDefault(),"static"===k&&gt())},onShow:T,onHide:P,onEnter:(t,e)=>{t&&pt(t),null==U||U(t,e)},onEntering:(t,e)=>{null==V||V(t,e),Object(a.a)(window,"resize",ft)},onEntered:z,onExit:t=>{null==et.current||et.current(),null==N||N(t)},onExiting:F,onExited:t=>{t&&(t.style.display=""),null==H||H(t),Object(u.a)(window,"resize",ft)},manager:ht(),transition:O?wt:void 0,backdropTransition:O?St:void 0,renderBackdrop:vt,renderDialog:t=>Object(D.jsx)("div",{role:"dialog",...t,style:_t,className:o()(r,n,J&&"".concat(n,"-static"),!O&&"show"),onClick:k?yt:void 0,onMouseUp:mt,"aria-label":S,"aria-labelledby":x,"aria-describedby":w,children:Object(D.jsx)(b,{...K,onMouseDown:dt,className:y,contentClassName:v,children:_})})})})}));Et.displayName="Modal";e.a=Object.assign(Et,{Body:it,Header:yt,Title:xt,Footer:ut,Dialog:st,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(12),i=n(19),o=n(21),a=n(105);function s(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var s=t.getBoundingClientRect(),l=1,u=1;e&&Object(r.b)(t)&&(l=t.offsetWidth>0&&Object(i.c)(s.width)/t.offsetWidth||1,u=t.offsetHeight>0&&Object(i.c)(s.height)/t.offsetHeight||1);var c=(Object(r.a)(t)?Object(o.a)(t):window).visualViewport,h=!Object(a.a)()&&n,p=(s.left+(h&&c?c.offsetLeft:0))/l,f=(s.top+(h&&c?c.offsetTop:0))/u,d=s.width/l,m=s.height/u;return{width:d,height:m,top:f,right:p+d,bottom:f+m,left:p,x:p,y:f}}},function(t,e,n){"use strict";function r(t){return t.split("-")[1]}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(111),i=n(83);e.a=function(t,e,n,o){return Object(r.a)(t,e,n,o),function(){Object(i.a)(t,e,n,o)}}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1));e.MapContext=o.createContext(void 0),e.withMap=function(t){return function(n){return o.createElement(e.MapContext.Consumer,null,(function(e){return o.createElement(t,r({map:e},n))}))}}},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(21),i=n(26),o=n(32),a=n(12);function s(t){return["table","td","th"].indexOf(Object(i.a)(t))>=0}var l=n(52),u=n(81);function c(t){return Object(a.b)(t)&&"fixed"!==Object(o.a)(t).position?t.offsetParent:null}function h(t){for(var e=Object(r.a)(t),n=c(t);n&&s(n)&&"static"===Object(o.a)(n).position;)n=c(n);return n&&("html"===Object(i.a)(n)||"body"===Object(i.a)(n)&&"static"===Object(o.a)(n).position)?e:n||function(t){var e=/firefox/i.test(Object(u.a)());if(/Trident/i.test(Object(u.a)())&&Object(a.b)(t)&&"fixed"===Object(o.a)(t).position)return null;var n=Object(l.a)(t);for(Object(a.c)(n)&&(n=n.host);Object(a.b)(n)&&["html","body"].indexOf(Object(i.a)(n))<0;){var r=Object(o.a)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}},function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return m}));var r=n(41),i=n(122),o=n(1),a=n.n(o),s=n(17),l=n.n(s),u=!1,c=a.a.createContext(null),h="unmounted",p="exited",f="entering",d="entered",m="exiting",g=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=p,r.appearStatus=f):i=d:i=e.unmountOnExit||e.mountOnEnter?h:p,r.state={status:i},r.nextCallback=null,r}Object(i.a)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===h?{status:p}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==d&&(e=f):n!==f&&n!==d||(e=m)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===f){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:h})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[l.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!t&&!n||u?this.safeSetState({status:d},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:f},(function(){e.props.onEntering(o,a),e.onTransitionEnd(c,(function(){e.safeSetState({status:d},(function(){e.props.onEntered(o,a)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.a.findDOMNode(this);e&&!u?(this.props.onExit(r),this.safeSetState({status:m},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:p},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:p},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===h)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,Object(r.a)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(c.Provider,{value:null},"function"===typeof n?n(t,i):a.a.cloneElement(a.a.Children.only(n),i))},e}(a.a.Component);function y(){}g.contextType=c,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=h,g.EXITED=p,g.ENTERING=f,g.ENTERED=d,g.EXITING=m;e.e=g},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.KeyType=void 0;const i=r(n(180)),o=n(140),a=n(126);var s;function l(t){if("ed25519"===t.toLowerCase())return s.ED25519;throw new Error("Unknown key type ".concat(t))}!function(t){t[t.ED25519=0]="ED25519"}(s=e.KeyType||(e.KeyType={}));class u extends a.Assignable{static from(t){return"string"===typeof t?u.fromString(t):t}static fromString(t){const e=t.split(":");if(1===e.length)return new u({keyType:s.ED25519,data:o.base_decode(e[0])});if(2===e.length)return new u({keyType:l(e[0]),data:o.base_decode(e[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return"".concat(function(t){if(t===s.ED25519)return"ed25519";throw new Error("Unknown key type ".concat(t))}(this.keyType),":").concat(o.base_encode(this.data))}verify(t,e){if(this.keyType===s.ED25519)return i.default.sign.detached.verify(t,e,this.data);throw new Error("Unknown key type ".concat(this.keyType))}}e.PublicKey=u;class c{static fromRandom(t){if("ED25519"===t.toUpperCase())return h.fromRandom();throw new Error("Unknown curve ".concat(t))}static fromString(t){const e=t.split(":");if(1===e.length)return new h(e[0]);if(2===e.length){if("ED25519"===e[0].toUpperCase())return new h(e[1]);throw new Error("Unknown curve: ".concat(e[0]))}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}e.KeyPair=c;class h extends c{constructor(t){super();const e=i.default.sign.keyPair.fromSecretKey(o.base_decode(t));this.publicKey=new u({keyType:s.ED25519,data:e.publicKey}),this.secretKey=t}static fromRandom(){const t=i.default.sign.keyPair();return new h(o.base_encode(t.secretKey))}sign(t){return{signature:i.default.sign.detached(t,o.base_decode(this.secretKey)),publicKey:this.publicKey}}verify(t,e){return this.publicKey.verify(t,e)}toString(){return"ed25519:".concat(this.secretKey)}getPublicKey(){return this.publicKey}}e.KeyPairEd25519=h},function(t,e,n){"use strict";n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return w}));var r=n(37),i=n(69),o=n(21),a=n(12);var s=n(26),l=n(68),u=n(29),c=n(70),h=n(19);function p(t,e,n){void 0===n&&(n=!1);var p=Object(a.b)(e),f=Object(a.b)(e)&&function(t){var e=t.getBoundingClientRect(),n=Object(h.c)(e.width)/t.offsetWidth||1,r=Object(h.c)(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),d=Object(u.a)(e),m=Object(r.a)(t,f,n),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(p||!p&&!n)&&(("body"!==Object(s.a)(e)||Object(c.a)(d))&&(g=function(t){return t!==Object(o.a)(t)&&Object(a.b)(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:Object(i.a)(t);var e}(e)),Object(a.b)(e)?((y=Object(r.a)(e,!0)).x+=e.clientLeft,y.y+=e.clientTop):d&&(y.x=Object(l.a)(d))),{x:m.left+g.scrollLeft-y.x,y:m.top+g.scrollTop-y.y,width:m.width,height:m.height}}var f=n(67),d=n(77),m=n(43),g=n(6);function y(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function v(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var _={placement:"bottom",modifiers:[],strategy:"absolute"};function b(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function x(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?_:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},_,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],l=!1,u={state:i,setOptions:function(n){var l="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,l),i.scrollParents={reference:Object(a.a)(t)?Object(d.a)(t):t.contextElement?Object(d.a)(t.contextElement):[],popper:Object(d.a)(e)};var h=function(t){var e=y(t);return g.n.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=h.filter((function(t){return t.enabled})),i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"===typeof o){var a=o({state:i,name:e,instance:u,options:r}),l=function(){};s.push(a||l)}})),u.update()},forceUpdate:function(){if(!l){var t=i.elements,e=t.reference,n=t.popper;if(b(e,n)){i.rects={reference:p(e,Object(m.a)(n),"fixed"===i.options.strategy),popper:Object(f.a)(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,s=o.options,c=void 0===s?{}:s,h=o.name;"function"===typeof a&&(i=a({state:i,options:c,name:h,instance:u})||i)}else i.reset=!1,r=-1}}},update:v((function(){return new Promise((function(t){u.forceUpdate(),t(i)}))})),destroy:function(){c(),l=!0}};if(!b(t,e))return u;function c(){s.forEach((function(t){return t()})),s=[]}return u.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var w=x()},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const i=r(n(50));e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=new i.default("10",10).pow(new i.default(e.NEAR_NOMINATION_EXP,10));const o=[],a=new i.default(10);for(let s=0,l=new i.default(5);s<e.NEAR_NOMINATION_EXP;s++,l=l.mul(a))o[s]=l;e.formatNearAmount=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.NEAR_NOMINATION_EXP;const r=new i.default(t,10);if(n!==e.NEAR_NOMINATION_EXP){const t=e.NEAR_NOMINATION_EXP-n-1;t>0&&r.iadd(o[t])}const a=(t=r.toString()).substring(0,t.length-e.NEAR_NOMINATION_EXP)||"0",s=t.substring(t.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,n);return"".concat(function(t){const e=/(-?\d+)(\d{3})/;for(;e.test(t);)t=t.replace(e,"$1,$2");return t}(a),".").concat(s).replace(/\.?0*$/,"")},e.parseNearAmount=function(t){if(!t)return null;const n=(t=t.replace(/,/g,"").trim()).split("."),r=n[0],i=n[1]||"";if(n.length>2||i.length>e.NEAR_NOMINATION_EXP)throw new Error("Cannot parse '".concat(t,"' as NEAR amount"));return function(t){if(""===(t=t.replace(/^0+/,"")))return"0";return t}(r+i.padEnd(e.NEAR_NOMINATION_EXP,"0"))}},function(t,e,n){"use strict";(function(t){var r=n(182),i=n(183),o=n(184);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=p(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n);t=s(t,r);var i=t.write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|f(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=s(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|f(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,p=0;p<l;p++)if(u(t,o+p)!==u(e,p)){h=!1;break}if(h)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return H(U(e,t.length-n),t,n,r)}function x(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return x(t,e,n,r)}function S(t,e,n,r){return H(V(e),t,n,r)}function E(t,e,n,r){return H(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,u=t[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128===(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=M));return n}(r)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=t.slice(e,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=l.isBuffer(t)?t:U(new l(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(45))},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(185).Buffer}catch(C){}function s(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function l(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function u(t,e,n,i){for(var o=0,a=0,s=Math.min(t.length,n),l=e;l<s;l++){var u=t.charCodeAt(l)-48;o*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&a<i,"Invalid character"),o+=a}return o}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=l(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=l(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=r)l=u(t,c,c+r,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var h=1;for(l=u(t,c,t.length,e),c=0;c<a;c++)h*=e;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){c(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(C){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?p[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],c=d[t];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(c).toString(t);n=(h=h.idivn(c)).isZero()?m+n:p[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,h=67108863&l,p=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=p;f++){var d=u-f|0;c+=(a=(i=0|t.words[d])*(o=0|e.words[f])+h)/67108864|0,h=67108863&a}n.words[u]=0|h,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;t[n++]=255&a,n<t.length&&(t[n++]=a>>8&255),n<t.length&&(t[n++]=a>>16&255),6===o?(n<t.length&&(t[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;t[n--]=255&a,n>=0&&(t[n--]=a>>8&255),n>=0&&(t[n--]=a>>16&255),6===o?(n>=0&&(t[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,o,a=t.words,s=e.words,l=n.words,u=0,c=0|a[0],h=8191&c,p=c>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],y=8191&g,v=g>>>13,_=0|a[3],b=8191&_,x=_>>>13,w=0|a[4],S=8191&w,E=w>>>13,O=0|a[5],k=8191&O,M=O>>>13,C=0|a[6],T=8191&C,P=C>>>13,A=0|a[7],I=8191&A,D=A>>>13,j=0|a[8],R=8191&j,L=j>>>13,z=0|a[9],N=8191&z,F=z>>>13,B=0|s[0],U=8191&B,V=B>>>13,H=0|s[1],W=8191&H,q=H>>>13,K=0|s[2],Y=8191&K,Z=K>>>13,G=0|s[3],X=8191&G,J=G>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],lt=8191&st,ut=st>>>13,ct=0|s[8],ht=8191&ct,pt=ct>>>13,ft=0|s[9],dt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(r=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(p,U)|0))<<13)|0;u=((o=Math.imul(p,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(d,U),i=(i=Math.imul(d,V))+Math.imul(m,U)|0,o=Math.imul(m,V);var yt=(u+(r=r+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(p,W)|0))<<13)|0;u=((o=o+Math.imul(p,q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,o=Math.imul(v,V),r=r+Math.imul(d,W)|0,i=(i=i+Math.imul(d,q)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,q)|0;var vt=(u+(r=r+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(p,Y)|0))<<13)|0;u=((o=o+Math.imul(p,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,U),i=(i=Math.imul(b,V))+Math.imul(x,U)|0,o=Math.imul(x,V),r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,q)|0,r=r+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var _t=(u+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(p,X)|0))<<13)|0;u=((o=o+Math.imul(p,J)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(E,U)|0,o=Math.imul(E,V),r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,Z)|0,r=r+Math.imul(d,X)|0,i=(i=i+Math.imul(d,J)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,J)|0;var bt=(u+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(p,Q)|0))<<13)|0;u=((o=o+Math.imul(p,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(M,U)|0,o=Math.imul(M,V),r=r+Math.imul(S,W)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,q)|0,r=r+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,Z)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var xt=(u+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(p,nt)|0))<<13)|0;u=((o=o+Math.imul(p,rt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(T,U),i=(i=Math.imul(T,V))+Math.imul(P,U)|0,o=Math.imul(P,V),r=r+Math.imul(k,W)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,q)|0,r=r+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,r=r+Math.imul(b,X)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,J)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(d,nt)|0,i=(i=i+Math.imul(d,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var wt=(u+(r=r+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(p,ot)|0))<<13)|0;u=((o=o+Math.imul(p,at)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(I,U),i=(i=Math.imul(I,V))+Math.imul(D,U)|0,o=Math.imul(D,V),r=r+Math.imul(T,W)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,q)|0,r=r+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(u+(r=r+Math.imul(h,lt)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(p,lt)|0))<<13)|0;u=((o=o+Math.imul(p,ut)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(L,U)|0,o=Math.imul(L,V),r=r+Math.imul(I,W)|0,i=(i=i+Math.imul(I,q)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,q)|0,r=r+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,Z)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,J)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0,r=r+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ut)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ut)|0;var Et=(u+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,pt)|0)+Math.imul(p,ht)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,U),i=(i=Math.imul(N,V))+Math.imul(F,U)|0,o=Math.imul(F,V),r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(T,X)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,J)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(y,lt)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,lt)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,pt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,pt)|0;var Ot=(u+(r=r+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(p,dt)|0))<<13)|0;u=((o=o+Math.imul(p,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(N,W),i=(i=Math.imul(N,q))+Math.imul(F,W)|0,o=Math.imul(F,q),r=r+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Z)|0,r=r+Math.imul(I,X)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,J)|0,r=r+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,r=r+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ut)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,pt)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,pt)|0;var kt=(u+(r=r+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(N,Y),i=(i=Math.imul(N,Z))+Math.imul(F,Y)|0,o=Math.imul(F,Z),r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,J)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(T,nt)|0,i=(i=i+Math.imul(T,rt)|0)+Math.imul(P,nt)|0,o=o+Math.imul(P,rt)|0,r=r+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(E,lt)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,pt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,pt)|0;var Mt=(u+(r=r+Math.imul(y,dt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,dt)|0))<<13)|0;u=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,X),i=(i=Math.imul(N,J))+Math.imul(F,X)|0,o=Math.imul(F,J),r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(I,nt)|0,i=(i=i+Math.imul(I,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,r=r+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(M,lt)|0,o=o+Math.imul(M,ut)|0,r=r+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,pt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,pt)|0;var Ct=(u+(r=r+Math.imul(b,dt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(x,dt)|0))<<13)|0;u=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(N,Q),i=(i=Math.imul(N,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(T,lt)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ut)|0,r=r+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,pt)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,pt)|0;var Tt=(u+(r=r+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,dt)|0))<<13)|0;u=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(N,nt),i=(i=Math.imul(N,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,r=r+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(D,lt)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,pt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,pt)|0;var Pt=(u+(r=r+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(M,dt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(N,ot),i=(i=Math.imul(N,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(L,lt)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,pt)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,pt)|0;var At=(u+(r=r+Math.imul(T,dt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(P,dt)|0))<<13)|0;u=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(N,lt),i=(i=Math.imul(N,ut))+Math.imul(F,lt)|0,o=Math.imul(F,ut),r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,pt)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,pt)|0;var It=(u+(r=r+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(D,dt)|0))<<13)|0;u=((o=o+Math.imul(D,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(N,ht),i=(i=Math.imul(N,pt))+Math.imul(F,ht)|0,o=Math.imul(F,pt);var Dt=(u+(r=r+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(L,dt)|0))<<13)|0;u=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var jt=(u+(r=Math.imul(N,dt))|0)+((8191&(i=(i=Math.imul(N,mt))+Math.imul(F,dt)|0))<<13)|0;return u=((o=Math.imul(F,mt))+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,l[0]=gt,l[1]=yt,l[2]=vt,l[3]=_t,l[4]=bt,l[5]=xt,l[6]=wt,l[7]=St,l[8]=Et,l[9]=Ot,l[10]=kt,l[11]=Mt,l[12]=Ct,l[13]=Tt,l[14]=Pt,l[15]=At,l[16]=It,l[17]=Dt,l[18]=jt,0!==u&&(l[19]=u,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var c=o-u,h=(0|t.words[c])*(0|e.words[u]),p=67108863&h;s=67108863&(p=p+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function _(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?m(this,t,e):n<1024?y(this,t,e):v(this,t,e)},_.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},_.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},_.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},_.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=l,p=u,f=0;f<a;f++){var d=n[c+f],m=r[c+f],g=n[c+f+a],y=r[c+f+a],v=h*g-p*y;y=h*y+p*g,g=v,n[c+f]=d+g,r[c+f]=m+y,n[c+f+a]=d-g,r[c+f+a]=m-y,f!==s&&(v=l*h-u*p,p=l*p+u*h,h=v)}},_.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},_.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},_.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},_.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},_.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},_.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),p=n.words;p.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,u,r),this.transform(a,o,s,l,r,i),this.transform(u,o,c,h,r,i);for(var f=0;f<r;f++){var d=s[f]*c[f]-l[f]*h[f];l[f]=s[f]*h[f]+l[f]*c[f],s[f]=d}return this.conjugate(s,l,r),this.transform(s,l,p,o,r,i),this.conjugate(p,o,r),this.normalize13b(p,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"===typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,l=(0|this.words[e])-s<<n;this.words[e]=l|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(i-=a,i=Math.max(0,i),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var l=(0|t.words[i])*e;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==e){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,s&&(s.words[l]=1));for(var h=l-1;h>=0;h--){var p=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(p=Math.min(p/a|0,67108863),r._ishlnsubmul(i,p,h);0!==r.negative;)p--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=p)}return s&&s._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var p=0,f=1;0===(e.words[0]&f)&&p<26;++p,f<<=1);if(p>0)for(e.iushrn(p);p-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var d=0,m=1;0===(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(h)),s.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(l)):(n.isub(e),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0===(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var h=0,p=1;0===(n.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function x(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},x.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},x.prototype.split=function(t,e){t.iushrn(this.n,0,e)},x.prototype.imulK=function(t){return t.imul(this.k)},i(w,x),w.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,x),i(E,x),i(O,x),O.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new S;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new O}return b[t]=e,e},k.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var h=this.pow(c,i),p=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<d);var y=this.pow(h,new o(1).iushln(d-g-1));p=p.redMul(y),h=y.redSqr(),f=f.redMul(h),d=g}return p},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],c=l-1;c>=0;c--){var h=u>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}l=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},i(M,k),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(125)(t))},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(26),i=n(29),o=n(12);function a(t){return"html"===Object(r.a)(t)?t:t.assignedSlot||t.parentNode||(Object(o.c)(t)?t.host:null)||Object(i.a)(t)}},function(t,e,n){"use strict";var r=n(1);const i=t=>t&&"function"!==typeof t?e=>{t.current=e}:t;e.a=function(t,e){return Object(r.useMemo)((()=>function(t,e){const n=i(t),r=i(e);return t=>{n&&n(t),r&&r(t)}}(t,e)),[t,e])}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1),i=n.n(r).a.createContext({})},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(19);function i(t,e,n){return Object(r.a)(t,Object(r.b)(e,n))}function o(t,e,n){var r=i(t,e,n);return r>n?n:r}},function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}},function(t,e,n){"use strict";(function(t,r){var i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=l(n(50)),c=l(n(186)),h=s(n(189)),p=new("function"!==typeof t.TextDecoder?h.TextDecoder:t.TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"===typeof t&&(t=r.from(t,"utf8")),c.default.encode(r.from(t))},e.baseDecode=function(t){return r.from(c.default.decode(t))};const f=1024;class d extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=d;class m{constructor(){this.buf=r.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(f)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),t,r.alloc(f)]),this.length+=t.length}writeString(t){this.maybeResize();const e=r.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(r.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,n){const r=n.value;n.value=function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}catch(i){if(i instanceof RangeError){const t=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new d("Reached the end of buffer when deserializing")}throw i}}}e.BinaryWriter=m;class y{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new d("Expected buffer length ".concat(t," isn't within bounds"));const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return p.decode(e)}catch(n){throw new d("Error decoding UTF-8 string: ".concat(n))}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function v(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _(t,e,n,r,i){try{if("string"===typeof r)i["write".concat(v(r))](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new d("Expecting byte array of length ".concat(r[0],", but got ").concat(n.length," bytes"));i.writeFixedArray(n)}else if(2===r.length&&"number"===typeof r[1]){if(n.length!==r[1])throw new d("Expecting byte array of length ".concat(r[1],", but got ").concat(n.length," bytes"));for(let e=0;e<r[1];e++)_(t,null,n[e],r[0],i)}else i.writeArray(n,(n=>{_(t,e,n,r[0],i)}));else if(void 0!==r.kind){if("option"!==r.kind)throw new d("FieldType ".concat(r," unrecognized"));null===n||void 0===n?i.writeU8(0):(i.writeU8(1),_(t,e,n,r.type,i))}else b(t,n,i)}catch(o){throw o instanceof d&&o.addToFieldPath(e),o}}function b(t,e,n){if("function"===typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new d("Class ".concat(e.constructor.name," is missing in schema"));if("struct"===r.kind)r.fields.map((r=>{let[i,o]=r;_(t,i,e[i],o,n)}));else{if("enum"!==r.kind)throw new d("Unexpected schema kind: ".concat(r.kind," for ").concat(e.constructor.name));{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[a,s]=r.values[o];if(a===i){n.writeU8(o),_(t,a,e[a],s,n);break}}}}}function x(t,e,n,r){try{if("string"===typeof n)return r["read".concat(v(n))]();if(n instanceof Array){if("number"===typeof n[0])return r.readFixedArray(n[0]);if("number"===typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(x(t,null,n[0],r));return e}return r.readArray((()=>x(t,e,n[0],r)))}if("option"===n.kind){return r.readU8()?x(t,e,n.type,r):void 0}return w(t,n,r)}catch(i){throw i instanceof d&&i.addToFieldPath(e),i}}function w(t,e,n){if("function"===typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new d("Class ".concat(e.name," is missing in schema"));if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=x(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new d("Enum index: ".concat(i," is out of range"));const[o,a]=r.values[i];return new e({[o]:x(t,o,a,n)})}throw new d("Unexpected schema kind: ".concat(r.kind," for ").concat(e.constructor.name))}a([g],y.prototype,"readU8",null),a([g],y.prototype,"readU16",null),a([g],y.prototype,"readU32",null),a([g],y.prototype,"readU64",null),a([g],y.prototype,"readU128",null),a([g],y.prototype,"readU256",null),a([g],y.prototype,"readU512",null),a([g],y.prototype,"readString",null),a([g],y.prototype,"readFixedArray",null),a([g],y.prototype,"readArray",null),e.BinaryReader=y,e.serialize=function(t,e){const n=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:m);return b(t,e,n),n.toArray()},e.deserialize=function(t,e,n){const r=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:y)(n),i=w(t,e,r);if(r.offset<n.length)throw new d("Unexpected ".concat(n.length-r.offset," bytes after deserialized data"));return i},e.deserializeUnchecked=function(t,e,n){return w(t,e,new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:y)(n))}}).call(this,n(45),n(49).Buffer)},function(t,e,n){"use strict";function r(t,e){if("function"!==typeof t)throw new TypeError("argument fn must be a function");return t}function i(t,e,n){if(!t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable")}t.exports=function(t){if(!t)throw new TypeError("argument namespace is required");function e(t){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=r,e.property=i,e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.ErrorContext=e.TypedError=e.ArgumentTypeError=e.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}e.PositionalArgsError=r;class i extends Error{constructor(t,e,n){super("Expected ".concat(e," for '").concat(t,"' argument, but got '").concat(JSON.stringify(n),"'"))}}e.ArgumentTypeError=i;class o extends Error{constructor(t,e,n){super(t),this.type=e||"UntypedError",this.context=n}}e.TypedError=o;e.ErrorContext=class{constructor(t){this.transactionHash=t}},e.logWarning=function(){Object({NODE_ENV:"production",PUBLIC_URL:"/drugcipher",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_NO_LOGS||console.warn(...arguments)}},function(t,e,n){var r=Array.prototype.slice,i=n(237),o=n(238),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,c;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var h=i(t),p=i(e)}catch(f){return!1}if(h.length!=p.length)return!1;for(h.sort(),p.sort(),u=h.length-1;u>=0;u--)if(h[u]!=p[u])return!1;for(u=h.length-1;u>=0;u--)if(c=h[u],!a(t[c],e[c],n))return!1;return typeof t===typeof e}(t,e,n))};function s(t){return null===t||void 0===t}function l(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}},function(t,e,n){"use strict";var r=n(26),i=n(12);e.a={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},a=e.elements[t];Object(i.b)(a)&&Object(r.a)(a)&&(Object.assign(a.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?a.removeAttribute(t):a.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],a=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});Object(i.b)(o)&&Object(r.a)(o)&&(Object.assign(o.style,s),Object.keys(a).forEach((function(t){o.removeAttribute(t)})))}))}},requires:["computeStyles"]}},function(t,e,n){"use strict";var r=n(6),i=n(43),o=n(21),a=n(29),s=n(32),l=n(27),u=n(38),c=n(19),h={top:"auto",right:"auto",bottom:"auto",left:"auto"};function p(t){var e,n=t.popper,l=t.popperRect,u=t.placement,p=t.variation,f=t.offsets,d=t.position,m=t.gpuAcceleration,g=t.adaptive,y=t.roundOffsets,v=t.isFixed,_=f.x,b=void 0===_?0:_,x=f.y,w=void 0===x?0:x,S="function"===typeof y?y({x:b,y:w}):{x:b,y:w};b=S.x,w=S.y;var E=f.hasOwnProperty("x"),O=f.hasOwnProperty("y"),k=r.l,M=r.u,C=window;if(g){var T=Object(i.a)(n),P="clientHeight",A="clientWidth";if(T===Object(o.a)(n)&&(T=Object(a.a)(n),"static"!==Object(s.a)(T).position&&"absolute"===d&&(P="scrollHeight",A="scrollWidth")),u===r.u||(u===r.l||u===r.s)&&p===r.k)M=r.i,w-=(v&&T===C&&C.visualViewport?C.visualViewport.height:T[P])-l.height,w*=m?1:-1;if(u===r.l||(u===r.u||u===r.i)&&p===r.k)k=r.s,b-=(v&&T===C&&C.visualViewport?C.visualViewport.width:T[A])-l.width,b*=m?1:-1}var I,D=Object.assign({position:d},g&&h),j=!0===y?function(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Object(c.c)(n*i)/i||0,y:Object(c.c)(r*i)/i||0}}({x:b,y:w},Object(o.a)(n)):{x:b,y:w};return b=j.x,w=j.y,m?Object.assign({},D,((I={})[M]=O?"0":"",I[k]=E?"0":"",I.transform=(C.devicePixelRatio||1)<=1?"translate("+b+"px, "+w+"px)":"translate3d("+b+"px, "+w+"px, 0)",I)):Object.assign({},D,((e={})[M]=O?w+"px":"",e[k]=E?b+"px":"",e.transform="",e))}e.a={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,h={placement:Object(l.a)(e.placement),variation:Object(u.a)(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,p(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,p(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}}},function(t,e,n){"use strict";var r=n(21),i={passive:!0};e.a={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,a=o.scroll,s=void 0===a||a,l=o.resize,u=void 0===l||l,c=Object(r.a)(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach((function(t){t.addEventListener("scroll",n.update,i)})),u&&c.addEventListener("resize",n.update,i),function(){s&&h.forEach((function(t){t.removeEventListener("scroll",n.update,i)})),u&&c.removeEventListener("resize",n.update,i)}},data:{}}},function(t,e,n){"use strict";var r=n(107);e.a={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Object(r.a)({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}}},function(t,e,n){"use strict";function r(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(37);function i(t){var e=Object(r.a)(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(37),i=n(29),o=n(69);function a(t){return Object(r.a)(Object(i.a)(t)).left+Object(o.a)(t).scrollLeft}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(21);function i(t){var e=Object(r.a)(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(32);function i(t){var e=Object(r.a)(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n.n(i),a=n(0);e.a=t=>r.forwardRef(((e,n)=>Object(a.jsx)("div",{...e,ref:n,className:o()(e.className,t)})))},function(t,e,n){t.exports=n(256)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(2),a=n.n(o),s=n(1),l=n(0);const u={type:a.a.string,tooltip:a.a.bool,as:a.a.elementType},c=s.forwardRef(((t,e)=>{let{as:n="div",className:r,type:o="valid",tooltip:a=!1,...s}=t;return Object(l.jsx)(n,{...s,ref:e,className:i()(r,"".concat(o,"-").concat(a?"tooltip":"feedback"))})}));c.displayName="Feedback",c.propTypes=u;var h=c;var p=s.createContext({}),f=n(7);const d=s.forwardRef(((t,e)=>{let{id:n,bsPrefix:r,className:o,type:a="checkbox",isValid:u=!1,isInvalid:c=!1,as:h="input",...d}=t;const{controlId:m}=Object(s.useContext)(p);return r=Object(f.c)(r,"form-check-input"),Object(l.jsx)(h,{...d,ref:e,type:a,id:n||m,className:i()(o,r,u&&"is-valid",c&&"is-invalid")})}));d.displayName="FormCheckInput";var m=d;const g=s.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,htmlFor:o,...a}=t;const{controlId:u}=Object(s.useContext)(p);return n=Object(f.c)(n,"form-check-label"),Object(l.jsx)("label",{...a,ref:e,htmlFor:o||u,className:i()(r,n)})}));g.displayName="FormCheckLabel";var y=g;const v=s.forwardRef(((t,e)=>{let{id:n,bsPrefix:r,bsSwitchPrefix:o,inline:a=!1,reverse:u=!1,disabled:c=!1,isValid:d=!1,isInvalid:g=!1,feedbackTooltip:v=!1,feedback:_,feedbackType:b,className:x,style:w,title:S="",type:E="checkbox",label:O,children:k,as:M="input",...C}=t;r=Object(f.c)(r,"form-check"),o=Object(f.c)(o,"form-switch");const{controlId:T}=Object(s.useContext)(p),P=Object(s.useMemo)((()=>({controlId:n||T})),[T,n]),A=!k&&null!=O&&!1!==O||function(t,e){return s.Children.toArray(t).some((t=>s.isValidElement(t)&&t.type===e))}(k,y),I=Object(l.jsx)(m,{...C,type:"switch"===E?"checkbox":E,ref:e,isValid:d,isInvalid:g,disabled:c,as:M});return Object(l.jsx)(p.Provider,{value:P,children:Object(l.jsx)("div",{style:w,className:i()(x,A&&r,a&&"".concat(r,"-inline"),u&&"".concat(r,"-reverse"),"switch"===E&&o),children:k||Object(l.jsxs)(l.Fragment,{children:[I,A&&Object(l.jsx)(y,{title:S,children:O}),_&&Object(l.jsx)(h,{type:b,tooltip:v,children:_})]})})})}));v.displayName="FormCheck";var _=Object.assign(v,{Input:m,Label:y});n(51);const b=s.forwardRef(((t,e)=>{let{bsPrefix:n,type:r,size:o,htmlSize:a,id:u,className:c,isValid:h=!1,isInvalid:d=!1,plaintext:m,readOnly:g,as:y="input",...v}=t;const{controlId:_}=Object(s.useContext)(p);return n=Object(f.c)(n,"form-control"),Object(l.jsx)(y,{...v,type:r,size:a,ref:e,readOnly:g,id:u||_,className:i()(c,m?"".concat(n,"-plaintext"):n,o&&"".concat(n,"-").concat(o),"color"===r&&"".concat(n,"-color"),h&&"is-valid",d&&"is-invalid")})}));b.displayName="FormControl";var x=Object.assign(b,{Feedback:h});const w=s.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o="div",...a}=t;return r=Object(f.c)(r,"form-floating"),Object(l.jsx)(o,{ref:e,className:i()(n,r),...a})}));w.displayName="FormFloating";var S=w;const E=s.forwardRef(((t,e)=>{let{controlId:n,as:r="div",...i}=t;const o=Object(s.useMemo)((()=>({controlId:n})),[n]);return Object(l.jsx)(p.Provider,{value:o,children:Object(l.jsx)(r,{...i,ref:e})})}));E.displayName="FormGroup";var O=E,k=n(160);const M=s.forwardRef(((t,e)=>{let{as:n="label",bsPrefix:r,column:o=!1,visuallyHidden:a=!1,className:u,htmlFor:c,...h}=t;const{controlId:d}=Object(s.useContext)(p);r=Object(f.c)(r,"form-label");let m="col-form-label";"string"===typeof o&&(m="".concat(m," ").concat(m,"-").concat(o));const g=i()(u,r,a&&"visually-hidden",o&&m);return c=c||d,o?Object(l.jsx)(k.a,{ref:e,as:"label",className:g,htmlFor:c,...h}):Object(l.jsx)(n,{ref:e,className:g,htmlFor:c,...h})}));M.displayName="FormLabel";var C=M;const T=s.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,id:o,...a}=t;const{controlId:u}=Object(s.useContext)(p);return n=Object(f.c)(n,"form-range"),Object(l.jsx)("input",{...a,type:"range",ref:e,className:i()(r,n),id:o||u})}));T.displayName="FormRange";var P=T;const A=s.forwardRef(((t,e)=>{let{bsPrefix:n,size:r,htmlSize:o,className:a,isValid:u=!1,isInvalid:c=!1,id:h,...d}=t;const{controlId:m}=Object(s.useContext)(p);return n=Object(f.c)(n,"form-select"),Object(l.jsx)("select",{...d,size:o,ref:e,className:i()(a,n,r&&"".concat(n,"-").concat(r),u&&"is-valid",c&&"is-invalid"),id:h||m})}));A.displayName="FormSelect";var I=A;const D=s.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,as:o="small",muted:a,...s}=t;return n=Object(f.c)(n,"form-text"),Object(l.jsx)(o,{...s,ref:e,className:i()(r,n,a&&"text-muted")})}));D.displayName="FormText";var j=D;const R=s.forwardRef(((t,e)=>Object(l.jsx)(_,{...t,ref:e,type:"switch"})));R.displayName="Switch";var L=Object.assign(R,{Input:_.Input,Label:_.Label});const z=s.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,children:o,controlId:a,label:s,...u}=t;return n=Object(f.c)(n,"form-floating"),Object(l.jsxs)(O,{ref:e,className:i()(r,n),controlId:a,...u,children:[o,Object(l.jsx)("label",{htmlFor:a,children:s})]})}));z.displayName="FloatingLabel";var N=z;const F={_ref:a.a.any,validated:a.a.bool,as:a.a.elementType},B=s.forwardRef(((t,e)=>{let{className:n,validated:r,as:o="form",...a}=t;return Object(l.jsx)(o,{...a,ref:e,className:i()(n,r&&"was-validated")})}));B.displayName="Form",B.propTypes=F;e.a=Object.assign(B,{Group:O,Control:x,Floating:S,Check:_,Switch:L,Label:C,Text:j,Range:P,Select:I,FloatingLabel:N})},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function i(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var n,r=[],i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function f(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,r){return Zn(t,e,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=m()),t._pf}function y(t){var e=null,r=!1,i=t._d&&!isNaN(t._d.getTime());return i&&(e=g(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)),null!=Object.isFrozen&&Object.isFrozen(t)?i:(t._isValid=i,t._isValid)}function v(t){var e=d(NaN);return null!=t?f(g(e),t):g(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var _=r.momentProperties=[],b=!1;function x(t,e){var n,r,i,o=_.length;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=g(e)),u(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)u(i=e[r=_[n]])||(t[r]=i);return t}function w(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function S(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function E(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function O(t,e){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,o,a,l=[],u=arguments.length;for(o=0;o<u;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}E(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var k,M={};function C(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),M[t]||(E(e),M[t]=!0)}function T(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t){var e,n;for(n in t)s(t,n)&&(T(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(t,e){var n,r=f({},t);for(n in e)s(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},f(r[n],t[n]),f(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)s(t,n)&&!s(e,n)&&a(t[n])&&(r[n]=f({},r[n]));return r}function I(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return T(r)?r.call(e,n):r}function R(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},F={};function B(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(F[t]=i),e&&(F[e[0]]=function(){return R(i.apply(this,arguments),e[1],e[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function U(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,n,r=t.match(L);for(e=0,n=r.length;e<n;e++)F[r[e]]?r[e]=F[r[e]]:r[e]=U(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(e,t):r[i];return o}}function H(t,e){return t.isValid()?(e=W(e,t.localeData()),N[e]=N[e]||V(e),N[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(z.lastIndex=0;n>=0&&z.test(t);)t=t.replace(z,r),z.lastIndex=0,n-=1;return t}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(L).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var Y="Invalid date";function Z(){return this._invalidDate}var G="%d",X=/\d{1,2}/;function J(t){return this._ordinal.replace("%d",t)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(t,e,n,r){var i=this._relativeTime[n];return T(i)?i(t,e,n,r):i.replace(/%d/i,t)}function tt(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)}var et={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function nt(t){return"string"===typeof t?et[t]||et[t.toLowerCase()]:void 0}function rt(t){var e,n,r={};for(n in t)s(t,n)&&(e=nt(n))&&(r[e]=t[n]);return r}var it={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ot(t){var e,n=[];for(e in t)s(t,e)&&n.push({unit:e,priority:it[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}var at,st=/\d/,lt=/\d\d/,ut=/\d{3}/,ct=/\d{4}/,ht=/[+-]?\d{6}/,pt=/\d\d?/,ft=/\d\d\d\d?/,dt=/\d\d\d\d\d\d?/,mt=/\d{1,3}/,gt=/\d{1,4}/,yt=/[+-]?\d{1,6}/,vt=/\d+/,_t=/[+-]?\d+/,bt=/Z|[+-]\d\d:?\d\d/gi,xt=/Z|[+-]\d\d(?::?\d\d)?/gi,wt=/[+-]?\d+(\.\d{1,3})?/,St=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Et=/^[1-9]\d?/,Ot=/^([1-9]\d|\d)/;function kt(t,e,n){at[t]=T(e)?e:function(t,r){return t&&n?n:e}}function Mt(t,e){return s(at,t)?at[t](e._strict,e._locale):new RegExp(Ct(t))}function Ct(t){return Tt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i})))}function Tt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Pt(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function At(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=Pt(e)),n}at={};var It={};function Dt(t,e){var n,r,i=e;for("string"===typeof t&&(t=[t]),c(e)&&(i=function(t,n){n[e]=At(t)}),r=t.length,n=0;n<r;n++)It[t[n]]=i}function jt(t,e){Dt(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function Rt(t,e,n){null!=e&&s(It,t)&&It[t](e,n._a,n,t)}function Lt(t){return t%4===0&&t%100!==0||t%400===0}var zt=0,Nt=1,Ft=2,Bt=3,Ut=4,Vt=5,Ht=6,Wt=7,qt=8;function Kt(t){return Lt(t)?366:365}B("Y",0,0,(function(){var t=this.year();return t<=9999?R(t,4):"+"+t})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),kt("Y",_t),kt("YY",pt,lt),kt("YYYY",gt,ct),kt("YYYYY",yt,ht),kt("YYYYYY",yt,ht),Dt(["YYYYY","YYYYYY"],zt),Dt("YYYY",(function(t,e){e[zt]=2===t.length?r.parseTwoDigitYear(t):At(t)})),Dt("YY",(function(t,e){e[zt]=r.parseTwoDigitYear(t)})),Dt("Y",(function(t,e){e[zt]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return At(t)+(At(t)>68?1900:2e3)};var Yt,Zt=Xt("FullYear",!0);function Gt(){return Lt(this.year())}function Xt(t,e){return function(n){return null!=n?($t(this,t,n),r.updateOffset(this,e),this):Jt(this,t)}}function Jt(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function $t(t,e,n){var r,i,o,a,s;if(t.isValid()&&!isNaN(n)){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,a=t.month(),s=29!==(s=t.date())||1!==a||Lt(o)?s:28,i?r.setUTCFullYear(o,a,s):r.setFullYear(o,a,s)}}function Qt(t){return T(this[t=nt(t)])?this[t]():this}function te(t,e){if("object"===typeof t){var n,r=ot(t=rt(t)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(T(this[t=nt(t)]))return this[t](e);return this}function ee(t,e){return(t%e+e)%e}function ne(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ee(e,12);return t+=(e-n)/12,1===n?Lt(t)?29:28:31-n%7%2}Yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),B("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),kt("M",pt,Et),kt("MM",pt,lt),kt("MMM",(function(t,e){return e.monthsShortRegex(t)})),kt("MMMM",(function(t,e){return e.monthsRegex(t)})),Dt(["M","MM"],(function(t,e){e[Nt]=At(t)-1})),Dt(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[Nt]=i:g(n).invalidMonth=t}));var re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ae=St,se=St;function le(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||oe).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function ue(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[oe.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ce(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Yt.call(this._shortMonthsParse,a))?i:null:-1!==(i=Yt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Yt.call(this._shortMonthsParse,a))||-1!==(i=Yt.call(this._longMonthsParse,a))?i:null:-1!==(i=Yt.call(this._longMonthsParse,a))||-1!==(i=Yt.call(this._shortMonthsParse,a))?i:null}function he(t,e,n){var r,i,o;if(this._monthsParseExact)return ce.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function pe(t,e){if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=At(e);else if(!c(e=t.localeData().monthsParse(e)))return t;var n=e,r=t.date();return r=r<29?r:Math.min(r,ne(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function fe(t){return null!=t?(pe(this,t),r.updateOffset(this,!0),this):Jt(this,"Month")}function de(){return ne(this.year(),this.month())}function me(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ye.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ae),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ye.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=se),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ye(){function t(t,e){return e.length-t.length}var e,n,r,i,o=[],a=[],s=[];for(e=0;e<12;e++)n=d([2e3,e]),r=Tt(this.monthsShort(n,"")),i=Tt(this.months(n,"")),o.push(r),a.push(i),s.push(i),s.push(r);o.sort(t),a.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ve(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function _e(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function be(t,e,n){var r=7+e-n;return-(7+_e(t,0,r).getUTCDay()-e)%7+r-1}function xe(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+be(t,r,i);return s<=0?a=Kt(o=t-1)+s:s>Kt(t)?(o=t+1,a=s-Kt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function we(t,e,n){var r,i,o=be(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Se(i=t.year()-1,e,n):a>Se(t.year(),e,n)?(r=a-Se(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Se(t,e,n){var r=be(t,e,n),i=be(t+1,e,n);return(Kt(t)-r+i)/7}function Ee(t){return we(t,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),kt("w",pt,Et),kt("ww",pt,lt),kt("W",pt,Et),kt("WW",pt,lt),jt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=At(t)}));var Oe={dow:0,doy:6};function ke(){return this._week.dow}function Me(){return this._week.doy}function Ce(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Te(t){var e=we(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Pe(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Ae(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ie(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("d",0,"do","day"),B("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),B("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),B("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),kt("d",pt),kt("e",pt),kt("E",pt),kt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),kt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),kt("dddd",(function(t,e){return e.weekdaysRegex(t)})),jt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t})),jt(["d","e","E"],(function(t,e,n,r){e[r]=At(t)}));var De="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Re="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Le=St,ze=St,Ne=St;function Fe(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Ie(n,this._week.dow):t?n[t.day()]:n}function Be(t){return!0===t?Ie(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ue(t){return!0===t?Ie(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ve(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Yt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Yt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Yt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Yt.call(this._weekdaysParse,a))||-1!==(i=Yt.call(this._shortWeekdaysParse,a))||-1!==(i=Yt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Yt.call(this._shortWeekdaysParse,a))||-1!==(i=Yt.call(this._weekdaysParse,a))||-1!==(i=Yt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Yt.call(this._minWeekdaysParse,a))||-1!==(i=Yt.call(this._weekdaysParse,a))||-1!==(i=Yt.call(this._shortWeekdaysParse,a))?i:null}function He(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Ve.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function We(t){if(!this.isValid())return null!=t?this:NaN;var e=Jt(this,"Day");return null!=t?(t=Pe(t,this.localeData()),this.add(t-e,"d")):e}function qe(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ke(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ae(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ye(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Le),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ze(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ge(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ne),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xe(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),r=Tt(this.weekdaysMin(n,"")),i=Tt(this.weekdaysShort(n,"")),o=Tt(this.weekdays(n,"")),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);a.sort(t),s.sort(t),l.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Je(){return this.hours()%12||12}function $e(){return this.hours()||24}function Qe(t,e){B(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Je),B("k",["kk",2],0,$e),B("hmm",0,0,(function(){return""+Je.apply(this)+R(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Je.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),kt("a",tn),kt("A",tn),kt("H",pt,Ot),kt("h",pt,Et),kt("k",pt,Et),kt("HH",pt,lt),kt("hh",pt,lt),kt("kk",pt,lt),kt("hmm",ft),kt("hmmss",dt),kt("Hmm",ft),kt("Hmmss",dt),Dt(["H","HH"],Bt),Dt(["k","kk"],(function(t,e,n){var r=At(t);e[Bt]=24===r?0:r})),Dt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Dt(["h","hh"],(function(t,e,n){e[Bt]=At(t),g(n).bigHour=!0})),Dt("hmm",(function(t,e,n){var r=t.length-2;e[Bt]=At(t.substr(0,r)),e[Ut]=At(t.substr(r)),g(n).bigHour=!0})),Dt("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Bt]=At(t.substr(0,r)),e[Ut]=At(t.substr(r,2)),e[Vt]=At(t.substr(i)),g(n).bigHour=!0})),Dt("Hmm",(function(t,e,n){var r=t.length-2;e[Bt]=At(t.substr(0,r)),e[Ut]=At(t.substr(r))})),Dt("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Bt]=At(t.substr(0,r)),e[Ut]=At(t.substr(r,2)),e[Vt]=At(t.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=Xt("Hours",!0);function on(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:D,longDateFormat:q,invalidDate:Y,ordinal:G,dayOfMonthOrdinalParse:X,relativeTime:$,months:re,monthsShort:ie,week:Oe,weekdays:De,weekdaysMin:Re,weekdaysShort:je,meridiemParse:nn},ln={},un={};function cn(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function hn(t){return t?t.toLowerCase().replace("_","-"):t}function pn(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=hn(t[o]).split("-")).length,n=(n=hn(t[o+1]))?n.split("-"):null;e>0;){if(r=dn(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&cn(i,n)>=e-1)break;e--}o++}return an}function fn(t){return!(!t||!t.match("^[^/\\\\]*$"))}function dn(e){var n=null;if(void 0===ln[e]&&"undefined"!==typeof t&&t&&t.exports&&fn(e))try{n=an._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),mn(n)}catch(r){ln[e]=null}return ln[e]}function mn(t,e){var n;return t&&((n=u(e)?vn(t):gn(t,e))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),an._abbr}function gn(t,e){if(null!==e){var n,r=sn;if(e.abbr=t,null!=ln[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[t]._config;else if(null!=e.parentLocale)if(null!=ln[e.parentLocale])r=ln[e.parentLocale]._config;else{if(null==(n=dn(e.parentLocale)))return un[e.parentLocale]||(un[e.parentLocale]=[]),un[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ln[t]=new I(A(r,e)),un[t]&&un[t].forEach((function(t){gn(t.name,t.config)})),mn(t),ln[t]}return delete ln[t],null}function yn(t,e){if(null!=e){var n,r,i=sn;null!=ln[t]&&null!=ln[t].parentLocale?ln[t].set(A(ln[t]._config,e)):(null!=(r=dn(t))&&(i=r._config),e=A(i,e),null==r&&(e.abbr=t),(n=new I(e)).parentLocale=ln[t],ln[t]=n),mn(t)}else null!=ln[t]&&(null!=ln[t].parentLocale?(ln[t]=ln[t].parentLocale,t===mn()&&mn(t)):null!=ln[t]&&delete ln[t]);return ln[t]}function vn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return an;if(!o(t)){if(e=dn(t))return e;t=[t]}return pn(t)}function _n(){return k(ln)}function bn(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[Nt]<0||n[Nt]>11?Nt:n[Ft]<1||n[Ft]>ne(n[zt],n[Nt])?Ft:n[Bt]<0||n[Bt]>24||24===n[Bt]&&(0!==n[Ut]||0!==n[Vt]||0!==n[Ht])?Bt:n[Ut]<0||n[Ut]>59?Ut:n[Vt]<0||n[Vt]>59?Vt:n[Ht]<0||n[Ht]>999?Ht:-1,g(t)._overflowDayOfYear&&(e<zt||e>Ft)&&(e=Ft),g(t)._overflowWeeks&&-1===e&&(e=Wt),g(t)._overflowWeekday&&-1===e&&(e=qt),g(t).overflow=e),t}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,En=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],On=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kn=/^\/?Date\((-?\d+)/i,Mn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tn(t){var e,n,r,i,o,a,s=t._i,l=xn.exec(s)||wn.exec(s),u=En.length,c=On.length;if(l){for(g(t).iso=!0,e=0,n=u;e<n;e++)if(En[e][1].exec(l[1])){i=En[e][0],r=!1!==En[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=c;e<n;e++)if(On[e][1].exec(l[3])){o=(l[2]||" ")+On[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Sn.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Un(t)}else t._isValid=!1}function Pn(t,e,n,r,i,o){var a=[An(t),ie.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function An(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function In(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(t,e,n){return!t||je.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function jn(t,e,n){if(t)return Cn[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(t){var e,n=Mn.exec(In(t._i));if(n){if(e=Pn(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],e,t))return;t._a=e,t._tzm=jn(n[8],n[9],n[10]),t._d=_e.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Ln(t){var e=kn.exec(t._i);null===e?(Tn(t),!1===t._isValid&&(delete t._isValid,Rn(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function zn(t,e,n){return null!=t?t:null!=e?e:n}function Nn(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Fn(t){var e,n,r,i,o,a=[];if(!t._d){for(r=Nn(t),t._w&&null==t._a[Ft]&&null==t._a[Nt]&&Bn(t),null!=t._dayOfYear&&(o=zn(t._a[zt],r[zt]),(t._dayOfYear>Kt(o)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=_e(o,0,t._dayOfYear),t._a[Nt]=n.getUTCMonth(),t._a[Ft]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Bt]&&0===t._a[Ut]&&0===t._a[Vt]&&0===t._a[Ht]&&(t._nextDay=!0,t._a[Bt]=0),t._d=(t._useUTC?_e:ve).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Bt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(g(t).weekdayMismatch=!0)}}function Bn(t){var e,n,r,i,o,a,s,l,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=zn(e.GG,t._a[zt],we(Gn(),1,4).year),r=zn(e.W,1),((i=zn(e.E,1))<1||i>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,u=we(Gn(),o,a),n=zn(e.gg,t._a[zt],u.year),r=zn(e.w,u.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>Se(n,o,a)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(s=xe(n,r,i,o,a),t._a[zt]=s.year,t._dayOfYear=s.dayOfYear)}function Un(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],g(t).empty=!0;var e,n,i,o,a,s,l,u=""+t._i,c=u.length,h=0;for(l=(i=W(t._f,t._locale).match(L)||[]).length,e=0;e<l;e++)o=i[e],(n=(u.match(Mt(o,t))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&g(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),h+=n.length),F[o]?(n?g(t).empty=!1:g(t).unusedTokens.push(o),Rt(o,n,t)):t._strict&&!n&&g(t).unusedTokens.push(o);g(t).charsLeftOver=c-h,u.length>0&&g(t).unusedInput.push(u),t._a[Bt]<=12&&!0===g(t).bigHour&&t._a[Bt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Bt]=Vn(t._locale,t._a[Bt],t._meridiem),null!==(s=g(t).era)&&(t._a[zt]=t._locale.erasConvertYear(s,t._a[zt])),Fn(t),bn(t)}else Rn(t);else Tn(t)}function Vn(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Hn(t){var e,n,r,i,o,a,s=!1,l=t._f.length;if(0===l)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<l;i++)o=0,a=!1,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Un(e),y(e)&&(a=!0),o+=g(e).charsLeftOver,o+=10*g(e).unusedTokens.length,g(e).score=o,s?o<r&&(r=o,n=e):(null==r||o<r||a)&&(r=o,n=e,a&&(s=!0));f(t,n||e)}function Wn(t){if(!t._d){var e=rt(t._i),n=void 0===e.day?e.date:e.day;t._a=p([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Fn(t)}}function qn(t){var e=new w(bn(Kn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Kn(t){var e=t._i,n=t._f;return t._locale=t._locale||vn(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new w(bn(e)):(h(e)?t._d=e:o(n)?Hn(t):n?Un(t):Yn(t),y(t)||(t._d=null),t))}function Yn(t){var e=t._i;u(e)?t._d=new Date(r.now()):h(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Ln(t):o(e)?(t._a=p(e.slice(0),(function(t){return parseInt(t,10)})),Fn(t)):a(e)?Wn(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Zn(t,e,n,r,i){var s={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&l(t)||o(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,qn(s)}function Gn(t,e,n,r){return Zn(t,e,n,r,!1)}r.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Xn=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Gn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Jn=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Gn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function $n(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Gn();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Qn(){return $n("isBefore",[].slice.call(arguments,0))}function tr(){return $n("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(t){var e,n,r=!1,i=nr.length;for(e in t)if(s(t,e)&&(-1===Yt.call(nr,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<i;++n)if(t[nr[n]]){if(r)return!1;parseFloat(t[nr[n]])!==At(t[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Cr(NaN)}function ar(t){var e=rt(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=rr(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function sr(t){return t instanceof ar}function lr(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ur(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&At(t[r])!==At(e[r]))&&a++;return a+o}function cr(t,e){B(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+R(~~(t/60),2)+e+R(~~t%60,2)}))}cr("Z",":"),cr("ZZ",""),kt("Z",xt),kt("ZZ",xt),Dt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=pr(xt,t)}));var hr=/([\+\-]|\d\d)/gi;function pr(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+At(n[2]))?0:"+"===n[0]?r:-r}function fr(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(S(t)||h(t)?t.valueOf():Gn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Gn(t).local()}function dr(t){return-Math.round(t._d.getTimezoneOffset())}function mr(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=pr(xt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=dr(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Dr(this,Cr(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:dr(this)}function gr(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yr(t){return this.utcOffset(0,t)}function vr(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(dr(this),"m")),this}function _r(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=pr(bt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function br(t){return!!this.isValid()&&(t=t?Gn(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return x(e,this),(e=Kn(e))._a?(t=e._isUTC?d(e._a):Gn(e._a),this._isDSTShifted=this.isValid()&&ur(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function Er(){return!!this.isValid()&&this._isUTC}function Or(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var kr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Mr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(t,e){var n,r,i,o=t,a=null;return sr(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(a=kr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:At(a[Ft])*n,h:At(a[Bt])*n,m:At(a[Ut])*n,s:At(a[Vt])*n,ms:At(lr(1e3*a[Ht]))*n}):(a=Mr.exec(t))?(n="-"===a[1]?-1:1,o={y:Tr(a[2],n),M:Tr(a[3],n),w:Tr(a[4],n),d:Tr(a[5],n),h:Tr(a[6],n),m:Tr(a[7],n),s:Tr(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Ar(Gn(o.from),Gn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),sr(t)&&s(t,"_locale")&&(r._locale=t._locale),sr(t)&&s(t,"_isValid")&&(r._isValid=t._isValid),r}function Tr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Pr(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ar(t,e){var n;return t.isValid()&&e.isValid()?(e=fr(e,t),t.isBefore(e)?n=Pr(t,e):((n=Pr(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ir(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Dr(this,Cr(n,r),t),this}}function Dr(t,e,n,i){var o=e._milliseconds,a=lr(e._days),s=lr(e._months);t.isValid()&&(i=null==i||i,s&&pe(t,Jt(t,"Month")+s*n),a&&$t(t,"Date",Jt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&r.updateOffset(t,a||s))}Cr.fn=ar.prototype,Cr.invalid=or;var jr=Ir(1,"add"),Rr=Ir(-1,"subtract");function Lr(t){return"string"===typeof t||t instanceof String}function zr(t){return S(t)||h(t)||Lr(t)||c(t)||Fr(t)||Nr(t)||null===t||void 0===t}function Nr(t){var e,n,r=a(t)&&!l(t),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=o.length;for(e=0;e<u;e+=1)n=o[e],i=i||s(t,n);return r&&i}function Fr(t){var e=o(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&Lr(t)})).length),e&&n}function Br(t){var e,n,r=a(t)&&!l(t),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)n=o[e],i=i||s(t,n);return r&&i}function Ur(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Vr(t,e){1===arguments.length&&(arguments[0]?zr(arguments[0])?(t=arguments[0],e=void 0):Br(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Gn(),i=fr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=e&&(T(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Gn(n)))}function Hr(){return new w(this)}function Wr(t,e){var n=S(t)?t:Gn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function qr(t,e){var n=S(t)?t:Gn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Kr(t,e,n,r){var i=S(t)?t:Gn(t),o=S(e)?e:Gn(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Yr(t,e){var n,r=S(t)?t:Gn(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Zr(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Gr(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Xr(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=fr(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=nt(e)){case"year":o=Jr(this,r)/12;break;case"month":o=Jr(this,r);break;case"quarter":o=Jr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Pt(o)}function Jr(t,e){if(t.date()<e.date())return-Jr(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ti(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(t+e+n+r)}function ei(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)}function ni(t,e){return this.isValid()&&(S(t)&&t.isValid()||Gn(t).isValid())?Cr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ri(t){return this.from(Gn(),t)}function ii(t,e){return this.isValid()&&(S(t)&&t.isValid()||Gn(t).isValid())?Cr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oi(t){return this.to(Gn(),t)}function ai(t){var e;return void 0===t?this._locale._abbr:(null!=(e=vn(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function li(){return this._locale}var ui=1e3,ci=60*ui,hi=60*ci,pi=3506328*hi;function fi(t,e){return(t%e+e)%e}function di(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-pi:new Date(t,e,n).valueOf()}function mi(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-pi:Date.UTC(t,e,n)}function gi(t){var e,n;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mi:di,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=fi(e+(this._isUTC?0:this.utcOffset()*ci),hi);break;case"minute":e=this._d.valueOf(),e-=fi(e,ci);break;case"second":e=this._d.valueOf(),e-=fi(e,ui)}return this._d.setTime(e),r.updateOffset(this,!0),this}function yi(t){var e,n;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mi:di,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=hi-fi(e+(this._isUTC?0:this.utcOffset()*ci),hi)-1;break;case"minute":e=this._d.valueOf(),e+=ci-fi(e,ci)-1;break;case"second":e=this._d.valueOf(),e+=ui-fi(e,ui)-1}return this._d.setTime(e),r.updateOffset(this,!0),this}function vi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function xi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function wi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function Ei(){return y(this)}function Oi(){return f({},g(this))}function ki(){return g(this).overflow}function Mi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(t,e){var n,i,o,a=this._eras||vn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Ti(t,e,n){var r,i,o,a,s,l=this.eras();for(t=t.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[r];break;case"NNNN":if(o===t)return l[r];break;case"NNNNN":if(s===t)return l[r]}else if([o,a,s].indexOf(t)>=0)return l[r]}function Pi(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n}function Ai(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""}function Ii(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""}function Di(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""}function ji(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-r(o[t].since).year())*n+o[t].offset;return this.year()}function Ri(t){return s(this,"_erasNameRegex")||Vi.call(this),t?this._erasNameRegex:this._erasRegex}function Li(t){return s(this,"_erasAbbrRegex")||Vi.call(this),t?this._erasAbbrRegex:this._erasRegex}function zi(t){return s(this,"_erasNarrowRegex")||Vi.call(this),t?this._erasNarrowRegex:this._erasRegex}function Ni(t,e){return e.erasAbbrRegex(t)}function Fi(t,e){return e.erasNameRegex(t)}function Bi(t,e){return e.erasNarrowRegex(t)}function Ui(t,e){return e._eraYearOrdinalRegex||vt}function Vi(){var t,e,n,r,i,o=[],a=[],s=[],l=[],u=this.eras();for(t=0,e=u.length;t<e;++t)n=Tt(u[t].name),r=Tt(u[t].abbr),i=Tt(u[t].narrow),a.push(n),o.push(r),s.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Hi(t,e){B(0,[t,t.length],0,e)}function Wi(t){return Xi.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function qi(t){return Xi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ki(){return Se(this.year(),1,4)}function Yi(){return Se(this.isoWeekYear(),1,4)}function Zi(){var t=this.localeData()._week;return Se(this.year(),t.dow,t.doy)}function Gi(){var t=this.localeData()._week;return Se(this.weekYear(),t.dow,t.doy)}function Xi(t,e,n,r,i){var o;return null==t?we(this,r,i).year:(e>(o=Se(t,r,i))&&(e=o),Ji.call(this,t,e,n,r,i))}function Ji(t,e,n,r,i){var o=xe(t,e,n,r,i),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $i(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),kt("N",Ni),kt("NN",Ni),kt("NNN",Ni),kt("NNNN",Fi),kt("NNNNN",Bi),Dt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?g(n).era=i:g(n).invalidEra=t})),kt("y",vt),kt("yy",vt),kt("yyy",vt),kt("yyyy",vt),kt("yo",Ui),Dt(["y","yy","yyy","yyyy"],zt),Dt(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[zt]=n._locale.eraYearOrdinalParse(t,i):e[zt]=parseInt(t,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Hi("gggg","weekYear"),Hi("ggggg","weekYear"),Hi("GGGG","isoWeekYear"),Hi("GGGGG","isoWeekYear"),kt("G",_t),kt("g",_t),kt("GG",pt,lt),kt("gg",pt,lt),kt("GGGG",gt,ct),kt("gggg",gt,ct),kt("GGGGG",yt,ht),kt("ggggg",yt,ht),jt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=At(t)})),jt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),B("Q",0,"Qo","quarter"),kt("Q",st),Dt("Q",(function(t,e){e[Nt]=3*(At(t)-1)})),B("D",["DD",2],"Do","date"),kt("D",pt,Et),kt("DD",pt,lt),kt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Dt(["D","DD"],Ft),Dt("Do",(function(t,e){e[Ft]=At(t.match(pt)[0])}));var Qi=Xt("Date",!0);function to(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),kt("DDD",mt),kt("DDDD",ut),Dt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=At(t)})),B("m",["mm",2],0,"minute"),kt("m",pt,Ot),kt("mm",pt,lt),Dt(["m","mm"],Ut);var eo=Xt("Minutes",!1);B("s",["ss",2],0,"second"),kt("s",pt,Ot),kt("ss",pt,lt),Dt(["s","ss"],Vt);var no,ro,io=Xt("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),kt("S",mt,st),kt("SS",mt,lt),kt("SSS",mt,ut),no="SSSS";no.length<=9;no+="S")kt(no,vt);function oo(t,e){e[Ht]=At(1e3*("0."+t))}for(no="S";no.length<=9;no+="S")Dt(no,oo);function ao(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}ro=Xt("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var lo=w.prototype;function uo(t){return Gn(1e3*t)}function co(){return Gn.apply(null,arguments).parseZone()}function ho(t){return t}lo.add=jr,lo.calendar=Vr,lo.clone=Hr,lo.diff=Xr,lo.endOf=yi,lo.format=ei,lo.from=ni,lo.fromNow=ri,lo.to=ii,lo.toNow=oi,lo.get=Qt,lo.invalidAt=ki,lo.isAfter=Wr,lo.isBefore=qr,lo.isBetween=Kr,lo.isSame=Yr,lo.isSameOrAfter=Zr,lo.isSameOrBefore=Gr,lo.isValid=Ei,lo.lang=si,lo.locale=ai,lo.localeData=li,lo.max=Jn,lo.min=Xn,lo.parsingFlags=Oi,lo.set=te,lo.startOf=gi,lo.subtract=Rr,lo.toArray=xi,lo.toObject=wi,lo.toDate=bi,lo.toISOString=Qr,lo.inspect=ti,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=Si,lo.toString=$r,lo.unix=_i,lo.valueOf=vi,lo.creationData=Mi,lo.eraName=Ai,lo.eraNarrow=Ii,lo.eraAbbr=Di,lo.eraYear=ji,lo.year=Zt,lo.isLeapYear=Gt,lo.weekYear=Wi,lo.isoWeekYear=qi,lo.quarter=lo.quarters=$i,lo.month=fe,lo.daysInMonth=de,lo.week=lo.weeks=Ce,lo.isoWeek=lo.isoWeeks=Te,lo.weeksInYear=Zi,lo.weeksInWeekYear=Gi,lo.isoWeeksInYear=Ki,lo.isoWeeksInISOWeekYear=Yi,lo.date=Qi,lo.day=lo.days=We,lo.weekday=qe,lo.isoWeekday=Ke,lo.dayOfYear=to,lo.hour=lo.hours=rn,lo.minute=lo.minutes=eo,lo.second=lo.seconds=io,lo.millisecond=lo.milliseconds=ro,lo.utcOffset=mr,lo.utc=yr,lo.local=vr,lo.parseZone=_r,lo.hasAlignedHourOffset=br,lo.isDST=xr,lo.isLocal=Sr,lo.isUtcOffset=Er,lo.isUtc=Or,lo.isUTC=Or,lo.zoneAbbr=ao,lo.zoneName=so,lo.dates=O("dates accessor is deprecated. Use date instead.",Qi),lo.months=O("months accessor is deprecated. Use month instead",fe),lo.years=O("years accessor is deprecated. Use year instead",Zt),lo.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),lo.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var po=I.prototype;function fo(t,e,n,r){var i=vn(),o=d().set(r,e);return i[n](o,t)}function mo(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return fo(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fo(t,r,n,"month");return i}function go(t,e,n,r){"boolean"===typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var i,o=vn(),a=t?o._week.dow:0,s=[];if(null!=n)return fo(e,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=fo(e,(i+a)%7,r,"day");return s}function yo(t,e){return mo(t,e,"months")}function vo(t,e){return mo(t,e,"monthsShort")}function _o(t,e,n){return go(t,e,n,"weekdays")}function bo(t,e,n){return go(t,e,n,"weekdaysShort")}function xo(t,e,n){return go(t,e,n,"weekdaysMin")}po.calendar=j,po.longDateFormat=K,po.invalidDate=Z,po.ordinal=J,po.preparse=ho,po.postformat=ho,po.relativeTime=Q,po.pastFuture=tt,po.set=P,po.eras=Ci,po.erasParse=Ti,po.erasConvertYear=Pi,po.erasAbbrRegex=Li,po.erasNameRegex=Ri,po.erasNarrowRegex=zi,po.months=le,po.monthsShort=ue,po.monthsParse=he,po.monthsRegex=ge,po.monthsShortRegex=me,po.week=Ee,po.firstDayOfYear=Me,po.firstDayOfWeek=ke,po.weekdays=Fe,po.weekdaysMin=Ue,po.weekdaysShort=Be,po.weekdaysParse=He,po.weekdaysRegex=Ye,po.weekdaysShortRegex=Ze,po.weekdaysMinRegex=Ge,po.isPM=en,po.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===At(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=O("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=O("moment.langData is deprecated. Use moment.localeData instead.",vn);var wo=Math.abs;function So(){var t=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),t.milliseconds=wo(t.milliseconds),t.seconds=wo(t.seconds),t.minutes=wo(t.minutes),t.hours=wo(t.hours),t.months=wo(t.months),t.years=wo(t.years),this}function Eo(t,e,n,r){var i=Cr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Oo(t,e){return Eo(this,t,e,1)}function ko(t,e){return Eo(this,t,e,-1)}function Mo(t){return t<0?Math.floor(t):Math.ceil(t)}function Co(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Mo(Po(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=Pt(o/1e3),l.seconds=t%60,e=Pt(t/60),l.minutes=e%60,n=Pt(e/60),l.hours=n%24,a+=Pt(n/24),s+=i=Pt(To(a)),a-=Mo(Po(i)),r=Pt(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function To(t){return 4800*t/146097}function Po(t){return 146097*t/4800}function Ao(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=nt(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+To(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Po(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Io(t){return function(){return this.as(t)}}var Do=Io("ms"),jo=Io("s"),Ro=Io("m"),Lo=Io("h"),zo=Io("d"),No=Io("w"),Fo=Io("M"),Bo=Io("Q"),Uo=Io("y"),Vo=Do;function Ho(){return Cr(this)}function Wo(t){return t=nt(t),this.isValid()?this[t+"s"]():NaN}function qo(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ko=qo("milliseconds"),Yo=qo("seconds"),Zo=qo("minutes"),Go=qo("hours"),Xo=qo("days"),Jo=qo("months"),$o=qo("years");function Qo(){return Pt(this.days()/7)}var ta=Math.round,ea={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function ra(t,e,n,r){var i=Cr(t).abs(),o=ta(i.as("s")),a=ta(i.as("m")),s=ta(i.as("h")),l=ta(i.as("d")),u=ta(i.as("M")),c=ta(i.as("w")),h=ta(i.as("y")),p=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(p=p||c<=1&&["w"]||c<n.w&&["ww",c]),(p=p||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=e,p[3]=+t>0,p[4]=r,na.apply(null,p)}function ia(t){return void 0===t?ta:"function"===typeof t&&(ta=t,!0)}function oa(t,e){return void 0!==ea[t]&&(void 0===e?ea[t]:(ea[t]=e,"s"===t&&(ea.ss=e-1),!0))}function aa(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ea;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(i=t),"object"===typeof e&&(o=Object.assign({},ea,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=ra(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function la(t){return(t>0)-(t<0)||+t}function ua(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,o,a,s,l=sa(this._milliseconds)/1e3,u=sa(this._days),c=sa(this._months),h=this.asSeconds();return h?(t=Pt(l/60),e=Pt(t/60),l%=60,t%=60,n=Pt(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=la(this._months)!==la(h)?"-":"",a=la(this._days)!==la(h)?"-":"",s=la(this._milliseconds)!==la(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?a+u+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+r+"S":"")):"P0D"}var ca=ar.prototype;return ca.isValid=ir,ca.abs=So,ca.add=Oo,ca.subtract=ko,ca.as=Ao,ca.asMilliseconds=Do,ca.asSeconds=jo,ca.asMinutes=Ro,ca.asHours=Lo,ca.asDays=zo,ca.asWeeks=No,ca.asMonths=Fo,ca.asQuarters=Bo,ca.asYears=Uo,ca.valueOf=Vo,ca._bubble=Co,ca.clone=Ho,ca.get=Wo,ca.milliseconds=Ko,ca.seconds=Yo,ca.minutes=Zo,ca.hours=Go,ca.days=Xo,ca.weeks=Qo,ca.months=Jo,ca.years=$o,ca.humanize=aa,ca.toISOString=ua,ca.toString=ua,ca.toJSON=ua,ca.locale=ai,ca.localeData=li,ca.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ua),ca.lang=si,B("X",0,0,"unix"),B("x",0,0,"valueOf"),kt("x",_t),kt("X",wt),Dt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Dt("x",(function(t,e,n){n._d=new Date(At(t))})),r.version="2.30.1",i(Gn),r.fn=lo,r.min=Qn,r.max=tr,r.now=er,r.utc=d,r.unix=uo,r.months=yo,r.isDate=h,r.locale=mn,r.invalid=v,r.duration=Cr,r.isMoment=S,r.weekdays=_o,r.parseZone=co,r.localeData=vn,r.isDuration=sr,r.monthsShort=vo,r.weekdaysMin=xo,r.defineLocale=gn,r.updateLocale=yn,r.locales=_n,r.weekdaysShort=bo,r.normalizeUnits=nt,r.relativeTimeRounding=ia,r.relativeTimeThreshold=oa,r.calendarFormat=Ur,r.prototype=lo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(125)(t))},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(1),i=n.n(r);var o="styles-module_wrapper__1I_qj",a="styles-module_content__2jwZj",s="styles-module_slide__1zrfk",l="styles-module_image__2hdkJ",u="styles-module_close__2I1sI",c="styles-module_navigation__1pqAE",h="styles-module_prev__KqFRp",p="styles-module_next__1uQwZ";!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".styles-module_wrapper__1I_qj {\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  padding: 0px 60px 0px 60px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  box-sizing: border-box;\n}\n\n.styles-module_content__2jwZj {\n  margin: auto;\n  padding: 0;\n  width: 90%;\n  height: 100%;\n  max-height: 100%;\n  text-align: center;\n}\n\n.styles-module_slide__1zrfk {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.styles-module_image__2hdkJ {\n  max-height: 100%;\n  max-width: 100%;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n\n.styles-module_close__2I1sI {\n  color: white;\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  font-size: 40px;\n  font-weight: bold;\n  opacity: 0.2;\n  cursor: pointer;\n}\n\n.styles-module_close__2I1sI:hover {\n  opacity: 1;\n}\n\n.styles-module_navigation__1pqAE {\n  height: 80%;\n  color: white;\n  cursor: pointer;\n  position: absolute;\n  font-size: 60px;\n  line-height: 60px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  opacity: 0.2;\n  padding: 0 15px;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}\n\n.styles-module_navigation__1pqAE:hover {\n  opacity: 1;\n}\n\n@media (hover: none) {\n  .styles-module_navigation__1pqAE:hover {\n    opacity: 0.2;\n  }\n}\n\n.styles-module_prev__KqFRp {\n  left: 0;\n}\n\n.styles-module_next__1uQwZ {\n  right: 0;\n}\n\n@media (max-width: 900px) {\n  .styles-module_wrapper__1I_qj {\n    padding: 0;\n  }\n}\n");const f=t=>{var e;const[n,f]=Object(r.useState)(null!==(e=t.currentIndex)&&void 0!==e?e:0),d=Object(r.useCallback)((e=>{let r=(n+e)%t.src.length;r<0&&(r=t.src.length-1),f(r)}),[n]),m=Object(r.useCallback)((e=>{var n;if(!e.target||!t.closeOnClickOutside)return;const r="ReactSimpleImageViewer"===e.target.id,i=e.target.classList.contains("react-simple-image-viewer__slide");(r||i)&&(e.stopPropagation(),null===(n=t.onClose)||void 0===n||n.call(t))}),[t.onClose]),g=Object(r.useCallback)((e=>{var n;"Escape"===e.key&&(null===(n=t.onClose)||void 0===n||n.call(t)),["ArrowLeft","h"].includes(e.key)&&d(-1),["ArrowRight","l"].includes(e.key)&&d(1)}),[t.onClose,d]),y=Object(r.useCallback)((t=>{t.wheelDeltaY>0?d(-1):d(1)}),[d]);return Object(r.useEffect)((()=>(document.addEventListener("keydown",g),t.disableScroll||document.addEventListener("wheel",y),()=>{document.removeEventListener("keydown",g),t.disableScroll||document.removeEventListener("wheel",y)})),[g,y]),i.a.createElement("div",{id:"ReactSimpleImageViewer",className:"".concat(o," react-simple-image-viewer__modal"),onKeyDown:g,onClick:m,style:t.backgroundStyle},i.a.createElement("span",{className:"".concat(u," react-simple-image-viewer__close"),onClick:()=>{var e;return null===(e=t.onClose)||void 0===e?void 0:e.call(t)}},t.closeComponent||"\xd7"),t.src.length>1&&i.a.createElement("span",{className:"".concat(c," ").concat(h," react-simple-image-viewer__previous"),onClick:()=>d(-1)},t.leftArrowComponent||"\u276e"),t.src.length>1&&i.a.createElement("span",{className:"".concat(c," ").concat(p," react-simple-image-viewer__next"),onClick:()=>d(1)},t.rightArrowComponent||"\u276f"),i.a.createElement("div",{className:"".concat(a," react-simple-image-viewer__modal-content"),onClick:m},i.a.createElement("div",{className:"".concat(s," react-simple-image-viewer__slide")},i.a.createElement("img",{className:l,src:t.src[n],alt:""}))))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(52),i=n(70),o=n(26),a=n(12);function s(t){return["html","body","#document"].indexOf(Object(o.a)(t))>=0?t.ownerDocument.body:Object(a.b)(t)&&Object(i.a)(t)?t:s(Object(r.a)(t))}var l=n(21);function u(t,e){var n;void 0===e&&(e=[]);var o=s(t),a=o===(null==(n=t.ownerDocument)?void 0:n.body),c=Object(l.a)(o),h=a?[c].concat(c.visualViewport||[],Object(i.a)(o)?o:[]):o,p=e.concat(h);return a?p:p.concat(u(Object(r.a)(h)))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.JsonRpcProvider=e.Provider=void 0;const r=n(142);Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return r.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return r.FinalExecutionStatusBasic}});const i=n(192);Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return i.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return i.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return i.ErrorContext}})},function(t,e,n){n(150),t.exports=n(216)},function(t,e,n){t.exports=n(219)},function(t,e,n){"use strict";function r(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(47),i=n(64),o=n(65),a=n(63),s=n(62),l=n(98),u=n(99),c=n(100),h=n(96),p=n(97),f=[i.a,o.a,a.a,s.a,l.a,u.a,c.a,h.a,p.a],d=Object(r.b)({defaultModifiers:f})},function(t,e,n){"use strict";e.a=function(t,e,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}},function(t,e,n){"use strict";function r(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(262),i=n(263),o=n(264),a=n(266);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:String(e)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){var r,o,a;r=t,o=e,a=n[e],(o=i(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return p}));var l="function"===typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function h(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function p(t,e,n){var r;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(s(0));if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(s(1));return n(p)(t,e)}if("function"!==typeof t)throw new Error(s(2));var i=t,o=e,a=[],u=a,f=!1;function d(){u===a&&(u=a.slice())}function m(){if(f)throw new Error(s(3));return o}function g(t){if("function"!==typeof t)throw new Error(s(4));if(f)throw new Error(s(5));var e=!0;return d(),u.push(t),function(){if(e){if(f)throw new Error(s(6));e=!1,d();var n=u.indexOf(t);u.splice(n,1),a=null}}}function y(t){if(!h(t))throw new Error(s(7));if("undefined"===typeof t.type)throw new Error(s(8));if(f)throw new Error(s(9));try{f=!0,o=i(o,t)}finally{f=!1}for(var e=a=u,n=0;n<e.length;n++){(0,e[n])()}return t}return y({type:c.INIT}),(r={dispatch:y,subscribe:g,getState:m,replaceReducer:function(t){if("function"!==typeof t)throw new Error(s(10));i=t,y({type:c.REPLACE})}})[l]=function(){var t,e=g;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(s(11));function n(){t.next&&t.next(m())}return n(),{unsubscribe:e(n)}}})[l]=function(){return this},t},r}function f(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:c.INIT}))throw new Error(s(12));if("undefined"===typeof n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(l){o=l}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},l=0;l<a.length;l++){var u=a[l],c=n[u],h=t[u],p=c(h,e);if("undefined"===typeof p){e&&e.type;throw new Error(s(14))}i[u]=p,r=r||p!==h}return(r=r||a.length!==Object.keys(t).length)?i:t}}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function m(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return r=d.apply(void 0,o)(n.dispatch),a(a({},n),{},{dispatch:r})}}}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=o(n(179)),a(n(141),e),a(n(208),e),n(209)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;e.KeyStore=class{}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=void 0;const i=r(n(193)),o=r(n(127)),a=n(78),s=n(60);e.fetchJson=async function(t,e){let n={url:null};"string"===typeof t?n.url=t:n=t;const r=await o.default(1e3,10,1.5,(async()=>{try{const t=await fetch(n.url,{method:e?"POST":"GET",body:e||void 0,headers:{...n.headers,"Content-Type":"application/json"}});if(!t.ok){if(503===t.status)return s.logWarning("Retrying HTTP request for ".concat(n.url," as it's not available now")),null;throw i.default(t.status,await t.text())}return t}catch(t){if(t.toString().includes("FetchError")||t.toString().includes("Failed to fetch"))return s.logWarning("Retrying HTTP request for ".concat(n.url," because of error: ").concat(t)),null;throw t}}));if(!r)throw new a.TypedError("Exceeded ".concat(10," attempts for ").concat(n.url,"."),"RetriesExceeded");return await r.json()}},function(t,e,n){"use strict";(function(t){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.signTransaction=e.createTransaction=e.SCHEMA=e.Action=e.SignedTransaction=e.Transaction=e.Signature=e.deleteAccount=e.deleteKey=e.addKey=e.stake=e.transfer=e.functionCall=e.stringifyJsonOrBytes=e.deployContract=e.createAccount=e.DeleteAccount=e.DeleteKey=e.AddKey=e.Stake=e.Transfer=e.FunctionCall=e.DeployContract=e.CreateAccount=e.IAction=e.functionCallAccessKey=e.fullAccessKey=e.AccessKey=e.AccessKeyPermission=e.FullAccessPermission=e.FunctionCallPermission=void 0;const i=r(n(144)),o=n(126),a=n(58),s=n(46);class l extends o.Assignable{}e.FunctionCallPermission=l;class u extends o.Assignable{}e.FullAccessPermission=u;class c extends o.Enum{}e.AccessKeyPermission=c;class h extends o.Assignable{}e.AccessKey=h,e.fullAccessKey=function(){return new h({nonce:0,permission:new c({fullAccess:new u({})})})},e.functionCallAccessKey=function(t,e,n){return new h({nonce:0,permission:new c({functionCall:new l({receiverId:t,allowance:n,methodNames:e})})})};class p extends o.Assignable{}e.IAction=p;class f extends p{}e.CreateAccount=f;class d extends p{}e.DeployContract=d;class m extends p{}e.FunctionCall=m;class g extends p{}e.Transfer=g;class y extends p{}e.Stake=y;class v extends p{}e.AddKey=v;class _ extends p{}e.DeleteKey=_;class b extends p{}function x(e){return void 0!==e.byteLength&&e.byteLength===e.length?e:t.from(JSON.stringify(e))}e.DeleteAccount=b,e.createAccount=function(){return new O({createAccount:new f({})})},e.deployContract=function(t){return new O({deployContract:new d({code:t})})},e.stringifyJsonOrBytes=x,e.functionCall=function(t,e,n,r){return new O({functionCall:new m({methodName:t,args:(arguments.length>4&&void 0!==arguments[4]?arguments[4]:x)(e),gas:n,deposit:r})})},e.transfer=function(t){return new O({transfer:new g({deposit:t})})},e.stake=function(t,e){return new O({stake:new y({stake:t,publicKey:e})})},e.addKey=function(t,e){return new O({addKey:new v({publicKey:t,accessKey:e})})},e.deleteKey=function(t){return new O({deleteKey:new _({publicKey:t})})},e.deleteAccount=function(t){return new O({deleteAccount:new b({beneficiaryId:t})})};class w extends o.Assignable{}e.Signature=w;class S extends o.Assignable{encode(){return a.serialize(e.SCHEMA,this)}static decode(t){return a.deserialize(e.SCHEMA,S,t)}}e.Transaction=S;class E extends o.Assignable{encode(){return a.serialize(e.SCHEMA,this)}static decode(t){return a.deserialize(e.SCHEMA,E,t)}}e.SignedTransaction=E;class O extends o.Enum{}function k(t,e,n,r,i,o){return new S({signerId:t,publicKey:e,nonce:r,receiverId:n,actions:i,blockHash:o})}async function M(t,n,r,o){const s=a.serialize(e.SCHEMA,t),l=new Uint8Array(i.default.sha256.array(s)),u=await n.signMessage(s,r,o);return[l,new E({transaction:t,signature:new w({keyType:t.publicKey.keyType,data:u.signature})})]}e.Action=O,e.SCHEMA=new Map([[w,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[E,{kind:"struct",fields:[["transaction",S],["signature",w]]}],[S,{kind:"struct",fields:[["signerId","string"],["publicKey",s.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[O]]]}],[s.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[h,{kind:"struct",fields:[["nonce","u64"],["permission",c]]}],[c,{kind:"enum",field:"enum",values:[["functionCall",l],["fullAccess",u]]}],[l,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[u,{kind:"struct",fields:[]}],[O,{kind:"enum",field:"enum",values:[["createAccount",f],["deployContract",d],["functionCall",m],["transfer",g],["stake",y],["addKey",v],["deleteKey",_],["deleteAccount",b]]}],[f,{kind:"struct",fields:[]}],[d,{kind:"struct",fields:[["code",["u8"]]]}],[m,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[g,{kind:"struct",fields:[["deposit","u128"]]}],[y,{kind:"struct",fields:[["stake","u128"],["publicKey",s.PublicKey]]}],[v,{kind:"struct",fields:[["publicKey",s.PublicKey],["accessKey",h]]}],[_,{kind:"struct",fields:[["publicKey",s.PublicKey]]}],[b,{kind:"struct",fields:[["beneficiaryId","string"]]}]]),e.createTransaction=k,e.signTransaction=async function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e[0].constructor===S){const[t,n,r,i]=e;return M(t,n,r,i)}{const[t,n,r,i,o,a,s]=e;return M(k(a,await o.getPublicKey(a,s),t,n,r,i),o,a,s)}}}).call(this,n(49).Buffer)},function(t,e,n){"use strict";(function(t){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;const i=r(n(50)),o=r(n(59)),a=n(90),s=n(78),l=n(58),u=n(46),c=n(60),h=n(128),p=n(205),f=r(n(127));function d(e){return JSON.parse(t.from(e).toString())}function m(e){return t.from(JSON.stringify(e))}class g{constructor(t,e){this.accessKeyByPublicKeyCache={},this.connection=t,this.accountId=e}get ready(){return o.default("Account.ready()")("not needed anymore, always ready"),Promise.resolve()}async fetchState(){o.default("Account.fetchState()")("use `Account.state()` instead")}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}printLogsAndFailures(t,e){if(!Object({NODE_ENV:"production",PUBLIC_URL:"/drugcipher",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_NO_LOGS)for(const n of e)console.log("Receipt".concat(n.receiptIds.length>1?"s":"",": ").concat(n.receiptIds.join(", "))),this.printLogs(t,n.logs,"\t"),n.failure&&console.warn("\tFailure [".concat(t,"]: ").concat(n.failure))}printLogs(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!Object({NODE_ENV:"production",PUBLIC_URL:"/drugcipher",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_NO_LOGS)for(const r of e)console.log("".concat(n,"Log [").concat(t,"]: ").concat(r))}async signTransaction(t,e){const n=await this.findAccessKey(t,e);if(!n)throw new s.TypedError("Can not sign transactions for account ".concat(this.accountId," on network ").concat(this.connection.networkId,", no matching key pair found in ").concat(this.connection.signer,"."),"KeyNotFound");const{accessKey:r}=n,i=(await this.connection.provider.block({finality:"final"})).header.hash,o=++r.nonce;return await a.signTransaction(t,o,e,l.baseDecode(i),this.connection.signer,this.accountId,this.connection.networkId)}signAndSendTransaction(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this.signAndSendTransactionV1(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):this.signAndSendTransactionV2(arguments.length<=0?void 0:arguments[0])}signAndSendTransactionV1(t,e){return o.default("Account.signAndSendTransaction(receiverId, actions")("use `Account.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),this.signAndSendTransactionV2({receiverId:t,actions:e})}async signAndSendTransactionV2(t){let e,n,{receiverId:r,actions:i,returnError:o}=t;const a=await f.default(500,12,1.5,(async()=>{[e,n]=await this.signTransaction(r,i);const t=n.transaction.publicKey;try{return await this.connection.provider.sendTransaction(n)}catch(o){if("InvalidNonce"===o.type)return c.logWarning("Retrying transaction ".concat(r,":").concat(l.baseEncode(e)," with new nonce.")),delete this.accessKeyByPublicKeyCache[t.toString()],null;if("Expired"===o.type)return c.logWarning("Retrying transaction ".concat(r,":").concat(l.baseEncode(e)," due to expired block hash")),null;throw o.context=new s.ErrorContext(l.baseEncode(e)),o}}));if(!a)throw new s.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");const u=[a.transaction_outcome,...a.receipts_outcome].reduce(((t,e)=>e.outcome.logs.length||"object"===typeof e.outcome.status&&"object"===typeof e.outcome.status.Failure?t.concat({receiptIds:e.outcome.receipt_ids,logs:e.outcome.logs,failure:"undefined"!=typeof e.outcome.status.Failure?h.parseRpcError(e.outcome.status.Failure):null}):t),[]);if(this.printLogsAndFailures(n.transaction.receiverId,u),!o&&"object"===typeof a.status&&"object"===typeof a.status.Failure)throw a.status.Failure.error_message&&a.status.Failure.error_type?new s.TypedError("Transaction ".concat(a.transaction_outcome.id," failed. ").concat(a.status.Failure.error_message),a.status.Failure.error_type):h.parseResultError(a);return a}async findAccessKey(t,e){const n=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!n)return null;const r=this.accessKeyByPublicKeyCache[n.toString()];if(void 0!==r)return{publicKey:n,accessKey:r};try{const t=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:n.toString(),finality:"optimistic"});return this.accessKeyByPublicKeyCache[n.toString()]?{publicKey:n,accessKey:this.accessKeyByPublicKeyCache[n.toString()]}:(this.accessKeyByPublicKeyCache[n.toString()]=t,{publicKey:n,accessKey:t})}catch(i){if("AccessKeyDoesNotExist"==i.type)return null;throw i}}async createAndDeployContract(t,e,n,r){const i=a.fullAccessKey();await this.signAndSendTransaction({receiverId:t,actions:[a.createAccount(),a.transfer(r),a.addKey(u.PublicKey.from(e),i),a.deployContract(n)]});return new g(this.connection,t)}async sendMoney(t,e){return this.signAndSendTransaction({receiverId:t,actions:[a.transfer(e)]})}async createAccount(t,e,n){const r=a.fullAccessKey();return this.signAndSendTransaction({receiverId:t,actions:[a.createAccount(),a.transfer(n),a.addKey(u.PublicKey.from(e),r)]})}async deleteAccount(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.deleteAccount(t)]})}async deployContract(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.deployContract(t)]})}async functionCall(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this.functionCallV1(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4]):this.functionCallV2(arguments.length<=0?void 0:arguments[0])}functionCallV1(t,e,n,r,i){return o.default("Account.functionCall(contractId, methodName, args, gas, amount)")("use `Account.functionCall(FunctionCallOptions)` instead"),n=n||{},this.validateArgs(n),this.signAndSendTransaction({receiverId:t,actions:[a.functionCall(e,n,r||p.DEFAULT_FUNCTION_CALL_GAS,i)]})}functionCallV2(t){let{contractId:e,methodName:n,args:r={},gas:i=p.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:o,walletMeta:s,walletCallbackUrl:l,stringify:u}=t;this.validateArgs(r);const c=void 0===u?a.stringifyJsonOrBytes:u;return this.signAndSendTransaction({receiverId:e,actions:[a.functionCall(n,r,i,o,c)],walletMeta:s,walletCallbackUrl:l})}async addKey(t,e,n,r){let i;return n||(n=[]),Array.isArray(n)||(n=[n]),i=e?a.functionCallAccessKey(e,n,r):a.fullAccessKey(),this.signAndSendTransaction({receiverId:this.accountId,actions:[a.addKey(u.PublicKey.from(t),i)]})}async deleteKey(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.deleteKey(u.PublicKey.from(t))]})}async stake(t,e){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.stake(e,u.PublicKey.from(t))]})}validateArgs(t){if(!(void 0!==t.byteLength&&t.byteLength===t.length)&&(Array.isArray(t)||"object"!==typeof t))throw new c.PositionalArgsError}async viewFunction(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{parse:i=d,stringify:o=m}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.validateArgs(r);const a=o(r).toString("base64"),s=await this.connection.provider.query({request_type:"call_function",account_id:e,method_name:n,args_base64:a,finality:"optimistic"});return s.logs&&this.printLogs(e,s.logs),s.result&&s.result.length>0&&i(t.from(s.result))}async viewState(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{finality:"optimistic"};const{values:r}=await this.connection.provider.query({request_type:"view_state",...n,account_id:this.accountId,prefix_base64:t.from(e).toString("base64")});return r.map((e=>{let{key:n,value:r}=e;return{key:t.from(n,"base64"),value:t.from(r,"base64")}}))}async getAccessKeys(){const t=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return Array.isArray(t)?t:t.keys}async getAccountDetails(){return{authorizedApps:(await this.getAccessKeys()).filter((t=>"FullAccess"!==t.access_key.permission)).map((t=>{const e=t.access_key.permission;return{contractId:e.FunctionCall.receiver_id,amount:e.FunctionCall.allowance,publicKey:t.public_key}}))}}async getAccountBalance(){const t=await this.connection.provider.experimental_protocolConfig({finality:"final"}),e=await this.state(),n=new i.default(t.runtime_config.storage_amount_per_byte),r=new i.default(e.storage_usage).mul(n),o=new i.default(e.locked),a=new i.default(e.amount).add(o),s=a.sub(i.default.max(o,r));return{total:a.toString(),stateStaked:r.toString(),staked:o.toString(),available:s.toString()}}}e.Account=g}).call(this,n(49).Buffer)},function(t,e,n){"use strict";var r=n(62);n.d(e,"a",(function(){return r.a}));var i=n(96);n.d(e,"b",(function(){return i.a}));var o=n(63);n.d(e,"c",(function(){return o.a}));var a=n(64);n.d(e,"d",(function(){return a.a}));var s=n(99);n.d(e,"e",(function(){return s.a}));var l=n(97);n.d(e,"f",(function(){return l.a}));var u=n(98);n.d(e,"g",(function(){return u.a}));var c=n(65);n.d(e,"h",(function(){return c.a}));var h=n(100);n.d(e,"i",(function(){return h.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(47),i=n(64),o=n(65),a=n(63),s=n(62),l=[i.a,o.a,a.a,s.a],u=Object(r.b)({defaultModifiers:l})},,,function(t,e,n){"use strict";var r=n(27),i=n(67),o=n(106),a=n(43),s=n(66),l=n(56),u=n(102),c=n(104),h=n(6);e.a={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,o=t.name,p=t.options,f=n.elements.arrow,d=n.modifiersData.popperOffsets,m=Object(r.a)(n.placement),g=Object(s.a)(m),y=[h.l,h.s].indexOf(m)>=0?"height":"width";if(f&&d){var v=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,Object(u.a)("number"!==typeof t?t:Object(c.a)(t,h.e))}(p.padding,n),_=Object(i.a)(f),b="y"===g?h.u:h.l,x="y"===g?h.i:h.s,w=n.rects.reference[y]+n.rects.reference[g]-d[g]-n.rects.popper[y],S=d[g]-n.rects.reference[g],E=Object(a.a)(f),O=E?"y"===g?E.clientHeight||0:E.clientWidth||0:0,k=w/2-S/2,M=v[b],C=O-_[y]-v[x],T=O/2-_[y]/2+k,P=Object(l.a)(M,T,C),A=g;n.modifiersData[o]=((e={})[A]=P,e.centerOffset=P-T,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=e.elements.popper.querySelector(r)))&&Object(o.a)(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},function(t,e,n){"use strict";var r=n(6),i=n(31);function o(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function a(t){return[r.u,r.s,r.i,r.l].some((function(e){return t[e]>=0}))}e.a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,l=e.modifiersData.preventOverflow,u=Object(i.a)(e,{elementContext:"reference"}),c=Object(i.a)(e,{altBoundary:!0}),h=o(u,r),p=o(c,s,l),f=a(h),d=a(p);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:f,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}}},function(t,e,n){"use strict";var r=n(27),i=n(6);e.a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,o=t.name,a=n.offset,s=void 0===a?[0,0]:a,l=i.o.reduce((function(t,n){return t[n]=function(t,e,n){var o=Object(r.a)(t),a=[i.l,i.u].indexOf(o)>=0?-1:1,s="function"===typeof n?n(Object.assign({},e,{placement:t})):n,l=s[0],u=s[1];return l=l||0,u=(u||0)*a,[i.l,i.s].indexOf(o)>=0?{x:u,y:l}:{x:l,y:u}}(n,e.rects,s),t}),{}),u=l[e.placement],c=u.x,h=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[o]=l}}},function(t,e,n){"use strict";var r={left:"right",right:"left",bottom:"top",top:"bottom"};function i(t){return t.replace(/left|right|bottom|top/g,(function(t){return r[t]}))}var o=n(27),a={start:"end",end:"start"};function s(t){return t.replace(/start|end/g,(function(t){return a[t]}))}var l=n(31),u=n(38),c=n(6);e.a={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=n.mainAxis,h=void 0===a||a,p=n.altAxis,f=void 0===p||p,d=n.fallbackPlacements,m=n.padding,g=n.boundary,y=n.rootBoundary,v=n.altBoundary,_=n.flipVariations,b=void 0===_||_,x=n.allowedAutoPlacements,w=e.options.placement,S=Object(o.a)(w),E=d||(S===w||!b?[i(w)]:function(t){if(Object(o.a)(t)===c.d)return[];var e=i(t);return[s(t),e,s(e)]}(w)),O=[w].concat(E).reduce((function(t,n){return t.concat(Object(o.a)(n)===c.d?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,h=n.flipVariations,p=n.allowedAutoPlacements,f=void 0===p?c.o:p,d=Object(u.a)(r),m=d?h?c.v:c.v.filter((function(t){return Object(u.a)(t)===d})):c.e,g=m.filter((function(t){return f.indexOf(t)>=0}));0===g.length&&(g=m);var y=g.reduce((function(e,n){return e[n]=Object(l.a)(t,{placement:n,boundary:i,rootBoundary:a,padding:s})[Object(o.a)(n)],e}),{});return Object.keys(y).sort((function(t,e){return y[t]-y[e]}))}(e,{placement:n,boundary:g,rootBoundary:y,padding:m,flipVariations:b,allowedAutoPlacements:x}):n)}),[]),k=e.rects.reference,M=e.rects.popper,C=new Map,T=!0,P=O[0],A=0;A<O.length;A++){var I=O[A],D=Object(o.a)(I),j=Object(u.a)(I)===c.t,R=[c.u,c.i].indexOf(D)>=0,L=R?"width":"height",z=Object(l.a)(e,{placement:I,boundary:g,rootBoundary:y,altBoundary:v,padding:m}),N=R?j?c.s:c.l:j?c.i:c.u;k[L]>M[L]&&(N=i(N));var F=i(N),B=[];if(h&&B.push(z[D]<=0),f&&B.push(z[N]<=0,z[F]<=0),B.every((function(t){return t}))){P=I,T=!1;break}C.set(I,B)}if(T)for(var U=function(t){var e=O.find((function(e){var n=C.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return P=e,"break"},V=b?3:1;V>0;V--){if("break"===U(V))break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},function(t,e,n){"use strict";var r=n(6),i=n(27),o=n(66);var a=n(56),s=n(67),l=n(43),u=n(31),c=n(38),h=n(103),p=n(19);e.a={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,f=t.name,d=n.mainAxis,m=void 0===d||d,g=n.altAxis,y=void 0!==g&&g,v=n.boundary,_=n.rootBoundary,b=n.altBoundary,x=n.padding,w=n.tether,S=void 0===w||w,E=n.tetherOffset,O=void 0===E?0:E,k=Object(u.a)(e,{boundary:v,rootBoundary:_,padding:x,altBoundary:b}),M=Object(i.a)(e.placement),C=Object(c.a)(e.placement),T=!C,P=Object(o.a)(M),A="x"===P?"y":"x",I=e.modifiersData.popperOffsets,D=e.rects.reference,j=e.rects.popper,R="function"===typeof O?O(Object.assign({},e.rects,{placement:e.placement})):O,L="number"===typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(I){if(m){var F,B="y"===P?r.u:r.l,U="y"===P?r.i:r.s,V="y"===P?"height":"width",H=I[P],W=H+k[B],q=H-k[U],K=S?-j[V]/2:0,Y=C===r.t?D[V]:j[V],Z=C===r.t?-j[V]:-D[V],G=e.elements.arrow,X=S&&G?Object(s.a)(G):{width:0,height:0},J=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Object(h.a)(),$=J[B],Q=J[U],tt=Object(a.a)(0,D[V],X[V]),et=T?D[V]/2-K-tt-$-L.mainAxis:Y-tt-$-L.mainAxis,nt=T?-D[V]/2+K+tt+Q+L.mainAxis:Z+tt+Q+L.mainAxis,rt=e.elements.arrow&&Object(l.a)(e.elements.arrow),it=rt?"y"===P?rt.clientTop||0:rt.clientLeft||0:0,ot=null!=(F=null==z?void 0:z[P])?F:0,at=H+et-ot-it,st=H+nt-ot,lt=Object(a.a)(S?Object(p.b)(W,at):W,H,S?Object(p.a)(q,st):q);I[P]=lt,N[P]=lt-H}if(y){var ut,ct="x"===P?r.u:r.l,ht="x"===P?r.i:r.s,pt=I[A],ft="y"===A?"height":"width",dt=pt+k[ct],mt=pt-k[ht],gt=-1!==[r.u,r.l].indexOf(M),yt=null!=(ut=null==z?void 0:z[A])?ut:0,vt=gt?dt:pt-D[ft]-j[ft]-yt+L.altAxis,_t=gt?pt+D[ft]+j[ft]-yt-L.altAxis:mt,bt=S&&gt?Object(a.b)(vt,pt,_t):Object(a.a)(S?vt:dt,pt,S?_t:mt);I[A]=bt,N[A]=bt-pt}e.modifiersData[f]=N}},requiresIfExists:["offset"]}},function(t,e,n){"use strict";n.r(e);var r=n(6);n.d(e,"top",(function(){return r.u})),n.d(e,"bottom",(function(){return r.i})),n.d(e,"right",(function(){return r.s})),n.d(e,"left",(function(){return r.l})),n.d(e,"auto",(function(){return r.d})),n.d(e,"basePlacements",(function(){return r.e})),n.d(e,"start",(function(){return r.t})),n.d(e,"end",(function(){return r.k})),n.d(e,"clippingParents",(function(){return r.j})),n.d(e,"viewport",(function(){return r.w})),n.d(e,"popper",(function(){return r.p})),n.d(e,"reference",(function(){return r.r})),n.d(e,"variationPlacements",(function(){return r.v})),n.d(e,"placements",(function(){return r.o})),n.d(e,"beforeRead",(function(){return r.g})),n.d(e,"read",(function(){return r.q})),n.d(e,"afterRead",(function(){return r.b})),n.d(e,"beforeMain",(function(){return r.f})),n.d(e,"main",(function(){return r.m})),n.d(e,"afterMain",(function(){return r.a})),n.d(e,"beforeWrite",(function(){return r.h})),n.d(e,"write",(function(){return r.x})),n.d(e,"afterWrite",(function(){return r.c})),n.d(e,"modifierPhases",(function(){return r.n}));var i=n(92);n.d(e,"applyStyles",(function(){return i.a})),n.d(e,"arrow",(function(){return i.b})),n.d(e,"computeStyles",(function(){return i.c})),n.d(e,"eventListeners",(function(){return i.d})),n.d(e,"flip",(function(){return i.e})),n.d(e,"hide",(function(){return i.f})),n.d(e,"offset",(function(){return i.g})),n.d(e,"popperOffsets",(function(){return i.h})),n.d(e,"preventOverflow",(function(){return i.i}));var o=n(47);n.d(e,"popperGenerator",(function(){return o.b}));var a=n(31);n.d(e,"detectOverflow",(function(){return a.a})),n.d(e,"createPopperBase",(function(){return o.a}));var s=n(82);n.d(e,"createPopper",(function(){return s.a}));var l=n(93);n.d(e,"createPopperLite",(function(){return l.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(103);function i(t){return Object.assign({},Object(r.a)(),t)}},function(t,e,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(81);function i(){return!/^((?!chrome|android).)*safari/i.test(Object(r.a)())}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(12);function i(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Object(r.c)(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(27),i=n(38),o=n(66),a=n(6);function s(t){var e,n=t.reference,s=t.element,l=t.placement,u=l?Object(r.a)(l):null,c=l?Object(i.a)(l):null,h=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2;switch(u){case a.u:e={x:h,y:n.y-s.height};break;case a.i:e={x:h,y:n.y+n.height};break;case a.s:e={x:n.x+n.width,y:p};break;case a.l:e={x:n.x-s.width,y:p};break;default:e={x:n.x,y:n.y}}var f=u?Object(o.a)(u):null;if(null!=f){var d="y"===f?"height":"width";switch(c){case a.t:e[f]=e[f]-(n[d]/2-s[d]/2);break;case a.k:e[f]=e[f]+(n[d]/2-s[d]/2)}}return e}},function(t,e,n){var r=n(239).coordEach;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return r(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},function(t,e){function n(t,e,n,r){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var i={type:"Feature"};return r&&(i.id=r),n&&(i.bbox=n),i.properties=e||{},i.geometry=t,i}function r(t,e,r,i){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!d(t[0])||!d(t[1]))throw new Error("Coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r,i)}function i(t,e,r,i){if(!t)throw new Error("No coordinates passed");for(var o=0;o<t.length;o++){var a=t[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===o&&0===s&&!d(a[0][0])||!d(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:t},e,r,i)}function o(t,e,r,i){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!d(t[0][1])||!d(t[0][1]))throw new Error("Coordinates must contain numbers");return n({type:"LineString",coordinates:t},e,r,i)}function a(t,e,r,i){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e,r,i)}function s(t,e,r,i){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e,r,i)}function l(t,e,r,i){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e,r,i)}var u={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},c={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function h(t,e){if(void 0===t||null===t)throw new Error("radians is required");var n=u[e||"kilometers"];if(!n)throw new Error("units is invalid");return t*n}function p(t,e){if(void 0===t||null===t)throw new Error("distance is required");var n=u[e||"kilometers"];if(!n)throw new Error("units is invalid");return t/n}function f(t){if(null===t||void 0===t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}t.exports={feature:n,geometry:function(t,e,n){if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var u;switch(t){case"Point":u=r(e).geometry;break;case"LineString":u=o(e).geometry;break;case"Polygon":u=i(e).geometry;break;case"MultiPoint":u=s(e).geometry;break;case"MultiLineString":u=a(e).geometry;break;case"MultiPolygon":u=l(e).geometry;break;default:throw new Error(t+" is invalid")}return n&&(u.bbox=n),u},featureCollection:function(t,e,n){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var r={type:"FeatureCollection"};return n&&(r.id=n),e&&(r.bbox=e),r.features=t,r},geometryCollection:function(t,e,r,i){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return n({type:"GeometryCollection",geometries:t},e,r,i)},point:r,multiPoint:s,lineString:o,multiLineString:a,polygon:i,multiPolygon:l,radiansToDistance:h,distanceToRadians:p,distanceToDegrees:function(t,e){return f(p(t,e))},radians2degrees:f,degrees2radians:function(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180},bearingToAngle:function(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e},convertDistance:function(t,e,n){if(null===t||void 0===t)throw new Error("distance is required");if(!(t>=0))throw new Error("distance must be a positive number");return h(p(t,e),n||"kilometers")},convertArea:function(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=c[e||"meters"];if(!r)throw new Error("invalid original units");var i=c[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i},round:function(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},isNumber:d}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n(1),i=r.createContext(),o=r.createContext();function a(t){var e=t.children,n=r.useState(null),a=n[0],s=n[1],l=r.useRef(!1);r.useEffect((function(){return function(){l.current=!0}}),[]);var u=r.useCallback((function(t){l.current||s(t)}),[]);return r.createElement(i.Provider,{value:a},r.createElement(o.Provider,{value:u},e))}},function(t,e,n){"use strict";var r=n(35),i=!1,o=!1;try{var a={get passive(){return i=!0},get once(){return o=i=!0}};r.a&&(window.addEventListener("test",a,a),window.removeEventListener("test",a,!0))}catch(s){}e.a=function(t,e,n,r){if(r&&"boolean"!==typeof r&&!o){var a=r.once,s=r.capture,l=n;!o&&a&&(l=n.__once||function t(r){this.removeEventListener(e,t,s),n.call(this,r)},n.__once=l),t.addEventListener(e,l,i?r:s)}t.addEventListener(e,n,r)}},function(t,e,n){"use strict";function r(t){t.offsetHeight}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(33),i=n(120);function o(t,e){const n=Object(r.a)(t,e)||"",i=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*i}function a(t,e){const n=o(t,"transitionDuration"),r=o(t,"transitionDelay"),a=Object(i.a)(t,(n=>{n.target===t&&(a(),e(n))}),n+r)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(t){const e=Object(r.useRef)(null);return Object(r.useEffect)((()=>{e.current=t})),e.current}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(159);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(261);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(131).default,i=n(13);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(t){const e=function(t){const e=Object(r.useRef)(t);return e.current=t,e}(t);Object(r.useEffect)((()=>()=>e.current()),[])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(33),i=n(39);function o(t,e,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}(t,"transitionend",!0)}),e+n),a=Object(i.a)(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),a()}}function a(t,e,n,a){null==n&&(n=function(t){var e=Object(r.a)(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var s=o(t,n,a),l=Object(i.a)(t,"transitionend",e);return function(){s(),l()}}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(44),a=n(53),s=n(17),l=n.n(s);var u=n(0);const c=i.a.forwardRef(((t,e)=>{let{onEnter:n,onEntering:s,onEntered:c,onExit:h,onExiting:p,onExited:f,addEndListener:d,children:m,childRef:g,...y}=t;const v=Object(r.useRef)(null),_=Object(a.a)(v,g),b=t=>{var e;_((e=t)&&"setState"in e?l.a.findDOMNode(e):null!=e?e:null)},x=t=>e=>{t&&v.current&&t(v.current,e)},w=Object(r.useCallback)(x(n),[n]),S=Object(r.useCallback)(x(s),[s]),E=Object(r.useCallback)(x(c),[c]),O=Object(r.useCallback)(x(h),[h]),k=Object(r.useCallback)(x(p),[p]),M=Object(r.useCallback)(x(f),[f]),C=Object(r.useCallback)(x(d),[d]);return Object(u.jsx)(o.e,{ref:e,...y,onEnter:w,onEntered:E,onEntering:S,onExit:O,onExited:M,onExiting:k,addEndListener:C,nodeRef:v,children:"function"===typeof m?(t,e)=>m(t,{...e,ref:b}):i.a.cloneElement(m,{ref:b})})}));e.a=c},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}n.d(e,"a",(function(){return i}))},,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assignable=e.Enum=void 0;e.Enum=class{constructor(t){if(1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((e=>{this[e]=t[e],this.enum=e}))}};e.Assignable=class{constructor(t){Object.keys(t).map((e=>{this[e]=t[e]}))}}},function(t,e,n){"use strict";function r(t){return new Promise((e=>setTimeout(e,t)))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(t,e,n,i){let o=t;for(let a=0;a<e;a++){const t=await i();if(t)return t;await r(o),o*=n}return null}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=e.ServerError=void 0;const i=r(n(200)),o=r(n(201)),a=r(n(202)),s=n(141),l=n(60),u={formatNear:()=>(t,e)=>s.utils.format.formatNearAmount(e(t))};class c extends l.TypedError{}e.ServerError=c;class h extends c{}function p(t){const e={},n=d(t,o.default.schema,e,""),r=new c(f(n,e),n);return Object.assign(r,e),r}function f(t,e){return"string"===typeof a.default[t]?i.default.render(a.default[t],{...e,...u}):JSON.stringify(e)}function d(t,e,n,r){let i,o,a;for(const l in e){if(s=t[l],"[object String]"===Object.prototype.toString.call(s))return t[l];if(m(t[l]))i=t[l],o=e[l],a=l;else{if(!m(t.kind)||!m(t.kind[l]))continue;i=t.kind[l],o=e[l],a=l}}var s;if(i&&o){for(const t of Object.keys(o.props))n[t]=i[t];return d(i,e,n,a)}return n.kind=t,r}function m(t){return"[object Object]"===Object.prototype.toString.call(t)}e.parseRpcError=p,e.parseResultError=function(t){const e=p(t.status.Failure),n=new h;return Object.assign(n,e),n.type=e.type,n.message=e.message,n.transaction_outcome=t.transaction_outcome,n},e.formatError=f,e.getErrorTypeFromErrorMessage=function(t){switch(!0){case/^account .*? does not exist while viewing$/.test(t):case/^Account .*? doesn't exist$/.test(t):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(t):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(t):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(t):return"InvalidNonce";default:return"UntypedError"}}},function(t,e,n){n(211),t.exports=n(151)},function(t,e){t.exports=function(t,e,n){var r="";if(r+=t.name||"Error",r+=": "+(t.message||""),n instanceof Array)for(var i in n){r+="\n   # "+n[i]}for(var o in e){r+="\n   at "+e[o].toString()}return r}},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";t.exports=n(232)},function(t,e,n){"use strict";function r(t,e,n,o,a,s){if(a-o<=n)return;const l=o+a>>1;i(t,e,l,o,a,s%2),r(t,e,n,o,l-1,s+1),r(t,e,n,l+1,a,s+1)}function i(t,e,n,r,a,s){for(;a>r;){if(a-r>600){const o=a-r+1,l=n-r+1,u=Math.log(o),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(o-c)/o)*(l-o/2<0?-1:1);i(t,e,n,Math.max(r,Math.floor(n-l*c/o+h)),Math.min(a,Math.floor(n+(o-l)*c/o+h)),s)}const l=e[2*n+s];let u=r,c=a;for(o(t,e,r,n),e[2*a+s]>l&&o(t,e,r,a);u<c;){for(o(t,e,u,c),u++,c--;e[2*u+s]<l;)u++;for(;e[2*c+s]>l;)c--}e[2*r+s]===l?o(t,e,r,c):(c++,o(t,e,c,a)),c<=n&&(r=c+1),n<=c&&(a=c-1)}}function o(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function s(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}n.r(e),n.d(e,"default",(function(){return d}));const l=t=>t[0],u=t=>t[1];class c{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new a(t.length),c=this.coords=new o(2*t.length);for(let r=0;r<t.length;r++)s[r]=r,c[2*r]=e(t[r]),c[2*r+1]=n(t[r]);r(s,c,i,0,s.length-1,0)}range(t,e,n,r){return function(t,e,n,r,i,o,a){const s=[0,t.length-1,0],l=[];let u,c;for(;s.length;){const h=s.pop(),p=s.pop(),f=s.pop();if(p-f<=a){for(let a=f;a<=p;a++)u=e[2*a],c=e[2*a+1],u>=n&&u<=i&&c>=r&&c<=o&&l.push(t[a]);continue}const d=Math.floor((f+p)/2);u=e[2*d],c=e[2*d+1],u>=n&&u<=i&&c>=r&&c<=o&&l.push(t[d]);const m=(h+1)%2;(0===h?n<=u:r<=c)&&(s.push(f),s.push(d-1),s.push(m)),(0===h?i>=u:o>=c)&&(s.push(d+1),s.push(p),s.push(m))}return l}(this.ids,this.coords,t,e,n,r,this.nodeSize)}within(t,e,n){return function(t,e,n,r,i,o){const a=[0,t.length-1,0],l=[],u=i*i;for(;a.length;){const c=a.pop(),h=a.pop(),p=a.pop();if(h-p<=o){for(let i=p;i<=h;i++)s(e[2*i],e[2*i+1],n,r)<=u&&l.push(t[i]);continue}const f=Math.floor((p+h)/2),d=e[2*f],m=e[2*f+1];s(d,m,n,r)<=u&&l.push(t[f]);const g=(c+1)%2;(0===c?n-i<=d:r-i<=m)&&(a.push(p),a.push(f-1),a.push(g)),(0===c?n+i>=d:r+i>=m)&&(a.push(f+1),a.push(h),a.push(g))}return l}(this.ids,this.coords,t,e,n,this.nodeSize)}}const h={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},p=Math.fround||(f=new Float32Array(1),t=>(f[0]=+t,f[0]));var f;class d{constructor(t){this.options=w(Object.create(h),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:n,maxZoom:r,nodeSize:i}=this.options;e&&console.time("total time");const o="prepare ".concat(t.length," points");e&&console.time(o),this.points=t;let a=[];for(let s=0;s<t.length;s++)t[s].geometry&&a.push(g(t[s],s));this.trees[r+1]=new c(a,S,E,i,Float32Array),e&&console.timeEnd(o);for(let s=r;s>=n;s--){const t=+Date.now();a=this._cluster(a,s),this.trees[s]=new c(a,S,E,i,Float32Array),e&&console.log("z%d: %d clusters in %dms",s,a.length,+Date.now()-t)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let n=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let i=180===t[2]?180:((t[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){const t=this.getClusters([n,r,180,o],e),a=this.getClusters([-180,r,i,o],e);return t.concat(a)}const a=this.trees[this._limitZoom(e)],s=a.range(_(n),b(o),_(i),b(r)),l=[];for(const u of s){const t=a.points[u];l.push(t.numPoints?y(t):this.points[t.index])}return l}getChildren(t){const e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.points[e];if(!o)throw new Error(r);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),l=[];for(const u of s){const e=i.points[u];e.parentId===t&&l.push(e.numPoints?y(e):this.points[e.index])}if(0===l.length)throw new Error(r);return l}getLeaves(t,e,n){e=e||10,n=n||0;const r=[];return this._appendLeaves(r,t,e,n,0),r}getTile(t,e,n){const r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/i,u=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,l,(e+1+s)/i,u),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,l,1,u),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,l,s/i,u),r.points,-1,n,i,c),c.features.length?c:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e}_appendLeaves(t,e,n,r,i){const o=this.getChildren(e);for(const a of o){const e=a.properties;if(e&&e.cluster?i+e.point_count<=r?i+=e.point_count:i=this._appendLeaves(t,e.cluster_id,n,r,i):i<r?i++:t.push(a),t.length===n)break}return i}_addTileFeatures(t,e,n,r,i,o){for(const a of t){const t=e[a],s=t.numPoints;let l,u,c;if(s)l=v(t),u=t.x,c=t.y;else{const e=this.points[t.index];l=e.properties,u=_(e.geometry.coordinates[0]),c=b(e.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(c*i-r))]],tags:l};let p;s?p=t.id:this.options.generateId?p=t.index:this.points[t.index].id&&(p=this.points[t.index].id),void 0!==p&&(h.id=p),o.features.push(h)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const n=[],{radius:r,extent:i,reduce:o,minPoints:a}=this.options,s=r/(i*Math.pow(2,e));for(let l=0;l<t.length;l++){const r=t[l];if(r.zoom<=e)continue;r.zoom=e;const i=this.trees[e+1],u=i.within(r.x,r.y,s),c=r.numPoints||1;let h=c;for(const t of u){const n=i.points[t];n.zoom>e&&(h+=n.numPoints||1)}if(h>c&&h>=a){let t=r.x*c,a=r.y*c,s=o&&c>1?this._map(r,!0):null;const p=(l<<5)+(e+1)+this.points.length;for(const n of u){const l=i.points[n];if(l.zoom<=e)continue;l.zoom=e;const u=l.numPoints||1;t+=l.x*u,a+=l.y*u,l.parentId=p,o&&(s||(s=this._map(r,!0)),o(s,this._map(l)))}r.parentId=p,n.push(m(t/h,a/h,p,h,s))}else if(n.push(r),h>1)for(const t of u){const r=i.points[t];r.zoom<=e||(r.zoom=e,n.push(r))}}return n}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?w({},t.properties):t.properties;const n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?w({},r):r}}function m(t,e,n,r,i){return{x:p(t),y:p(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function g(t,e){const[n,r]=t.geometry.coordinates;return{x:p(_(n)),y:p(b(r)),zoom:1/0,index:e,parentId:-1}}function y(t){return{type:"Feature",id:t.id,properties:v(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),x(t.y)]}};var e}function v(t){const e=t.numPoints,n=e>=1e4?"".concat(Math.round(e/1e3),"k"):e>=1e3?"".concat(Math.round(e/100)/10,"k"):e;return w(w({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function _(t){return t/360+.5}function b(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function x(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function w(t,e){for(const n in e)t[n]=e[n];return t}function S(t){return t.x}function E(t){return t.y}},function(t,e,n){"use strict";var r=n(234),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=f(n);i&&i!==d&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(e),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=p(n,y);try{u(e,y,v)}catch(_){}}}}return e}},function(t,e,n){"use strict";(function(t){var r=n(1);const i="undefined"!==typeof t&&t.navigator&&"ReactNative"===t.navigator.product,o="undefined"!==typeof document;e.a=o||i?r.useLayoutEffect:r.useEffect}).call(this,n(45))},function(t,e,n){"use strict";n.d(e,"a",(function(){return In}));var r=n(11),i=n.n(r),o=n(1),a=n.n(o),s=n(9),l=n.n(s),u=n(14),c=n.n(u),h=(n(170),n(2)),p=n.n(h);n(114);var f="label",d=n(54),m=n.n(d);function g(t){return"string"===typeof t?t:f}function y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var v=0;function _(t){return"function"===typeof t}function b(t){return"string"===typeof t}function x(){}function w(t,e){var n={};return e.forEach((function(e){n[e]=t[e]})),n}var S=function(t,e){return b(t)||!y(t,"paginationOption")&&!y(t,"customOption")?(n=_(e)?e(t):b(t)?t:t[e],b(n)||m()(!1),n):t[g(e)];var n};var E=function(t,e){var n=e.allowNew,r=e.labelKey,i=e.text;return!(!n||!i.trim())&&(_(n)?n(t,e):!t.some((function(t){return S(t,r)===i})))},O=n(57),k=n.n(O);function M(t,e){if(!b(t))return t[e]}var C=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779\xd0"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"OE",letters:"\x8c\u0152"},{base:"oe",letters:"\x9c\u0153"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}].reduce((function(t,e){var n=e.base;return e.letters.split("").forEach((function(e){t[e]=n})),t}),{}),T="\u0300-\u036f",P="\u3099\u309a";function A(t){return t.normalize("NFD").replace(new RegExp("[".concat(T).concat(P,"]"),"g"),"").replace(/[^\u0000-\u007E]/g,(function(t){return C[t]||t}))}var I=n(51),D=n.n(I),j={};function R(t,e){if(!t&&-1!==e.indexOf("deprecated")){if(j[e])return;j[e]=!0}for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];D.a.apply(void 0,[t,"[react-bootstrap-typeahead] ".concat(e)].concat(r))}function L(t,e,n){var r=t,i=e;return n.caseSensitive||(r=r.toLowerCase(),i=i.toLowerCase()),n.ignoreDiacritics&&(r=A(r),i=A(i)),-1!==i.indexOf(r)}function z(t,e){var n=e.filterBy,r=e.labelKey,i=e.multiple,o=e.selected,a=e.text;if(i&&o.some((function(e){return k()(e,t)})))return!1;if(_(r))return L(a,r(t),e);var s=n.slice();return b(r)&&-1===s.indexOf(r)&&s.unshift(r),b(t)?(R(s.length<=1,"You cannot filter by properties when `option` is a string."),L(a,t,e)):s.some((function(n){var r=M(t,n);return b(r)||(R(!1,"Fields passed to `filterBy` should have string values. Value will be converted to a string; results may be unexpected."),r=String(r)),L(a,r,e)}))}function N(t){return null!=t.selectionStart}var F="i",B=/[\u0300-\u036F]/;function U(t,e){var n=new RegExp(function(t){return"string"!==typeof t&&m()(!1),t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(A(e)),F),r=n.exec(A(t));if(!r)return null;var i=r.index,o=r[0].length;if(B.test(t)){for(var a=0;a<=i;a++)B.test(t[a])&&(i+=1);for(var s=i;s<=i+o;s++)B.test(t[s])&&(o+=1)}return{end:i+o,start:i}}var V=function(t){var e=t.activeIndex,n=t.initialItem,r=t.isFocused,i=t.isMenuShown,o=t.labelKey,a=t.multiple,s=t.selected,l=t.text;if(!l||!r||!i||!n||!b(n)&&y(n,"customOption")||e>-1||s.length&&!a)return"";var u=S(n,o),c=U(u.toLowerCase(),l.toLowerCase());return c&&0===c.start?l+u.slice(c.end,u.length):""},H=n(3),W=n.n(H);function q(){var t=arguments.length>1?arguments[1]:void 0;return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","-item-").concat(t)}var K=["activeIndex","id","isFocused","isMenuShown","multiple","onClick","onFocus","placeholder"];function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var G=function(t){var e=t.activeIndex,n=t.id,r=t.isFocused,i=t.isMenuShown,o=t.multiple,a=t.onClick,s=t.onFocus,u=t.placeholder,h=c()(t,K);return function(){var t,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=y(c,"className")?String(c.className):void 0;return Z(Z(Z(Z({autoComplete:"off",placeholder:u,type:"text"},c),h),{},{"aria-activedescendant":e>=0?q(n,e):void 0,"aria-autocomplete":"both","aria-expanded":i,"aria-haspopup":"listbox","aria-multiselectable":o||void 0,"aria-owns":i?n:void 0,className:W()((t={},l()(t,p||"",!o),l()(t,"focus",r),t))},o&&{inputClassName:p}),{},{onClick:a,onFocus:s,role:"combobox"})}};var X=function(t){var e=t.activeItem,n=t.labelKey,r=t.multiple,i=t.selected,o=t.text;return e?S(e,n):!r&&i.length&&i[0]?S(i[0],n):o};var J=function(t){var e=t.allowNew,n=t.highlightOnlyResult,r=t.results;return!(!n||e)&&(1===r.length&&!M(r[0],"disabled"))};var $=function(t,e){return!e||e>=t.length?t:t.slice(0,e)};function Q(t,e){var n=e[t];return!!n&&!!M(n,"disabled")}function tt(t,e,n){for(var r=t;Q(r,n);)r+="ArrowUp"===e?-1:1;return r}function et(t){t.preventDefault()}function nt(t){return"lg"===t}function rt(t){return"sm"===t}var it=["className","isInvalid","isValid","size"];function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t){var e=t.className,n=t.isInvalid,r=t.isValid,i=t.size;return at(at({},c()(t,it)),{},{className:W()("form-control","rbt-input",{"form-control-lg":nt(i),"form-control-sm":rt(i),"is-invalid":n,"is-valid":r},e)})}var lt=[{alt:"onBlur",prop:"onBlur"},{alt:"onInputChange",prop:"onChange"},{alt:"onFocus",prop:"onFocus"},{alt:"onKeyDown",prop:"onKeyDown"}],ut=p.a.oneOf(["lg","sm"]);function ct(t,e){return function(n,r,i){p.a.checkPropTypes(l()({},r,t),n,"prop",i),_(e)&&e(n,r,i)}}function ht(t,e,n){R(null!=t[e],"The prop `".concat(e,"` is required to make `").concat(n,"` ")+"accessible for users of assistive technologies such as screen readers.")}var pt=p.a.oneOfType([p.a.object,p.a.string]);p.a.number,p.a.bool.isRequired,p.a.number,p.a.func.isRequired,p.a.arrayOf(pt),p.a.node,p.a.node,p.a.bool;var ft=n(115),dt=n.n(ft),mt=n(116),gt=n.n(mt),yt=n(13),vt=n.n(yt),_t=n(117),bt=n.n(_t),xt=n(118),wt=n.n(xt),St=n(75),Et=n.n(St),Ot={activeIndex:-1,hintText:"",id:"",initialItem:null,inputNode:null,isOnlyResult:!1,onActiveItemChange:x,onAdd:x,onInitialItemChange:x,onMenuItemClick:x,setItem:x},kt=Object(o.createContext)(Ot),Mt=function(){return Object(o.useContext)(kt)};function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pt=["activeIndex","disabled","id","inputRef","isFocused","isMenuShown","multiple","onBlur","onChange","onClick","onFocus","onKeyDown","placeholder"],At=["activeIndex","hideMenu","isMenuShown","labelKey","onClear","onHide","onRemove","results","selected","text","toggleMenu"],It=["activeIndex","id","initialItem","inputNode","onActiveItemChange","onAdd","onInitialItemChange","onMenuItemClick","setItem"],Dt=function(t){var e=t.allowNew,n=t.children,r=t.initialItem,i=t.isMenuShown,s=t.onAdd,l=t.onInitialItemChange,u=t.onKeyDown,c=t.onMenuToggle,h=t.results,p=t.selectHint,f=V(t);Object(o.useEffect)((function(){e||h.length||l()}));var d=Object(o.useRef)(!0);Object(o.useEffect)((function(){d.current?d.current=!1:c(i)}),[i,c]);var m=Tt(Tt({},w(t,At)),{},{getInputProps:G(Tt(Tt({},w(t,Pt)),{},{onKeyDown:function(e){if(u(e),r){var n="Enter"===e.key&&J(t),i=f&&function(t,e){var n=!1;return"ArrowRight"===t.key&&(n=!N(t.currentTarget)||t.currentTarget.selectionStart===t.currentTarget.value.length),"Tab"===t.key&&(t.preventDefault(),n=!0),e?e(n,t):n}(e,p);(n||i)&&s(r)}},value:X(t)}))}),g=Tt(Tt({},w(t,It)),{},{hintText:f,isOnlyResult:J(t)});return a.a.createElement(kt.Provider,{value:g},_(n)?n(m):n)};function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t){var e=t.defaultInputValue,n=t.defaultOpen,r=t.defaultSelected,i=t.maxResults,o=t.multiple,a=t.selected?t.selected.slice():r.slice(),s=e;return!o&&a.length&&(s=S(a[0],t.labelKey),a.length>1&&(a=a.slice(0,1))),{activeIndex:-1,activeItem:void 0,initialItem:void 0,isFocused:!1,selected:a,showMenu:n,shownResults:i,text:s}}function zt(t,e){return Rt(Rt({},Lt(e)),{},{isFocused:t.isFocused,selected:[],text:""})}function Nt(t){return Rt(Rt({},t),{},{isFocused:!0,showMenu:!0})}function Ft(t,e){var n=Lt(e),r=n.activeIndex,i=n.activeItem,o=n.initialItem,a=n.shownResults;return Rt(Rt({},t),{},{activeIndex:r,activeItem:i,initialItem:o,showMenu:!1,shownResults:a})}function Bt(t,e){return t.showMenu?Ft(t,e):Rt(Rt({},t),{},{showMenu:!0})}var Ut=["onChange"];function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Et()(t);if(e){var i=Et()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wt()(this,n)}}var qt={allowNew:p.a.oneOfType([p.a.bool,p.a.func]),autoFocus:p.a.bool,caseSensitive:ct(p.a.bool,(function(t){var e=t.caseSensitive,n=t.filterBy;R(!e||"function"!==typeof n,"Your `filterBy` function will override the `caseSensitive` prop.")})),defaultInputValue:ct(p.a.string,(function(t){var e=t.defaultInputValue,n=t.defaultSelected,r=t.multiple,i=t.selected,o=n.length?"defaultSelected":"selected";R(!(!r&&e&&(n.length||i&&i.length)),"`defaultInputValue` will be overridden by the value from `".concat(o,"`."))})),defaultOpen:p.a.bool,defaultSelected:ct(p.a.arrayOf(pt),(function(t){var e=t.defaultSelected;R(t.multiple||e.length<=1,"You are passing multiple options to the `defaultSelected` prop of a Typeahead in single-select mode. The selections will be truncated to a single selection.")})),filterBy:p.a.oneOfType([p.a.arrayOf(p.a.string.isRequired),p.a.func]),highlightOnlyResult:ct(p.a.bool,(function(t){var e=t.allowNew;R(!(t.highlightOnlyResult&&e),"`highlightOnlyResult` will not work with `allowNew`.")})),id:ct(p.a.oneOfType([p.a.number,p.a.string]),ht),ignoreDiacritics:ct(p.a.bool,(function(t){var e=t.filterBy;R(t.ignoreDiacritics||"function"!==typeof e,"Your `filterBy` function will override the `ignoreDiacritics` prop.")})),labelKey:ct(p.a.oneOfType([p.a.string,p.a.func]),(function(t){var e=t.allowNew;R(!(_(t.labelKey)&&e),"`labelKey` must be a string when `allowNew={true}`.")})),maxResults:p.a.number,minLength:p.a.number,multiple:p.a.bool,onBlur:p.a.func,onChange:p.a.func,onFocus:p.a.func,onInputChange:p.a.func,onKeyDown:p.a.func,onMenuToggle:p.a.func,onPaginate:p.a.func,open:p.a.bool,options:p.a.arrayOf(pt).isRequired,paginate:p.a.bool,selected:ct(p.a.arrayOf(pt),(function(t){var e=t.multiple,n=t.onChange,r=t.selected;R(e||!r||r.length<=1,"You are passing multiple options to the `selected` prop of a Typeahead in single-select mode. This may lead to unexpected behaviors or errors."),R(!r||r&&_(n),"You provided a `selected` prop without an `onChange` handler. If you want the typeahead to be uncontrolled, use `defaultSelected`. Otherwise, set `onChange`.")}))},Kt={allowNew:!1,autoFocus:!1,caseSensitive:!1,defaultInputValue:"",defaultOpen:!1,defaultSelected:[],filterBy:[],highlightOnlyResult:!1,ignoreDiacritics:!0,labelKey:f,maxResults:100,minLength:0,multiple:!1,onBlur:x,onFocus:x,onInputChange:x,onKeyDown:x,onMenuToggle:x,onPaginate:x,paginate:!0};var Yt=function(t){bt()(n,t);var e=Wt(n);function n(){var t;dt()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),l()(vt()(t),"state",Lt(t.props)),l()(vt()(t),"inputNode",null),l()(vt()(t),"isMenuShown",!1),l()(vt()(t),"items",[]),l()(vt()(t),"blur",(function(){t.inputNode&&t.inputNode.blur(),t.hideMenu()})),l()(vt()(t),"clear",(function(){t.setState(zt)})),l()(vt()(t),"focus",(function(){t.inputNode&&t.inputNode.focus()})),l()(vt()(t),"getInput",(function(){return t.inputNode})),l()(vt()(t),"inputRef",(function(e){t.inputNode=e})),l()(vt()(t),"setItem",(function(e,n){t.items[n]=e})),l()(vt()(t),"hideMenu",(function(){t.setState(Ft)})),l()(vt()(t),"toggleMenu",(function(){t.setState(Bt)})),l()(vt()(t),"_handleActiveIndexChange",(function(e){t.setState((function(t){return{activeIndex:e,activeItem:e>=0?t.activeItem:void 0}}))})),l()(vt()(t),"_handleActiveItemChange",(function(e){k()(e,t.state.activeItem)||t.setState({activeItem:e})})),l()(vt()(t),"_handleBlur",(function(e){e.persist(),t.setState({isFocused:!1},(function(){return t.props.onBlur(e)}))})),l()(vt()(t),"_handleChange",(function(e){t.props.onChange&&t.props.onChange(e)})),l()(vt()(t),"_handleClear",(function(){t.inputNode&&function(t,e){var n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");n&&n.set&&n.set.call(t,e);var r=new Event("input",{bubbles:!0});t.dispatchEvent(r)}(t.inputNode,""),t.setState(zt,(function(){t.props.multiple&&t._handleChange([])}))})),l()(vt()(t),"_handleClick",(function(e){var n;e.persist();var r=null===(n=t.props.inputProps)||void 0===n?void 0:n.onClick;t.setState(Nt,(function(){return _(r)&&r(e)}))})),l()(vt()(t),"_handleFocus",(function(e){e.persist(),t.setState(Nt,(function(){return t.props.onFocus(e)}))})),l()(vt()(t),"_handleInitialItemChange",(function(e){k()(e,t.state.initialItem)||t.setState({initialItem:e})})),l()(vt()(t),"_handleInputChange",(function(e){e.persist();var n=e.currentTarget.value,r=t.props,i=r.multiple,o=r.onInputChange,a=t.state.selected.length&&!i;t.setState((function(t,e){var r=Lt(e),i=r.activeIndex,o=r.activeItem,s=r.shownResults;return{activeIndex:i,activeItem:o,selected:a?[]:t.selected,showMenu:!0,shownResults:s,text:n}}),(function(){o(n,e),a&&t._handleChange([])}))})),l()(vt()(t),"_handleKeyDown",(function(e){var n=t.state.activeItem;if(!t.isMenuShown)return"ArrowUp"!==e.key&&"ArrowDown"!==e.key||t.setState({showMenu:!0}),void t.props.onKeyDown(e);switch(e.key){case"ArrowUp":case"ArrowDown":e.preventDefault(),t._handleActiveIndexChange(function(t,e,n){var r=t;return(r=tt(r+="ArrowUp"===e?-1:1,e,n))===n.length?r=-1:-2===r&&(r=tt(r=n.length-1,e,n)),r}(t.state.activeIndex,e.key,t.items));break;case"Enter":e.preventDefault(),n&&t._handleMenuItemSelect(n,e);break;case"Escape":case"Tab":t.hideMenu()}t.props.onKeyDown(e)})),l()(vt()(t),"_handleMenuItemSelect",(function(e,n){M(e,"paginationOption")?t._handlePaginate(n):t._handleSelectionAdd(e)})),l()(vt()(t),"_handlePaginate",(function(e){e.persist(),t.setState((function(t,e){return{shownResults:t.shownResults+e.maxResults}}),(function(){return t.props.onPaginate(e,t.state.shownResults)}))})),l()(vt()(t),"_handleSelectionAdd",(function(e){var n,r,i,o=t.props,a=o.multiple,s=o.labelKey,l=e;!b(l)&&l.customOption&&(l=Ht(Ht({},l),{},{id:(i="new-id-",v+=1,(null==i?"":String(i))+v)})),a?(n=t.state.selected.concat(l),r=""):(n=[l],r=S(l,s)),t.setState((function(t,e){return Ht(Ht({},Ft(t,e)),{},{initialItem:l,selected:n,text:r})}),(function(){return t._handleChange(n)}))})),l()(vt()(t),"_handleSelectionRemove",(function(e){var n=t.state.selected.filter((function(t){return!k()(t,e)}));t.focus(),t.setState((function(t,e){return Ht(Ht({},Ft(t,e)),{},{selected:n})}),(function(){return t._handleChange(n)}))})),t}return gt()(n,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus()}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.labelKey,i=n.multiple,o=n.selected;!function(t,e){var n,r,i,o=!t&&e;o?(n="uncontrolled",r="controlled",i="an"):(n="controlled",r="uncontrolled",i="a"),R(!(o||t&&!e),"You are changing ".concat(i," ").concat(n," typeahead to be ").concat(r,". ")+"Input elements should not switch from ".concat(n," to ").concat(r," (or vice versa). ")+"Decide between using a controlled or uncontrolled element for the lifetime of the component.")}(o,t.selected),o&&!k()(o,e.selected)&&(this.setState({selected:o}),i||this.setState({text:o.length?S(o[0],r):""}))}},{key:"render",value:function(){var t=this.props,e=(t.onChange,Ht(Ht({},c()(t,Ut)),this.state)),n=e.filterBy,r=e.labelKey,o=e.options,s=e.paginate,u=e.shownResults,h=e.text;this.isMenuShown=function(t){var e=t.open,n=t.minLength,r=t.showMenu,i=t.text;return e||!1===e?e:!(i.length<n)&&r}(e),this.items=[];var p=[];if(this.isMenuShown){var f=_(n)?n:z;p=o.filter((function(t){return f(t,e)}));var d,m=s&&p.length>u;if(p=$(p,u),E(p,e)&&p.push(l()({customOption:!0},g(r),h)),m)p.push((d={},l()(d,g(r),""),l()(d,"paginationOption",!0),d))}return a.a.createElement(Dt,i()({},e,{hideMenu:this.hideMenu,inputNode:this.inputNode,inputRef:this.inputRef,isMenuShown:this.isMenuShown,onActiveItemChange:this._handleActiveItemChange,onAdd:this._handleSelectionAdd,onBlur:this._handleBlur,onChange:this._handleInputChange,onClear:this._handleClear,onClick:this._handleClick,onFocus:this._handleFocus,onHide:this.hideMenu,onInitialItemChange:this._handleInitialItemChange,onKeyDown:this._handleKeyDown,onMenuItemClick:this._handleMenuItemSelect,onRemove:this._handleSelectionRemove,results:p,setItem:this.setItem,toggleMenu:this.toggleMenu}))}}]),n}(a.a.Component);l()(Yt,"propTypes",qt),l()(Yt,"defaultProps",Kt);var Zt=Yt,Gt=["className","label","onClick","onKeyDown","size"],Xt={label:p.a.string,onClick:p.a.func,onKeyDown:p.a.func,size:ut},Jt=function(t){var e=t.className,n=t.label,r=void 0===n?"Clear":n,o=t.onClick,s=t.onKeyDown,l=t.size,u=c()(t,Gt);return a.a.createElement("button",i()({},u,{"aria-label":r,className:W()("close","btn-close","rbt-close",{"rbt-close-lg":nt(l),"rbt-close-sm":rt(l)},e),onClick:function(t){t.stopPropagation(),o&&o(t)},onKeyDown:function(t){"Backspace"===t.key&&t.preventDefault(),s&&s(t)},type:"button"}),a.a.createElement("span",{"aria-hidden":"true",className:"rbt-close-content"},"\xd7"),a.a.createElement("span",{className:"sr-only visually-hidden"},r))};Jt.propTypes=Xt;var $t=Jt,Qt={label:p.a.string},te=function(t){var e=t.label,n=void 0===e?"Loading...":e;return a.a.createElement("div",{className:"rbt-loader spinner-border spinner-border-sm",role:"status"},a.a.createElement("span",{className:"sr-only visually-hidden"},n))};te.propTypes=Qt;var ee=te,ne=n(85),re=n.n(ne),ie=n(165);function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var se={enabled:!0,fn:function(t){t.state.styles.popper.width="".concat(t.state.rects.reference.width,"px")},name:"setPopperWidth",phase:"write"};function le(t){var e=[{enabled:!!t.flip,name:"flip"}];return"right"!==t.align&&"left"!==t.align&&e.push(se),e}function ue(t){var e="right"===t.align?"end":"start",n=t.dropup?"top":"bottom";return"".concat(n,"-").concat(e)}var ce=function(t,e){var n=Object(o.useState)(null),r=re()(n,2),i=r[0],a=r[1],s=Object(ie.a)(t,i,{modifiers:le(e),placement:ue(e),strategy:e.positionFixed?"fixed":"absolute"}),l=s.attributes,u=s.styles,c=s.forceUpdate,h=null===t||void 0===t?void 0:t.offsetHeight;return Object(o.useEffect)((function(){c&&c()}),[h]),ae(ae({},l.popper),{},{innerRef:a,style:u.popper})},he=["referenceElement","isMenuShown"],pe="undefined"===typeof Element?x:Element,fe={align:p.a.oneOf(["justify","left","right"]),children:p.a.func.isRequired,dropup:p.a.bool,flip:p.a.bool,isMenuShown:p.a.bool,positionFixed:p.a.bool,referenceElement:p.a.instanceOf(pe)},de=function(t){var e=t.referenceElement,n=t.isMenuShown,r=c()(t,he),i=ce(e,r);return n?r.children(i):null};de.propTypes=fe;var me=de,ge=n(84),ye=n(39),ve=n(25),_e=n(42),be=n(17),xe=n.n(be);var we=function(t){return Object(_e.a)(function(t){return t&&"setState"in t?xe.a.findDOMNode(t):null!=t?t:null}(t))},Se=function(){};var Ee=function(t){return t&&("current"in t?t.current:t)};var Oe=function(t,e,n){var r=void 0===n?{}:n,i=r.disabled,a=r.clickTrigger,s=void 0===a?"click":a,l=Object(o.useRef)(!1),u=e||Se,c=Object(o.useCallback)((function(e){var n,r,i=Ee(t);D()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!i||!!((r=e).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(t){return 0===t.button}(e)||!!Object(ge.a)(i,null!=(n=null==e.composedPath?void 0:e.composedPath()[0])?n:e.target)}),[t]),h=Object(ve.a)((function(t){l.current||u(t)})),p=Object(ve.a)((function(t){27===t.keyCode&&u(t)}));Object(o.useEffect)((function(){if(!i&&null!=t){var e=window.event,n=we(Ee(t)),r=Object(ye.a)(n,s,c,!0),o=Object(ye.a)(n,s,(function(t){t!==e?h(t):e=void 0})),a=Object(ye.a)(n,"keyup",(function(t){t!==e?p(t):e=void 0})),l=[];return"ontouchstart"in n.documentElement&&(l=[].slice.call(n.body.children).map((function(t){return Object(ye.a)(t,"mousemove",Se)}))),function(){r(),o(),a(),l.forEach((function(t){return t()}))}}}),[t,i,s,c,h,p])};var ke=function(t,e){var n=Object(o.useRef)(null);return Oe(n.current,t,e),n},Me=["children","onRootClose"];var Ce=function(t){var e=t.children,n=t.onRootClose,r=c()(t,Me);return e(ke(n,r))},Te=["onBlur","onClick","onFocus","onRemove","option"];function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}p.a.func,p.a.func,p.a.func,p.a.func,pt.isRequired;function Ie(t){var e=t.onBlur,n=t.onClick,r=t.onFocus,i=t.onRemove,a=t.option,s=c()(t,Te),l=Object(o.useState)(!1),u=re()(l,2),h=u[0],p=u[1],f=Object(o.useState)(null),d=re()(f,2),m=d[0],g=d[1],y=function(t){p(!1),e&&e(t)},v=function(){i&&i(a)};return Oe(m,y,Ae(Ae({},s),{},{disabled:!h})),{active:h,onBlur:y,onClick:function(t){p(!0),n&&n(t)},onFocus:function(t){p(!0),r&&r(t)},onKeyDown:function(t){"Backspace"===t.key&&h&&(t.preventDefault(),v())},onRemove:_(i)?v:void 0,ref:g}}var De=["active","children","className","onRemove","tabIndex"],je=["children","option","readOnly"],Re=["ref"];function Le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ne=Object(o.forwardRef)((function(t,e){var n=t.active,r=t.children,o=t.className,s=t.onRemove,l=t.tabIndex,u=c()(t,De);return a.a.createElement("div",i()({},u,{className:W()("rbt-token","rbt-token-removeable",{"rbt-token-active":!!n},o),ref:e,tabIndex:l||0}),r,a.a.createElement($t,{className:"rbt-token-remove-button",label:"Remove",onClick:s,tabIndex:-1}))})),Fe=function(t){var e=t.children,n=t.className,r=t.disabled,i=t.href,o=W()("rbt-token",{"rbt-token-disabled":r},n);return i&&!r?a.a.createElement("a",{className:o,href:i},e):a.a.createElement("div",{className:o},e)},Be=function(t){var e=t.children,n=t.option,r=t.readOnly,o=c()(t,je),s=Ie(ze(ze({},o),{},{option:n})),l=s.ref,u=c()(s,Re),h=a.a.createElement("div",{className:"rbt-token-label"},e);return o.disabled||r||!_(u.onRemove)?a.a.createElement(Fe,o,h):a.a.createElement(Ne,i()({},o,u,{ref:l}),h)};function Ue(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n&&(n=n.replace(n[0],n[0].toUpperCase())),["Top","Right","Bottom","Left"].map((function(r){return t["".concat(e).concat(r).concat(n)]})).join(" ")}var Ve=function(){var t=Mt(),e=t.hintText,n=t.inputNode,r=Object(o.useRef)(null);return Object(o.useEffect)((function(){n&&r.current&&function(t,e){var n=window.getComputedStyle(t);e.style.borderStyle=Ue(n,"border","style"),e.style.borderWidth=Ue(n,"border","width"),e.style.fontSize=n.fontSize,e.style.fontWeight=n.fontWeight,e.style.height=n.height,e.style.lineHeight=n.lineHeight,e.style.margin=Ue(n,"margin"),e.style.padding=Ue(n,"padding")}(n,r.current)})),{hintRef:r,hintText:e}},He=function(t){var e=t.children,n=t.className,r=Ve(),i=r.hintRef,o=r.hintText;return a.a.createElement("div",{className:n,style:{display:"flex",flex:1,height:"100%",position:"relative"}},e,a.a.createElement("input",{"aria-hidden":!0,className:"rbt-input-hint",ref:i,readOnly:!0,style:{backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none",color:"rgba(0, 0, 0, 0.54)",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"},tabIndex:-1,value:o}))},We=Object(o.forwardRef)((function(t,e){return a.a.createElement("input",i()({},t,{className:W()("rbt-input-main",t.className),ref:e}))})),qe=["children","className","inputClassName","inputRef","referenceElementRef","selected"];var Ke=function(t){var e=a.a.useRef(null),n=a.a.useRef(null),r=st(t),o=r.children,s=r.className,l=r.inputClassName,u=(r.inputRef,r.referenceElementRef),h=r.selected,p=c()(r,qe);function f(e){if(t.disabled)e.currentTarget.blur();else{var r=n.current;!r||e.currentTarget.contains(e.target)&&e.currentTarget!==e.target||(N(r)&&(r.selectionStart=r.value.length),r.focus())}}return a.a.createElement("div",{className:W()("rbt-input-multi",{disabled:t.disabled},s),onClick:f,onFocus:f,ref:u,tabIndex:-1},a.a.createElement("div",{className:"rbt-input-wrapper",ref:e},o,a.a.createElement(He,null,a.a.createElement(We,i()({},p,{className:l,onKeyDown:function(n){if("Backspace"===n.key&&h.length&&!t.value){var r;n.preventDefault();var i=null===(r=e.current)||void 0===r?void 0:r.children;if(null!==i&&void 0!==i&&i.length){var o=i[i.length-2];null===o||void 0===o||o.focus()}}t.onKeyDown&&t.onKeyDown(n)},ref:function(e){n.current=e,t.inputRef(e)},style:{backgroundColor:"transparent",border:0,boxShadow:"none",cursor:"inherit",outline:"none",padding:0,width:"100%",zIndex:1}})))))},Ye=["inputRef","referenceElementRef"],Ze=function(t){var e=t.inputRef,n=t.referenceElementRef,r=c()(t,Ye);return a.a.createElement(He,null,a.a.createElement(We,i()({},st(r),{ref:function(t){e(t),n(t)}})))},Ge={children:p.a.string.isRequired,highlightClassName:p.a.string,search:p.a.string.isRequired},Xe=function(t){var e=t.children,n=t.highlightClassName,r=void 0===n?"rbt-highlight-text":n,i=t.search;if(!i||!e)return a.a.createElement(a.a.Fragment,null,e);for(var o=0,s=e,l=[];s;){var u=U(s,i);if(!u){l.push(s);break}var c=s.slice(0,u.start);c&&l.push(c);var h=s.slice(u.start,u.end);l.push(a.a.createElement("mark",{className:r,key:o},h)),o+=1,s=s.slice(u.end)}return a.a.createElement(a.a.Fragment,null,l)};Xe.propTypes=Ge;var Je=Xe;const $e=t=>"object"==typeof t&&null!=t&&1===t.nodeType,Qe=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,tn=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return Qe(n.overflowY,e)||Qe(n.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},en=(t,e,n,r,i,o,a,s)=>o<t&&a>e||o>t&&a<e?0:o<=t&&s<=n||a>=e&&s>=n?o-t-r:a>e&&s<n||o<t&&s>n?a-e+i:0,nn=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},rn=(t,e)=>{var n,r,i,o;if("undefined"==typeof document)return[];const{scrollMode:a,block:s,inline:l,boundary:u,skipOverflowHiddenElements:c}=e,h="function"==typeof u?u:t=>t!==u;if(!$e(t))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,f=[];let d=t;for(;$e(d)&&h(d);){if(d=nn(d),d===p){f.push(d);break}null!=d&&d===document.body&&tn(d)&&!tn(document.documentElement)||null!=d&&tn(d,c)&&f.push(d)}const m=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,g=null!=(o=null==(i=window.visualViewport)?void 0:i.height)?o:innerHeight,{scrollX:y,scrollY:v}=window,{height:_,width:b,top:x,right:w,bottom:S,left:E}=t.getBoundingClientRect(),{top:O,right:k,bottom:M,left:C}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let T="start"===s||"nearest"===s?x-O:"end"===s?S+M:x+_/2-O+M,P="center"===l?E+b/2-C+k:"end"===l?w+k:E-C;const A=[];for(let I=0;I<f.length;I++){const t=f[I],{height:e,width:n,top:r,right:i,bottom:o,left:u}=t.getBoundingClientRect();if("if-needed"===a&&x>=0&&E>=0&&S<=g&&w<=m&&x>=r&&S<=o&&E>=u&&w<=i)return A;const c=getComputedStyle(t),h=parseInt(c.borderLeftWidth,10),d=parseInt(c.borderTopWidth,10),O=parseInt(c.borderRightWidth,10),k=parseInt(c.borderBottomWidth,10);let M=0,C=0;const D="offsetWidth"in t?t.offsetWidth-t.clientWidth-h-O:0,j="offsetHeight"in t?t.offsetHeight-t.clientHeight-d-k:0,R="offsetWidth"in t?0===t.offsetWidth?0:n/t.offsetWidth:0,L="offsetHeight"in t?0===t.offsetHeight?0:e/t.offsetHeight:0;if(p===t)M="start"===s?T:"end"===s?T-g:"nearest"===s?en(v,v+g,g,d,k,v+T,v+T+_,_):T-g/2,C="start"===l?P:"center"===l?P-m/2:"end"===l?P-m:en(y,y+m,m,h,O,y+P,y+P+b,b),M=Math.max(0,M+v),C=Math.max(0,C+y);else{M="start"===s?T-r-d:"end"===s?T-o+k+j:"nearest"===s?en(r,o,e,d,k+j,T,T+_,_):T-(r+e/2)+j/2,C="start"===l?P-u-h:"center"===l?P-(u+n/2)+D/2:"end"===l?P-i+O+D:en(u,i,n,h,O+D,P,P+b,b);const{scrollLeft:a,scrollTop:c}=t;M=0===L?0:Math.max(0,Math.min(c+M/L,t.scrollHeight-e/L+j)),C=0===R?0:Math.max(0,Math.min(a+C/R,t.scrollWidth-n/R+D)),T+=c-M,P+=a-C}A.push({el:t,top:M,left:C})}return A},on=t=>!1===t?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&0!==Object.keys(t).length)(t)?t:{block:"start",inline:"nearest"};var an=["label","onClick","option","position"];function sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}pt.isRequired,p.a.number;function un(t){var e=t.label,n=t.onClick,r=t.option,i=t.position,a=c()(t,an),s=Mt(),l=s.activeIndex,u=s.id,h=s.isOnlyResult,p=s.onActiveItemChange,f=s.onInitialItemChange,d=s.onMenuItemClick,m=s.setItem,g=Object(o.useRef)(null);Object(o.useEffect)((function(){0===i&&f(r)})),Object(o.useEffect)((function(){if(i===l){p(r);var t=g.current;t&&function(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const n=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if("object"==typeof(r=e)&&"function"==typeof r.behavior)return e.behavior(rn(t,e));var r;const i="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:o,top:a,left:s}of rn(t,on(e))){const t=a-n.top+n.bottom,e=s-n.left+n.right;o.scroll({top:t,left:e,behavior:i})}}(t,{boundary:t.parentNode,scrollMode:"if-needed"})}}),[l,p,r,i]);var y=Object(o.useCallback)((function(t){d(r,t),n&&n(t)}),[n,d,r]),v=h||l===i;return m(r,i),ln(ln({},a),{},{active:v,"aria-label":e,"aria-selected":v,id:q(u,i),onClick:y,onMouseDown:et,ref:g,role:"option"})}var cn=["active","children","className","disabled","onClick"],hn=Object(o.forwardRef)((function(t,e){var n=t.active,r=t.children,o=t.className,s=t.disabled,l=t.onClick,u=c()(t,cn);return a.a.createElement("a",i()({},u,{className:W()("dropdown-item",{active:n,disabled:s},o),href:u.href||"#",onClick:function(t){t.preventDefault(),!s&&l&&l(t)},ref:e}),r)}));function pn(t){return a.a.createElement(hn,un(t))}var fn=["emptyLabel","innerRef","maxHeight","style"];function dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gn={"aria-label":p.a.string,emptyLabel:p.a.node,id:ct(p.a.oneOfType([p.a.number,p.a.string]),ht),maxHeight:p.a.string},yn=function(t){var e=t.emptyLabel,n=void 0===e?"No matches found.":e,r=t.innerRef,s=t.maxHeight,l=void 0===s?"300px":s,u=t.style,h=c()(t,fn),p=0===o.Children.count(h.children)?a.a.createElement(hn,{disabled:!0,role:"option"},n):h.children;return a.a.createElement("div",i()({},h,{"aria-label":h["aria-label"]||"menu-options",className:W()("rbt-menu","dropdown-menu","show",h.className),onMouseDown:et,ref:r,role:"listbox",style:mn(mn({},u),{},{display:"block",maxHeight:l,overflow:"auto"})}),p)};yn.propTypes=gn,yn.Divider=function(){return a.a.createElement("div",{className:"dropdown-divider",role:"separator"})},yn.Header=function(t){return a.a.createElement("div",i()({},t,{className:"dropdown-header",role:"heading"}))};var vn=yn,_n=["labelKey","newSelectionPrefix","options","paginationText","renderMenuItemChildren","text"],bn={newSelectionPrefix:p.a.node,paginationText:p.a.node,renderMenuItemChildren:p.a.func};function xn(t,e){return a.a.createElement(Je,{search:e.text},S(t,e.labelKey))}var wn=function(t){var e=t.labelKey,n=t.newSelectionPrefix,r=void 0===n?"New selection: ":n,o=t.options,s=t.paginationText,l=void 0===s?"Display additional results...":s,u=t.renderMenuItemChildren,h=void 0===u?xn:u,p=t.text,f=c()(t,_n);return a.a.createElement(vn,i()({},f,{key:p}),o.map((function(n,o){var s=S(n,e),u={disabled:!!M(n,"disabled"),label:s,option:n,position:o};return M(n,"customOption")?a.a.createElement(pn,i()({},u,{className:"rbt-menu-custom-option",key:o,label:s}),r,a.a.createElement(Je,{search:p},s)):M(n,"paginationOption")?a.a.createElement(a.a.Fragment,{key:"pagination-option-divider"},a.a.createElement(vn.Divider,null),a.a.createElement(pn,i()({},u,{className:"rbt-menu-pagination-option",label:b(l)?l:""}),l)):a.a.createElement(pn,i()({},u,{key:o}),h(n,t,o))})))};wn.propTypes=bn;var Sn=wn;function En(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Et()(t);if(e){var i=Et()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wt()(this,n)}}var Mn={clearButton:p.a.bool,inputProps:ct(p.a.object,(function(t){var e=t.inputProps;e&&"[object Object]"===Object.prototype.toString.call(e)&&lt.forEach((function(t){var n=t.alt,r=t.prop,i=n?" Use the top-level `".concat(n,"` prop instead."):null;R(!e[r],"The `".concat(r,"` property of `inputProps` will be ignored.").concat(i))}))})),isInvalid:p.a.bool,isLoading:p.a.bool,isValid:p.a.bool,renderInput:p.a.func,renderMenu:p.a.func,renderToken:p.a.func,size:ut},Cn=function(t,e,n){return a.a.createElement(Sn,i()({},e,{labelKey:n.labelKey,options:t,text:n.text}))},Tn=function(t,e,n){return a.a.createElement(Be,{disabled:e.disabled,key:n,onRemove:e.onRemove,option:t,tabIndex:e.tabIndex},S(t,e.labelKey))},Pn=["align","dropup","flip","positionFixed"];var An=function(t){bt()(n,t);var e=kn(n);function n(){var t;dt()(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o)),l()(vt()(t),"_referenceElement",null),l()(vt()(t),"referenceElementRef",(function(e){t._referenceElement=e})),l()(vt()(t),"_renderInput",(function(e,n){var r=t.props,o=r.isInvalid,s=r.isValid,l=r.multiple,u=r.renderInput,c=r.renderToken,h=r.size;if(_(u))return u(e,n);var p=On(On({},e),{},{isInvalid:o,isValid:s,size:h});if(!l)return a.a.createElement(Ze,p);var f=n.labelKey,d=n.onRemove,m=n.selected;return a.a.createElement(Ke,i()({},p,{placeholder:m.length?"":e.placeholder,selected:m}),m.map((function(t,e){return(c||Tn)(t,On(On({},p),{},{labelKey:f,onRemove:d}),e)})))})),l()(vt()(t),"_renderMenu",(function(e,n,r){var i=t.props,o=i.emptyLabel,a=i.id,s=i.maxHeight,l=i.newSelectionPrefix,u=i.paginationText,c=i.renderMenu,h=i.renderMenuItemChildren;return(c||Cn)(e,On(On({},n),{},{emptyLabel:o,id:a,maxHeight:s,newSelectionPrefix:l,paginationText:u,renderMenuItemChildren:h}),r)})),l()(vt()(t),"_renderAux",(function(e){var n,r=e.onClear,i=e.selected,o=t.props,s=o.clearButton,l=o.disabled,u=o.isLoading,c=o.size;return u?n=a.a.createElement(ee,null):s&&!l&&i.length&&(n=a.a.createElement($t,{onClick:r,onMouseDown:et,size:c})),n?a.a.createElement("div",{className:W()("rbt-aux",{"rbt-aux-lg":nt(c)})},n):null})),t}return gt()(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,o=e.instanceRef,s=e.open,l=e.options,u=e.style;return a.a.createElement(Zt,i()({},this.props,{options:l,ref:o}),(function(e){var o=e.hideMenu,l=e.isMenuShown,c=e.results,h=t._renderAux(e);return a.a.createElement(Ce,{disabled:s||!l,onRootClose:o},(function(o){return a.a.createElement("div",{className:W()("rbt",{"has-aux":!!h,"is-invalid":t.props.isInvalid,"is-valid":t.props.isValid},r),ref:o,style:On(On({},u),{},{outline:"none",position:"relative"}),tabIndex:-1},t._renderInput(On(On({},e.getInputProps(t.props.inputProps)),{},{referenceElementRef:t.referenceElementRef}),e),a.a.createElement(me,i()({},function(t){return w(t,Pn)}(t.props),{isMenuShown:l,referenceElement:t._referenceElement}),(function(n){return t._renderMenu(c,n,e)})),h,_(n)?n(e):n)}))}))}}]),n}(a.a.Component);l()(An,"propTypes",Mn),l()(An,"defaultProps",{isLoading:!1});var In=Object(o.forwardRef)((function(t,e){return a.a.createElement(An,i()({},t,{instanceRef:e}))}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return Mt}));var r=n(20),i=n(1),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},a={onResize:"resize",onDblClick:"dblclick",onClick:"click",onMouseMove:"mousemove",onMouseOut:"mouseout",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onMouseUp:"mouseup",onMouseDown:"mousedown",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onPitch:"pitch",onPitchStart:"pitchstart",onPitchEnd:"pitchend",onWebGlContextLost:"webglcontextlost",onWebGlContextRestored:"webglcontextrestored",onRemove:"remove",onContextMenu:"contextmenu",onRender:"render",onError:"error",onSourceData:"sourcedata",onDataLoading:"dataloading",onStyleDataLoading:"styledataloading",onStyleImageMissing:"styleimagemissing",onTouchCancel:"touchcancel",onData:"data",onSourceDataLoading:"sourcedataloading",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onStyleData:"styledata",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onBoxZoomCancel:"boxzoomcancel",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend"},s=function(t,e,n){return Object.keys(t).reduce((function(r,i){var o=e[i];if(o){var a=function(t){o(n,t)};n.on(t[i],a),r[i]=a}return r}),{})},l=function(){return l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},l.apply(this,arguments)},u=i.createContext(void 0);function c(t){return function(e){return i.createElement(u.Consumer,null,(function(n){return i.createElement(t,l({map:n},e))}))}}var h=n(17),p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(){return f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},f.apply(this,arguments)},d=n(61),m=[11],g="flyTo",y=[-.2416815,51.5285582],v=function(t){var e,n=t.accessToken,l=t.apiUrl,c=t.minZoom,v=void 0===c?0:c,_=t.maxZoom,b=void 0===_?20:_,x=t.hash,w=void 0!==x&&x,S=t.preserveDrawingBuffer,E=void 0!==S&&S,O=t.scrollZoom,k=void 0===O||O,M=t.interactive,C=void 0===M||M,T=t.dragRotate,P=void 0===T||T,A=t.pitchWithRotate,I=void 0===A||A,D=t.attributionControl,j=void 0===D||D,R=t.customAttribution,L=t.logoPosition,z=void 0===L?"bottom-left":L,N=t.renderWorldCopies,F=void 0===N||N,B=t.trackResize,U=void 0===B||B,V=t.touchZoomRotate,H=void 0===V||V,W=t.doubleClickZoom,q=void 0===W||W,K=t.keyboard,Y=void 0===K||K,Z=t.dragPan,G=void 0===Z||Z,X=t.boxZoom,J=void 0===X||X,$=t.refreshExpiredTiles,Q=void 0===$||$,tt=t.failIfMajorPerformanceCaveat,et=void 0!==tt&&tt,nt=t.bearingSnap,rt=void 0===nt?7:nt,it=t.antialias,ot=void 0!==it&&it,at=t.mapInstance,st=t.transformRequest;return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={map:at,ready:!1},e.listeners={},e._isMounted=!0,e.calcCenter=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},e.setRef=function(t){e.container=t},e}return p(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,i=e.style,o=e.onStyleLoad,u=e.center,c=e.pitch,h=e.zoom,p=e.fitBounds,f=e.fitBoundsOptions,d=e.bearing,m=e.maxBounds;if(r.accessToken=n,l&&(r.config.API_URL=l),!Array.isArray(h))throw new Error("zoom need to be an array type of length 1 for reliable update");var g={preserveDrawingBuffer:E,hash:w,zoom:h[0],minZoom:v,maxZoom:b,maxBounds:m,container:this.container,center:p&&u===y?this.calcCenter(p):u,style:i,scrollZoom:k,attributionControl:j,customAttribution:R,interactive:C,dragRotate:P,pitchWithRotate:I,renderWorldCopies:F,trackResize:U,touchZoomRotate:H,doubleClickZoom:q,keyboard:Y,dragPan:G,boxZoom:J,refreshExpiredTiles:Q,logoPosition:z,bearingSnap:rt,failIfMajorPerformanceCaveat:et,antialias:ot,transformRequest:st};if(d){if(!Array.isArray(d))throw new Error("bearing need to be an array type of length 1 for reliable update");g.bearing=d[0]}if(c){if(!Array.isArray(c))throw new Error("pitch need to be an array type of length 1 for reliable update");g.pitch=c[0]}var _=this.state.map;_||(_=new r.Map(g),this.setState({map:_})),p&&_.fitBounds(p,f,{fitboundUpdate:!0}),_.on("load",(function(e){t._isMounted&&t.setState({ready:!0}),o&&o(_,e)})),this.listeners=s(a,this.props,_)},e.prototype.componentWillUnmount=function(){var t=this.state.map;this._isMounted=!1,t&&t.remove()},e.prototype.componentDidUpdate=function(t){var e=this,n=this.state.map;if(!n)return null;this.listeners=function(t,e,n){Object.keys(a).filter((function(n){return t[n]&&"function"!==typeof e[n]})).forEach((function(e){n.off(a[e],t[e]),delete t[e]}));var r=Object.keys(a).filter((function(n){return!t[n]&&"function"===typeof e[n]})).reduce((function(t,e){return t[e]=a[e],t}),{}),i=s(r,e,n);return o({},t,i)}(this.listeners,this.props,n);var r=n.getCenter(),i=n.getZoom(),l=n.getBearing(),u=n.getPitch(),c=t.zoom!==this.props.zoom&&(this.props.zoom&&this.props.zoom[0])!==i,h=t.center!==this.props.center&&((this.props.center&&this.props.center[0])!==r.lng||(this.props.center&&this.props.center[1])!==r.lat),p=t.bearing!==this.props.bearing&&(this.props.bearing&&this.props.bearing[0])!==l,m=t.pitch!==this.props.pitch&&(this.props.pitch&&this.props.pitch[0])!==u;this.props.maxBounds&&(t.maxBounds!==this.props.maxBounds&&n.setMaxBounds(this.props.maxBounds));if(this.props.fitBounds){var y=t.fitBounds;!(y!==this.props.fitBounds||this.props.fitBounds.length!==(y&&y.length)||!!y.filter((function(t,n){var r=e.props.fitBounds&&e.props.fitBounds[n];return t[0]!==(r&&r[0])||t[1]!==(r&&r[1])}))[0])&&d(t.fitBoundsOptions,this.props.fitBoundsOptions)||n.fitBounds(this.props.fitBounds,this.props.fitBoundsOptions,{fitboundUpdate:!0})}if(c||h||p||m){var v=this.props.movingMethod||g,_=this.props,b=_.flyToOptions,x=_.animationOptions;n[v](f({},x,b,{zoom:c&&this.props.zoom?this.props.zoom[0]:i,center:h?this.props.center:r,bearing:p?this.props.bearing:l,pitch:m?this.props.pitch:u}))}return d(t.style,this.props.style)||n.setStyle(this.props.style),null},e.prototype.render=function(){var t=this.props,e=t.containerStyle,n=t.className,r=t.children,o=t.renderChildrenInPortal,a=this.state,s=a.ready,l=a.map;if(o){var c=s&&l&&"function"===typeof l.getCanvasContainer?l.getCanvasContainer():void 0;return i.createElement(u.Provider,{value:l},i.createElement("div",{ref:this.setRef,className:n,style:f({},e)},s&&c&&Object(h.createPortal)(r,c)))}return i.createElement(u.Provider,{value:l},i.createElement("div",{ref:this.setRef,className:n,style:f({},e)},s&&r))},e}(i.Component),e.defaultProps={onStyleLoad:function(t,e){return null},center:y,zoom:m,bearing:0,movingMethod:g,pitch:0,containerStyle:{textAlign:"left"}},e},_=function(t,e){var n={};return Array.from(new Set(Object.keys(t).concat(Object.keys(e)))).map((function(r){t[r]!==e[r]&&(n[r]=e[r])})),n},b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(){return x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},x.apply(this,arguments)},w=n(61),S={touchstart:"onTouchStart",touchend:"onTouchEnd",touchcancel:"onTouchCancel",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick"},E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.source=x({type:"geojson"},e.props.geoJSONSourceOptions,{data:{type:"FeatureCollection",features:[]}}),e.geometry=function(t){switch(e.props.type){case"symbol":case"circle":default:return{type:"Point",coordinates:t};case"fill":return Array.isArray(t[0][0][0])?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t};case"line":return{type:"LineString",coordinates:t}}},e.makeFeature=function(t,n){return{type:"Feature",geometry:e.geometry(t.coordinates),properties:x({},t.properties,{id:n})}},e.initialize=function(){var t=e.props,n=t.type,r=t.layout,i=t.paint,o=t.sourceId,a=t.before,s=t.images,l=t.id,u=t.metadata,c=t.sourceLayer,h=t.minZoom,p=t.maxZoom,f=t.filter,d=e.props.map,m={id:l,source:o||l,type:n,layout:r,paint:i,metadata:u};(c&&(m["source-layer"]=c),h&&(m.minzoom=h),p&&(m.maxzoom=p),f&&(m.filter=f),s)&&(Array.isArray(s[0])?s:[s]).filter((function(t){return!d.hasImage(t[0])})).forEach((function(t){d.addImage(t[0],t[1],t[2])}));o||d.getSource(l)||d.addSource(l,e.source),d.getLayer(l)||d.addLayer(m,a),Object.entries(S).forEach((function(t){var n=t[0],r=t[1],i=e.props[r];i&&d.on(n,l,i)}))},e.onStyleDataChange=function(){e.props.map.getLayer(e.props.id)||(e.initialize(),e.forceUpdate())},e.getChildren=function(){var t=e.props.children;return t?Array.isArray(t)?t.reduce((function(t,e){return t.concat(e)}),[]):[t]:[]},e}return b(e,t),e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this,e=this.props.map,n=this.props,r=n.images,i=n.id;e&&e.getStyle()&&(e.off("styledata",this.onStyleDataChange),Object.entries(S).forEach((function(n){var r=n[0],o=n[1],a=t.props[o];a&&e.off(r,i,a)})),e.getLayer(i)&&e.removeLayer(i),this.props.sourceId||e.removeSource(i),r&&(Array.isArray(r[0])?r:[r]).map((function(t){var e=t[0];t.slice(1);return e})).forEach(e.removeImage.bind(e)))},e.prototype.componentDidUpdate=function(t){var e=this,n=t.paint,r=t.layout,i=t.before,o=t.filter,a=t.id,s=t.minZoom,l=t.maxZoom,u=t.map;if(!w(this.props.paint,n)){var c=_(n,this.props.paint);Object.keys(c).forEach((function(t){u.setPaintProperty(a,t,c[t])}))}if(!w(this.props.layout,r)){var h=_(r,this.props.layout);Object.keys(h).forEach((function(t){u.setLayoutProperty(a,t,h[t])}))}w(this.props.filter,o)||u.setFilter(a,this.props.filter),i!==this.props.before&&u.moveLayer(a,this.props.before),s===this.props.minZoom&&l===this.props.maxZoom||u.setLayerZoomRange(a,this.props.minZoom,this.props.maxZoom),Object.entries(S).forEach((function(n){var r=n[0],i=n[1],o=t[i],s=e.props[i];o!==s&&(o&&u.off(r,a,o),s&&u.on(r,a,s))}))},e.prototype.render=function(){var t=this,e=this.props.map,n=this.props,r=n.sourceId,i=n.draggedChildren,o=this.getChildren();if(i){var a=i.map((function(t){return t.key}));o=o.map((function(t){var e=a.indexOf(t.key);return-1!==e?i[e]:t}))}var s=o.map((function(e,n){var r=e.props;return t.makeFeature(r,n)})).filter(Boolean),l=e.getSource(r||this.props.id);return l&&!r&&l.setData&&l.setData({type:"FeatureCollection",features:s}),null},e.defaultProps={type:"symbol",layout:{},paint:{}},e}(i.Component),O=E,k=0,M=function(){return k+=1},C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(){return T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},T.apply(this,arguments)};var P=function(t){return function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.hover=[],t.draggedChildren=void 0,t.id=t.props.id||"layer-"+M(),t.getChildren=function(){return[].concat(t.props.children).filter((function(t){return"undefined"!==typeof t}))},t.getChildFromId=function(t,e){return t[e]},t.areFeaturesDraggable=function(e,n){return void 0===n&&(n=t.hover),!!n.map((function(n){return!!t.getChildFromId(e,n)&&t.getChildFromId(e,n).props.draggable})).filter(Boolean).length},t.onClick=function(e){var n=e.features,r=t.getChildren(),i=t.props.map;n&&n.forEach((function(n){var o=n.properties.id;if(r){var a=t.getChildFromId(r,o),s=a&&a.props.onClick;s&&s(T({},e,{feature:n,map:i}))}}))},t.onMouseEnter=function(e){var n=t.getChildren(),r=t.props.map;t.hover=[],e.features.forEach((function(i){var o=i.properties.id,a=t.getChildFromId(n,o);t.hover.push(o);var s=a&&a.props.onMouseEnter;s&&s(T({},e,{feature:i,map:r}))})),t.areFeaturesDraggable(n)&&r.dragPan.disable()},t.onMouseLeave=function(e){var n=t.getChildren(),r=t.props.map;t.areFeaturesDraggable(n)&&r.dragPan.enable(),t.hover.forEach((function(i){var o=t.getChildFromId(n,i),a=o&&o.props.onMouseLeave;a&&a(T({},e,{map:r}))})),t.draggedChildren||(t.hover=[])},t.onMouseDown=function(){t.hover.length&&t.onFeatureDown("mousedown")},t.onTouchStart=function(e){t.hover=e.features.map((function(t){return t.properties.id})),t.hover.length&&t.onFeatureDown("touchstart")},t.onFeatureDown=function(e){var n="mousedown"===e?"mousemove":"touchmove",r="mousedown"===e?"mouseup":"touchend",i=t.props.map;i.once(n,t.onFeatureDragStart),i.on(n,t.onFeatureDrag),i.once(r,(function(e){i.off(n,t.onFeatureDragStart),i.off(n,t.onFeatureDrag),t.onFeatureDragEnd(e)}))},t.onFeatureDragStart=function(e){var n=t.props.map,r=t.getChildren();t.hover.forEach((function(i){var o=t.getChildFromId(r,i);if(!o||o.props.draggable){var a=o&&o.props.onDragStart;a&&a(T({},e,{map:n}))}}))},t.onFeatureDrag=function(e){var n=t.getChildren(),r=t.props.map,o=e.lngLat,a=o.lng,s=o.lat;t.draggedChildren=[],t.hover.forEach((function(o){var l=t.getChildFromId(n,o),u=l&&l.props.onDrag;l&&l.props.draggable&&(t.draggedChildren.push(i.cloneElement(l,{coordinates:[a,s]})),u&&u(T({},e,{map:r})))})),t.forceUpdate()},t.onFeatureDragEnd=function(e){var n=t.props.map,r=t.getChildren();t.hover.forEach((function(i){var o=t.getChildFromId(r,i),a=o&&o.props.onDragEnd;a&&o.props.draggable&&t.draggedChildren&&a(T({},e,{map:n}))})),t.draggedChildren=void 0},t}return C(n,e),n.prototype.componentDidMount=function(){var t=this.props.map;t.on("click",this.id,this.onClick),t.on("mouseenter",this.id,this.onMouseEnter),t.on("mouseleave",this.id,this.onMouseLeave),t.on("mousedown",this.id,this.onMouseDown),t.on("touchstart",this.id,this.onTouchStart)},n.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("click",this.onClick),t.off("mouseenter",this.onMouseEnter),t.off("mouseleave",this.onMouseLeave),t.off("mousedown",this.onMouseDown),t.off("touchstart",this.onTouchStart)},n.prototype.render=function(){return i.createElement(t,T({},this.props,{id:this.id,map:this.props.map,draggedChildren:this.draggedChildren}))},n}(i.Component)},A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(){return I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},I.apply(this,arguments)},D=n(61),j=["symbol","line","fill","fill-extrusion","circle"],R=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()})).replace(/[\s+]|-/g,"")},L={mousemove:"OnMouseMove",mouseenter:"OnMouseEnter",mouseleave:"OnMouseLeave",mousedown:"OnMouseDown",mouseup:"OnMouseUp",click:"OnClick"},z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id||"geojson-"+M(),e.source=I({type:"geojson"},e.props.sourceOptions,{data:e.props.data}),e.layerIds=[],e.buildLayerId=function(t){return e.id+"-"+t},e.createLayer=function(t){var n=e.props,r=n.before,i=n.layerOptions,o=n.map,a=e.buildLayerId(t);e.layerIds.push(a);var s=e.props[R(t)+"Paint"]||{},l=Object.keys(s).length?"visible":"none",u=e.props[R(t)+"Layout"]||{visibility:l},c=I({id:a,source:e.id,type:t,paint:s,layout:u},i);o.addLayer(c,r),e.mapLayerMouseHandlers(t)},e.mapLayerMouseHandlers=function(t){var n=e.props.map,r=e.buildLayerId(t);Object.keys(L).forEach((function(i){var o=e.props[""+R(t)+L[i]]||null;o&&n.on(i,r,o)}))},e.onStyleDataChange=function(){e.props.map.getSource(e.id)||(e.unbind(),e.initialize(),e.forceUpdate())},e.isGeoJSONSource=function(t){return!!t&&"function"===typeof t.setData},e}return A(e,t),e.prototype.initialize=function(){this.props.map.addSource(this.id,this.source),this.createLayer("symbol"),this.createLayer("line"),this.createLayer("fill"),this.createLayer("fill-extrusion"),this.createLayer("circle")},e.prototype.unbind=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var n=e.getStyle().layers;n&&n.filter((function(e){return e.source===t.id})).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id)}j.forEach((function(n){Object.keys(L).forEach((function(r){var i=R(n)+L[r];t.props[i]&&e.off(r,t.buildLayerId(n),t.props[i])}))})),this.layerIds.forEach((function(t){e.getLayer(t)&&e.removeLayer(t)}))},e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.unbind())},e.prototype.componentDidUpdate=function(t){var e=this,n=t.data,r=t.before,i=t.layerOptions,o=t.map,a=o.getSource(this.id);if(this.isGeoJSONSource(a)){this.props.data!==n&&(a.setData(this.props.data),this.source=I({type:"geojson"},this.props.sourceOptions,{data:this.props.data}));var s=this.props.layerOptions&&i&&!D(this.props.layerOptions.filter,i.filter);j.forEach((function(n){var i=e.buildLayerId(n);e.props.layerOptions&&s&&o.setFilter(i,e.props.layerOptions.filter||[]);var a=R(n)+"Paint";if(!D(t[a],e.props[a])){var l=_(t[a],e.props[a]);Object.keys(l).forEach((function(t){o.setPaintProperty(i,t,l[t])}))}var u=R(n)+"Layout";if(!D(t[u],e.props[u])){var c=_(t[u],e.props[u]);Object.keys(c).forEach((function(t){o.setLayoutProperty(i,t,c[t])}))}Object.keys(L).forEach((function(r){var a=R(n)+L[r];t[a]!==e.props[a]&&(t[a]&&o.off(r,i,t[a]),e.props[a]&&o.on(r,i,e.props[a]))})),r!==e.props.before&&o.moveLayer(i,e.props.before)}))}},e.prototype.render=function(){return null},e}(i.Component),N=(c(z),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),F=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}N(e,t),e.prototype.render=function(){return null}}(i.Component),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),B=function(){return B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},B.apply(this,arguments)},U={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},V={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},H={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,backgroundImage:"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')",backgroundPosition:"0px 0px",backgroundSize:"26px 260px",outline:0},W={backgroundColor:"#fff",opacity:1},q={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2},K={backgroundPosition:"0px -26px",borderBottomLeftRadius:2,borderBottomRightRadius:2},Y=[0,1],Z=Y[0],G=Y[1],X=Object.keys(V),J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.onMouseOut=function(){e.setState({hover:void 0})},e.plusOver=function(){Z!==e.state.hover&&e.setState({hover:Z})},e.minusOver=function(){G!==e.state.hover&&e.setState({hover:G})},e.onClickPlus=function(){e.props.onControlClick(e.props.map,e.props.zoomDiff)},e.onClickMinus=function(){e.props.onControlClick(e.props.map,-e.props.zoomDiff)},e}return F(e,t),e.prototype.render=function(){var t=this.props,e=t.position,n=t.style,r=t.className,o=t.tabIndex,a=this.state.hover,s=B({},H,q,a===Z?W:{}),l=B({},H,K,a===G?W:{});return i.createElement("div",{className:r,tabIndex:o,style:B({},U,V[e],n)},i.createElement("button",{id:"zoomIn",type:"button",style:s,"aria-label":"Zoom in",onMouseOver:this.plusOver,onMouseOut:this.onMouseOut,onClick:this.onClickPlus}),i.createElement("button",{id:"zoomOut",type:"button",style:l,"aria-label":"Zoom out",onMouseOver:this.minusOver,onMouseOut:this.onMouseOut,onClick:this.onClickMinus}))},e.defaultProps={position:X[0],zoomDiff:.5,onControlClick:function(t,e){t.zoomTo(t.getZoom()+e)}},e}(i.Component),$=(c(J),["center","top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]),Q={center:"translate(-50%, -50%)",top:"translate(-50%, 0)",left:"translate(0, -50%)",right:"translate(-100%, -50%)",bottom:"translate(-50%, -100%)","top-left":"translate(0, 0)","top-right":"translate(-100%, 0)","bottom-left":"translate(0, -100%)","bottom-right":"translate(-100%, -100%)"},tt={offsetWidth:0,offsetHeight:0},et=[0,0],nt=function(t){if(!t)return nt(new r.Point(0,0));if("number"===typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new r.Point(t,t),top:new r.Point(0,t),bottom:new r.Point(0,-t),left:new r.Point(t,0),right:new r.Point(-t,0),"top-left":new r.Point(e,e),"top-right":new r.Point(-e,e),"bottom-left":new r.Point(e,-e),"bottom-right":new r.Point(-e,-e)}}return t instanceof r.Point||Array.isArray(t)?$.reduce((function(e,n){return e[n]=r.Point.convert(t),e}),{}):$.reduce((function(e,n){return e[n]=r.Point.convert(t[n]||et),e}),{})},rt=function(t,e,n){var i=function(t,e){return t.project(r.LngLat.convert(e))}(e,t.coordinates),o=nt(t.offset),a=t.anchor||function(t,e,n,r){var i=void 0===r?tt:r,o=i.offsetHeight,a=i.offsetWidth,s=[];return n.y+e.bottom.y-o<0?s=[$[1]]:n.y+e.top.y+o>t.transform.height&&(s=[$[2]]),n.x<a/2?s.push($[3]):n.x>t.transform.width-a/2&&s.push($[4]),0===s.length?$[2]:s.join("-")}(e,o,i,n);return{anchor:a,position:i,offset:o[a]}},it=function(t){return t?"translate("+t.x.toFixed(0)+"px, "+t.y.toFixed(0)+"px)":""},ot=function(t){var e=t.anchor,n=t.position,r=t.offset,i=[];return n&&i.push(it(n)),r&&void 0!==r.x&&void 0!==r.y&&i.push(it(r)),e&&i.push(Q[e]),i},at=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),st=function(){return st=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},st.apply(this,arguments)},lt={zIndex:3},ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=void 0,e.prevent=!1,e.state={},e.setContainer=function(t){t&&(e.container=t)},e.handleMapMove=function(){e.prevent||e.setState(rt(e.props,e.props.map,e.container))},e}return at(e,t),e.prototype.componentDidMount=function(){this.props.map.on("move",this.handleMapMove),this.handleMapMove()},e.prototype.havePropsChanged=function(t,e){return t.coordinates[0]!==e.coordinates[0]||t.coordinates[1]!==e.coordinates[1]||t.offset!==e.offset||t.anchor!==e.anchor},e.prototype.componentDidUpdate=function(t){this.havePropsChanged(this.props,t)&&this.setState(rt(this.props,this.props.map,this.container))},e.prototype.componentWillUnmount=function(){var t=this.props.map;this.prevent=!0,t.off("move",this.handleMapMove)},e.prototype.render=function(){var t=this.props,e=t.style,n=t.children,r=t.className,o=t.onClick,a=t.onDoubleClick,s=t.onMouseEnter,l=t.onMouseLeave,u=t.onScroll,c=t.onWheel,h=t.type,p=t.tabIndex,f=this.state.anchor,d=st({},lt,e,{transform:ot(this.state).join(" ")}),m=f&&"popup"===h?"mapboxgl-popup-anchor-"+f:"";return i.createElement("div",{className:r+" "+m,onClick:o,onDoubleClick:a,onMouseEnter:s,onMouseLeave:l,onScroll:u,onWheel:c,style:d,ref:this.setContainer,tabIndex:p},n)},e.defaultProps={offset:0,onClick:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}},e}(i.Component),ct=c(ut),ht=function(t,e){return e?e.split(" ").concat(t).join(" "):t.join(" ")},pt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(){return ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ft.apply(this,arguments)},dt=["mapboxgl-popup"],mt=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}pt(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.className,r=ft({},this.props,{children:void 0}),o=ht(dt,n);return i.createElement(ct,ft({},r,{type:"popup",className:o}),i.createElement("div",{className:"mapboxgl-popup-tip"}),i.createElement("div",{className:"mapboxgl-popup-content"},e))}}(i.Component),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),gt=function(){return gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gt.apply(this,arguments)},yt=["moveend","touchend","zoomend"],vt=[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4],_t={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},bt={position:"absolute",zIndex:10,boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)",right:50,backgroundColor:"#fff",opacity:.85,display:"flex",flexDirection:"row",alignItems:"baseline",padding:"3px 7px"},xt={border:"2px solid #7e8490",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",borderTop:"none",height:7,borderBottomLeftRadius:1,borderBottomRightRadius:1},wt=Object.keys(_t),St=["km","mi"],Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={chosenScale:0,scaleWidth:60},e.setScale=function(){var t=e.props,n=t.measurement,r=t.map,i=r._canvas.clientWidth,o=r.getBounds(),a=o._ne,s=o._sw,l=e._getDistanceTwoPoints([s.lng,a.lat],[a.lng,a.lat],n),u=l/i*60,c=vt.reduce((function(t,e){return!t&&e>u?e:t}),0),h=c/l*i;e.setState({chosenScale:c,scaleWidth:h})},e}return mt(e,t),e.prototype.componentDidMount=function(){var t=this;this.setScale(),yt.forEach((function(e){t.props.map.on(e,t.setScale)}))},e.prototype.componentWillUnmount=function(){var t=this;this.props.map&&yt.forEach((function(e){t.props.map.off(e,t.setScale)}))},e.prototype._getDistanceTwoPoints=function(t,e,n){void 0===n&&(n="km");var r=t[0],i=t[1],o=e[0],a=e[1],s="km"===n?6371:6371/1.60934,l=this._deg2rad(a-i),u=this._deg2rad(o-r),c=Math.sin(l/2)*Math.sin(l/2)+Math.cos(this._deg2rad(i))*Math.cos(this._deg2rad(a))*Math.sin(u/2)*Math.sin(u/2);return s*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},e.prototype._deg2rad=function(t){return t*(Math.PI/180)},e.prototype._displayMeasurement=function(t,e){return e>=1?e+" "+t:"mi"===t?Math.floor(5280*e)+" ft":Math.floor(1e3*e)+" m"},e.prototype.render=function(){var t=this.props,e=t.measurement,n=t.style,r=t.position,o=t.className,a=t.tabIndex,s=this.state,l=s.chosenScale,u=s.scaleWidth;return i.createElement("div",{tabIndex:a,style:gt({},bt,_t[r],n),className:o},i.createElement("div",{style:gt({},xt,{width:u})}),i.createElement("div",{style:{paddingLeft:10}},this._displayMeasurement(e,l)))},e.defaultProps={measurement:St[0],position:wt[2]},e}(i.Component),Ot=(c(Et),function(){return Ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ot.apply(this,arguments)}),kt=["mapboxgl-marker"],Mt=function(t){return i.createElement(ct,Ot({},Ot({},t),{type:"marker",className:ht(kt,t.className)}))},Ct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(){return Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Tt.apply(this,arguments)},Pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id,e.onStyleDataChange=function(){e.props.map.getLayer(e.id)||(e.initialize(),e.forceUpdate())},e.initialize=function(){var t=e.props.map,n=e.props,r=n.geoJsonSource,i=n.tileJsonSource,o=n.onSourceAdded;t.getSource(e.id)||!r&&!i||(r?t.addSource(e.id,r):i&&t.addSource(e.id,i),t.on("sourcedata",e.onData),o&&o(t.getSource(e.id)))},e.onData=function(){var t=e.props.map,n=t.getSource(e.props.id);if(n&&t.isSourceLoaded(e.props.id)){var r=e.props.onSourceLoaded;n&&r&&r(n),n&&e.props.geoJsonSource&&e.props.geoJsonSource.data&&n.setData(e.props.geoJsonSource.data),t.off("sourcedata",e.onData)}},e}return Ct(e,t),e.prototype.componentDidMount=function(){this.props.map.on("styledata",this.onStyleDataChange),this.initialize()},e.prototype.removeSource=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var n=e.getStyle().layers,r=void 0===n?[]:n;return(r=r.map((function(t,e){var n=(r[e+1]||{id:void 0}).id;return Tt({},t,{before:n})})).filter((function(e){return e.source===t.id}))).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id),r.reverse()}return[]},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.removeSource())},e.prototype.componentDidUpdate=function(t){var e=t.geoJsonSource,n=t.tileJsonSource,r=t.map,i=r.getSource(this.id);if(n&&this.props.tileJsonSource){var o=!1,a=!1;if(i&&"vector"===i.type)n.url!==this.props.tileJsonSource.url&&void 0!==this.props.tileJsonSource.url&&(i.setUrl(this.props.tileJsonSource.url),o=!0),n.tiles!==this.props.tileJsonSource.tiles&&void 0!==this.props.tileJsonSource.tiles&&(i.setTiles(this.props.tileJsonSource.tiles),a=!0);if(!o&&n.url!==this.props.tileJsonSource.url||!a&&n.tiles!==this.props.tileJsonSource.tiles||n.minzoom!==this.props.tileJsonSource.minzoom||n.maxzoom!==this.props.tileJsonSource.maxzoom){var s=this.removeSource();r.addSource(this.id,this.props.tileJsonSource),s.forEach((function(t){return r.addLayer(t,t.before)}))}}e&&this.props.geoJsonSource&&this.props.geoJsonSource.data!==e.data&&this.props.geoJsonSource.data&&i&&"geojson"===i.type&&i.setData(this.props.geoJsonSource.data)},e.prototype.render=function(){return null},e}(i.Component),At=(c(Pt),n(133)),It=n(108),Dt=n.n(It),jt=n(109),Rt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={superC:new At.default({radius:e.props.radius,maxZoom:e.props.maxZoom,minZoom:e.props.minZoom,extent:e.props.extent,nodeSize:e.props.nodeSize,log:e.props.log}),clusterPoints:[]},e.featureClusterMap=new WeakMap,e.childrenChange=function(t){var n=e.state.superC;e.featureClusterMap=new WeakMap;var r=e.childrenToFeatures(t);n.load(r)},e.mapChange=function(t){void 0===t&&(t=!1);var n=e.props.map,r=e.state,i=r.superC,o=r.clusterPoints,a=n.getZoom(),s=n.getCanvas(),l=s.width,u=s.height,c=n.unproject([0,0]).toArray(),h=n.unproject([l,0]).toArray(),p=n.unproject([l,u]).toArray(),f=n.unproject([0,u]).toArray(),d=i.getClusters(Dt()(Object(jt.polygon)([[c,h,p,f,c]])),Math.round(a));(d.length!==o.length||t)&&e.setState({clusterPoints:d})},e.childrenToFeatures=function(t){return t.map((function(t){var n=e.feature(t&&t.props.coordinates);return e.featureClusterMap.set(n,t),n}))},e.getLeaves=function(t,n,r){return e.state.superC.getLeaves(t.properties&&t.properties.cluster_id,n||1/0,r).map((function(t){return e.featureClusterMap.get(t)}))},e.zoomToClusterBounds=function(t){var n=Array.prototype.slice.call(t.currentTarget.children),i=e.findMarkerElement(t.currentTarget,t.target),o=n.indexOf(i),a=e.state.clusterPoints[o];if(a.properties&&a.properties.cluster_id){var s=e.state.superC.getLeaves(a.properties&&a.properties.cluster_id,1/0),l=Dt()(Object(jt.featureCollection)(s));e.props.map.fitBounds(r.LngLatBounds.convert(l),{padding:e.props.zoomOnClickPadding})}},e}return Rt(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.children,n=t.map;e&&this.childrenChange(e),n.on("move",this.mapChange),n.on("zoom",this.mapChange),this.mapChange()},e.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("move",this.mapChange),t.off("zoom",this.mapChange)},e.prototype.componentDidUpdate=function(t){t.children!==this.props.children&&this.props.children&&(this.childrenChange(this.props.children),this.mapChange(!0))},e.prototype.feature=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{}}},e.prototype.findMarkerElement=function(t,e){return e.parentElement===t?e:this.findMarkerElement(t,e.parentElement)},e.prototype.render=function(){var t=this,e=this.props,n=e.ClusterMarkerFactory,r=e.style,o=e.className,a=e.tabIndex,s=this.state.clusterPoints;return i.createElement("div",{style:r,className:o,tabIndex:a,onClick:this.props.zoomOnClick?this.zoomToClusterBounds:void 0},s.map((function(e){return e.properties&&e.properties.cluster?n(e.geometry.coordinates,e.properties.point_count,t.getLeaves.bind(t,e)):t.featureClusterMap.get(e)})))},e.defaultProps={radius:60,minZoom:0,maxZoom:16,extent:512,nodeSize:64,log:!1,zoomOnClick:!1,zoomOnClickPadding:20},e}(i.Component),zt=(c(Lt),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Nt=function(){return Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Nt.apply(this,arguments)},Ft={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},Bt={"top-right":{top:62,right:10,bottom:"auto",left:"auto"},"top-left":{top:62,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:63,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:63,left:10,top:"auto",right:"auto"}},Ut={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,outline:0,padding:3},Vt={backgroundColor:"#fff",opacity:1},Ht={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2,borderBottomLeftRadius:2,borderBottomRightRadius:2},Wt=function(){return i.createElement("svg",{viewBox:"0 0 20 20"},i.createElement("polygon",{fill:"#333333",points:"6,9 10,1 14,9"}),i.createElement("polygon",{fill:"#CCCCCC",points:"6,11 10,19 14,11"}))},qt={width:20,height:20,display:"inline-block"},Kt=Object.keys(Bt),Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.compassIcon=null,e.onMouseOut=function(){e.state.hover||e.setState({hover:void 0})},e.onMouseIn=function(){0!==e.state.hover&&e.setState({hover:0})},e.onClickCompass=function(){e.props.map.resetNorth()},e.onMapRotate=function(){var t="rotate("+e.props.map.transform.angle*(180/Math.PI)+"deg)";e.compassIcon&&(e.compassIcon.style.transform=t)},e.assignRef=function(t){e.compassIcon=t},e}return zt(e,t),e.prototype.componentDidMount=function(){this.props.map.on("rotate",this.onMapRotate)},e.prototype.componentWillUnmount=function(){this.props.map.off("rotate",this.onMapRotate)},e.prototype.render=function(){var t=this.props,e=t.position,n=t.style,r=t.className,o=t.tabIndex,a=this.state.hover,s=Nt({},Ut,Ht,0===a?Vt:{});return i.createElement("div",{className:r,tabIndex:o,style:Nt({},Ft,Bt[e],n)},i.createElement("button",{style:s,onMouseOver:this.onMouseIn,onMouseOut:this.onMouseOut,onClick:this.onClickCompass},i.createElement("span",{ref:this.assignRef,style:qt},i.createElement(Wt,null))))},e.defaultProps={position:Kt[0]},e}(i.Component),Zt=(c(Yt),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zt(e,t),e.prototype.componentDidMount=function(){this.loadImage(this.props)},e.prototype.componentWillUnmount=function(){e.removeImage(this.props)},e.prototype.componentDidUpdate=function(t){var n=t.id;t.map!==this.props.map&&e.removeImage(this.props),this.props.map&&!this.props.map.hasImage(n)&&this.loadImage(this.props)},e.prototype.render=function(){return null},e.prototype.loadImage=function(t){var e=this,n=t.map,r=t.id,i=t.url,o=t.data,a=t.options,s=t.onError;o?(n.addImage(r,o,a),this.loaded()):i&&n.loadImage(i,(function(t,i){t?s&&s(t):(n.addImage(r,i,a),e.loaded())}))},e.removeImage=function(t){var e=t.id,n=t.map;n&&n.getStyle()&&n.removeImage(e)},e.prototype.loaded=function(){var t=this.props.onLoaded;t&&t()},e}(i.Component);c(Gt),c(P(O)),e.b=v},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=s(p);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;const r=n(88),i=n(46);class o extends r.KeyStore{constructor(){super(),this.keys={}}async setKey(t,e,n){this.keys["".concat(e,":").concat(t)]=n.toString()}async getKey(t,e){const n=this.keys["".concat(e,":").concat(t)];return n?i.KeyPair.fromString(n):null}async removeKey(t,e){delete this.keys["".concat(e,":").concat(t)]}async clear(){this.keys={}}async getNetworks(){const t=new Set;return Object.keys(this.keys).forEach((e=>{const n=e.split(":");t.add(n[1])})),Array.from(t.values())}async getAccounts(t){const e=new Array;return Object.keys(this.keys).forEach((n=>{const r=n.split(":");r[r.length-1]===t&&e.push(r.slice(0,r.length-1).join(":"))})),e}toString(){return"InMemoryKeyStore"}}e.InMemoryKeyStore=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(58);Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return r.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return r.baseDecode}}),Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return r.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return r.deserialize}}),Object.defineProperty(e,"BorshError",{enumerable:!0,get:function(){return r.BorshError}}),Object.defineProperty(e,"BinaryWriter",{enumerable:!0,get:function(){return r.BinaryWriter}}),Object.defineProperty(e,"BinaryReader",{enumerable:!0,get:function(){return r.BinaryReader}})},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.WalletAccount=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const a=o(n(78));e.providers=a;const s=o(n(143));e.utils=s;const l=o(n(90));e.transactions=l;const u=o(n(204));e.validators=u;const c=n(91);Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return c.Account}});const h=o(n(206));e.multisig=h;const p=o(n(145));e.accountCreator=p;const f=n(146);Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return f.Connection}});const d=n(147);Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return d.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return d.InMemorySigner}});const m=n(148);Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return m.Contract}});const g=n(46);Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return g.KeyPair}});const y=n(149);Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return y.Near}});const v=n(207);Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return v.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletAccount",{enumerable:!0,get:function(){return v.WalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return v.WalletConnection}})},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.getTransactionLastResult=e.Provider=e.IdType=e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,function(t){t.Unknown="Unknown",t.Pending="Pending",t.Failure="Failure"}(e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})),function(t){t.NotStarted="NotStarted",t.Started="Started",t.Failure="Failure"}(e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={})),function(t){t.Transaction="transaction",t.Receipt="receipt"}(e.IdType||(e.IdType={}));e.Provider=class{},e.getTransactionLastResult=function(e){if("object"===typeof e.status&&"string"===typeof e.status.SuccessValue){const r=t.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(r)}catch(n){return r}}return null}}).call(this,n(49).Buffer)},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.web=e.serialize=e.key_pair=void 0;const a=o(n(46));e.key_pair=a;const s=o(n(140));e.serialize=s;const l=o(n(89));e.web=l;const u=o(n(126));e.enums=u;const c=o(n(48));e.format=c;const h=o(n(128));e.rpc_errors=h;const p=n(46);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return p.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return p.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return p.KeyPairEd25519}});const f=n(60);Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return f.logWarning}})},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"===typeof module&&module.exports,AMD=__webpack_require__(203),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"===typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||void 0===t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,a=[],s=t.length,l=0;for(r=0;r<s;++r)(o=t.charCodeAt(r))<128?a[l++]=o:o<2048?(a[l++]=192|o>>6,a[l++]=128|63&o):o<55296||o>=57344?(a[l++]=224|o>>12,a[l++]=128|o>>6&63,a[l++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),a[l++]=240|o>>18,a[l++]=128|o>>12&63,a[l++]=128|o>>6&63,a[l++]=128|63&o);t=a}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],c=[];for(r=0;r<64;++r){var h=t[r]||0;u[r]=92^h,c[r]=54^h}Sha256.call(this,e,n),this.update(c),this.oKeyPad=u,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,a=t.length,s=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(i=this.start;o<a&&i<64;++o)s[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)(r=t.charCodeAt(o))<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,a,s,l,u=this.h0,c=this.h1,h=this.h2,p=this.h3,f=this.h4,d=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(t=16;t<64;++t)e=((i=y[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=y[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[t]=y[t-16]+e+y[t-7]+n<<0;for(l=c&h,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,g=(i=y[0]-1413257819)-150054599<<0,p=i+24177077<<0):(o=704751109,g=(i=y[0]-210244248)-1521486534<<0,p=i+143694565<<0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&c)^u&h^l,g=p+(i=g+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&d^~f&m)+K[t]+y[t])<<0,p=i+(e+r)<<0),e=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),r=(a=p&u)^p&c^o,m=h+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&d)+K[t+1]+y[t+1])<<0,e=((h=i+(e+r)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&p)^h&u^a,d=c+(i=d+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&f)+K[t+2]+y[t+2])<<0,e=((c=i+(e+r)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(l=c&h)^c&p^s,f=u+(i=f+(n=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&m^~d&g)+K[t+3]+y[t+3])<<0,u=i+(e+r)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+c<<0,this.h2=this.h2+h<<0,this.h3=this.h3+p<<0,this.h4=this.h4+f<<0,this.h5=this.h5+d<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,l=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(l+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,l=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||l.push(s>>24&255,s>>16&255,s>>8&255,255&s),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__(138),__webpack_require__(45))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;const r=n(89);class i{}e.AccountCreator=i;e.LocalAccountCreator=class extends i{constructor(t,e){super(),this.masterAccount=t,this.initialBalance=e}async createAccount(t,e){await this.masterAccount.createAccount(t,e,this.initialBalance)}};e.UrlAccountCreator=class extends i{constructor(t,e){super(),this.connection=t,this.helperUrl=e}async createAccount(t,e){await r.fetchJson("".concat(this.helperUrl,"/account"),JSON.stringify({newAccountId:t,newAccountPublicKey:e.toString()}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;const r=n(78),i=n(147);class o{constructor(t,e,n){this.networkId=t,this.provider=e,this.signer=n}static fromConfig(t){const e=function(t){switch(t.type){case void 0:return t;case"JsonRpcProvider":return new r.JsonRpcProvider({...t.args});default:throw new Error("Unknown provider type ".concat(t.type))}}(t.provider),n=function(t){switch(t.type){case void 0:return t;case"InMemorySigner":return new i.InMemorySigner(t.keyStore);default:throw new Error("Unknown signer type ".concat(t.type))}}(t.signer);return new o(t.networkId,e,n)}}e.Connection=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySigner=e.Signer=void 0;const i=r(n(144)),o=n(46),a=n(139);class s{}e.Signer=s;class l extends s{constructor(t){super(),this.keyStore=t}static async fromKeyPair(t,e,n){const r=new a.InMemoryKeyStore;return await r.setKey(t,e,n),new l(r)}async createKey(t,e){const n=o.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(e,t,n),n.getPublicKey()}async getPublicKey(t,e){const n=await this.keyStore.getKey(e,t);return null===n?null:n.getPublicKey()}async signMessage(t,e,n){const r=new Uint8Array(i.default.sha256.array(t));if(!e)throw new Error("InMemorySigner requires provided account id");const o=await this.keyStore.getKey(n,e);if(null===o)throw new Error("Key for ".concat(e," not found in ").concat(n));return o.sign(r)}toString(){return"InMemorySigner(".concat(this.keyStore,")")}}e.InMemorySigner=l},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;const i=r(n(50)),o=r(n(59)),a=n(78),s=n(60);function l(t,e){return{[t](){return e(...arguments)}}[t]}const u=t=>t&&void 0!==t.byteLength&&t.byteLength===t.length,c=t=>"[object Object]"===Object.prototype.toString.call(t);e.Contract=class{constructor(t,e,n){var r=this;this.account=t,this.contractId=e;const{viewMethods:i=[],changeMethods:a=[]}=n;i.forEach((t=>{Object.defineProperty(this,t,{writable:!1,enumerable:!0,value:l(t,(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(arguments.length<=2)&&arguments.length-2||!c(e)&&!u(e)||!c(n))throw new s.PositionalArgsError;return r.account.viewFunction(r.contractId,t,e,n)}))})})),a.forEach((t=>{Object.defineProperty(this,t,{writable:!1,enumerable:!0,value:l(t,(async function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length&&(n.length>3||!c(n[0])&&!u(n[0])))throw new s.PositionalArgsError;if(n.length>1||!n[0]||!n[0].args){return o.default("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),r._changeMethod({methodName:t,args:n[0],gas:n[1],amount:n[2]})}return r._changeMethod({methodName:t,...n[0]})}))})}))}async _changeMethod(t){let{args:e,methodName:n,gas:r,amount:o,meta:l,callbackUrl:u}=t;!function(t){const e="number, decimal string or BN";for(const n of Object.keys(t)){const r=t[n];if(r&&!i.default.isBN(r)&&isNaN(r))throw new s.ArgumentTypeError(n,e,r)}}({gas:r,amount:o});const c=await this.account.functionCall({contractId:this.contractId,methodName:n,args:e,gas:r,attachedDeposit:o,walletMeta:l,walletCallbackUrl:u});return a.getTransactionLastResult(c)}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;const i=r(n(50)),o=n(91),a=n(146),s=n(148),l=n(145);e.Near=class{constructor(t){if(this.config=t,this.connection=a.Connection.fromConfig({networkId:t.networkId,provider:{type:"JsonRpcProvider",args:{url:t.nodeUrl,headers:t.headers}},signer:t.signer||{type:"InMemorySigner",keyStore:t.keyStore||t.deps.keyStore}}),t.masterAccount){const e=t.initialBalance?new i.default(t.initialBalance):new i.default("500000000000000000000000000");this.accountCreator=new l.LocalAccountCreator(new o.Account(this.connection,t.masterAccount),e)}else t.helperUrl?this.accountCreator=new l.UrlAccountCreator(this.connection,t.helperUrl):this.accountCreator=null}async account(t){return new o.Account(this.connection,t)}async createAccount(t,e){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(t,e),new o.Account(this.connection,t)}async loadContract(t,e){const n=new o.Account(this.connection,e.sender);return new s.Contract(n,t,e)}async sendTokens(t,e,n){console.warn("near.sendTokens is deprecated. Use `yourAccount.sendMoney` instead.");const r=new o.Account(this.connection,e);return(await r.sendMoney(n,t)).transaction_outcome.id}}},function(t,e,n){n(129).check("es5")},function(t,e,n){var r=new(n(212)),i=function(t){return r.test(t)};i.define=function(t,e){r.define(t,e)},i.check=function(t){r.check(t)},i.test=i,t.exports=i},function(t,e,n){"use strict";var r=n(101),i=n(82);const o=new Map,a={set(t,e,n){o.has(t)||o.set(t,new Map);const r=o.get(t);r.has(e)||0===r.size?r.set(e,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:(t,e)=>o.has(t)&&o.get(t).get(e)||null,remove(t,e){if(!o.has(t))return;const n=o.get(t);n.delete(e),0===n.size&&o.delete(t)}},s="transitionend",l=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>"#".concat(CSS.escape(e))))),t),u=t=>{t.dispatchEvent(new Event(s))},c=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),h=t=>c(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(l(t)):null,p=t=>{if(!c(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},f=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),d=t=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?d(t.parentNode):null},m=()=>{},g=t=>{t.offsetHeight},y=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],_=()=>"rtl"===document.documentElement.dir,b=t=>{var e;e=()=>{const e=y();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}},"loading"===document.readyState?(v.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of v)t()})),v.push(e)):e()},x=function(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return"function"===typeof t?t(...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]):e},w=function(t,e){if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return void x(t);const n=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(e)+5;let r=!1;const i=n=>{let{target:o}=n;o===e&&(r=!0,e.removeEventListener(s,i),x(t))};e.addEventListener(s,i),setTimeout((()=>{r||u(e)}),n)},S=(t,e,n,r)=>{const i=t.length;let o=t.indexOf(e);return-1===o?!n&&r?t[i-1]:t[0]:(o+=n?1:-1,r&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])},E=/[^.]*(?=\..*)\.|.*/,O=/\..*/,k=/::\d+$/,M={};let C=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(t,e){return e&&"".concat(e,"::").concat(C++)||t.uidEvent||C++}function I(t){const e=A(t);return t.uidEvent=e,M[e]=M[e]||{},M[e]}function D(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===n))}function j(t,e,n){const r="string"===typeof e,i=r?n:e||n;let o=N(t);return P.has(o)||(o=t),[r,i,o]}function R(t,e,n,r,i){if("string"!==typeof e||!t)return;let[o,a,s]=j(e,n,r);if(e in T){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};a=t(a)}const l=I(t),u=l[s]||(l[s]={}),c=D(u,a,o?n:null);if(c)return void(c.oneOff=c.oneOff&&i);const h=A(a,e.replace(E,"")),p=o?function(t,e,n){return function r(i){const o=t.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const s of o)if(s===a)return B(i,{delegateTarget:a}),r.oneOff&&F.off(t,i.type,e,n),n.apply(a,[i])}}(t,n,a):function(t,e){return function n(r){return B(r,{delegateTarget:t}),n.oneOff&&F.off(t,r.type,e),e.apply(t,[r])}}(t,a);p.delegationSelector=o?n:null,p.callable=a,p.oneOff=i,p.uidEvent=h,u[h]=p,t.addEventListener(s,p,o)}function L(t,e,n,r,i){const o=D(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function z(t,e,n,r){const i=e[n]||{};for(const[o,a]of Object.entries(i))o.includes(r)&&L(t,e,n,a.callable,a.delegationSelector)}function N(t){return t=t.replace(O,""),T[t]||t}const F={on(t,e,n,r){R(t,e,n,r,!1)},one(t,e,n,r){R(t,e,n,r,!0)},off(t,e,n,r){if("string"!==typeof e||!t)return;const[i,o,a]=j(e,n,r),s=a!==e,l=I(t),u=l[a]||{},c=e.startsWith(".");if("undefined"===typeof o){if(c)for(const n of Object.keys(l))z(t,l,n,e.slice(1));for(const[n,r]of Object.entries(u)){const i=n.replace(k,"");s&&!e.includes(i)||L(t,l,a,r.callable,r.delegationSelector)}}else{if(!Object.keys(u).length)return;L(t,l,a,o,i?n:null)}},trigger(t,e,n){if("string"!==typeof e||!t)return null;const r=y();let i=null,o=!0,a=!0,s=!1;e!==N(e)&&r&&(i=r.Event(e,n),r(t).trigger(i),o=!i.isPropagationStopped(),a=!i.isImmediatePropagationStopped(),s=i.isDefaultPrevented());const l=B(new Event(e,{bubbles:o,cancelable:!0}),n);return s&&l.preventDefault(),a&&t.dispatchEvent(l),l.defaultPrevented&&i&&i.preventDefault(),l}};function B(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[r,i]of Object.entries(e))try{t[r]=i}catch(n){Object.defineProperty(t,r,{configurable:!0,get:()=>i})}return t}function U(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!==typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function V(t){return t.replace(/[A-Z]/g,(t=>"-".concat(t.toLowerCase())))}const H={setDataAttribute(t,e,n){t.setAttribute("data-bs-".concat(V(e)),n)},removeDataAttribute(t,e){t.removeAttribute("data-bs-".concat(V(e)))},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=U(t.dataset[r])}return e},getDataAttribute:(t,e)=>U(t.getAttribute("data-bs-".concat(V(e))))};class W{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const n=c(e)?H.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"===typeof n?n:{},...c(e)?H.getDataAttributes(e):{},..."object"===typeof t?t:{}}}_typeCheckConfig(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType;for(const[r,i]of Object.entries(e)){const e=t[r],o=c(e)?"element":null===(n=e)||void 0===n?"".concat(n):Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(o))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(r,'" provided type "').concat(o,'" but expected type "').concat(i,'".'))}var n}}class q extends W{constructor(t,e){super(),(t=h(t))&&(this._element=t,this._config=this._getConfig(e),a.set(this._element,this.constructor.DATA_KEY,this))}dispose(){a.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e){w(t,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return a.get(h(t),this.DATA_KEY)}static getOrCreateInstance(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}static eventName(t){return"".concat(t).concat(this.EVENT_KEY)}}const K=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),e=n&&"#"!==n?l(n.trim()):null}return e},Y={find(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(e,t)},children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>"".concat(t,':not([tabindex^="-"])'))).join(",");return this.find(e,t).filter((t=>!f(t)&&p(t)))},getSelectorFromElement(t){const e=K(t);return e&&Y.findOne(e)?e:null},getElementFromSelector(t){const e=K(t);return e?Y.findOne(e):null},getMultipleElementsFromSelector(t){const e=K(t);return e?Y.find(e):[]}},Z=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide";const n="click.dismiss".concat(t.EVENT_KEY),r=t.NAME;F.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),f(this))return;const i=Y.getElementFromSelector(this)||this.closest(".".concat(r));t.getOrCreateInstance(i)[e]()}))},G=".".concat("bs.alert"),X="close".concat(G),J="closed".concat(G);class $ extends q{static get NAME(){return"alert"}close(){if(F.trigger(this._element,X).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),F.trigger(this._element,J),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=$.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}Z($,"close"),b($);const Q=".".concat("bs.button"),tt='[data-bs-toggle="button"]',et="click".concat(Q).concat(".data-api");class nt extends q{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=nt.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}F.on(document,et,tt,(t=>{t.preventDefault();const e=t.target.closest(tt);nt.getOrCreateInstance(e).toggle()})),b(nt);const rt=".bs.swipe",it="touchstart".concat(rt),ot="touchmove".concat(rt),at="touchend".concat(rt),st="pointerdown".concat(rt),lt="pointerup".concat(rt),ut={endCallback:null,leftCallback:null,rightCallback:null},ct={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ht extends W{constructor(t,e){super(),this._element=t,t&&ht.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ut}static get DefaultType(){return ct}static get NAME(){return"swipe"}dispose(){F.off(this._element,rt)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&x(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,st,(t=>this._start(t))),F.on(this._element,lt,(t=>this._end(t))),this._element.classList.add("pointer-event")):(F.on(this._element,it,(t=>this._start(t))),F.on(this._element,ot,(t=>this._move(t))),F.on(this._element,at,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const pt=".".concat("bs.carousel"),ft=".data-api",dt="next",mt="prev",gt="left",yt="right",vt="slide".concat(pt),_t="slid".concat(pt),bt="keydown".concat(pt),xt="mouseenter".concat(pt),wt="mouseleave".concat(pt),St="dragstart".concat(pt),Et="load".concat(pt).concat(ft),Ot="click".concat(pt).concat(ft),kt="carousel",Mt="active",Ct=".active",Tt=".carousel-item",Pt=Ct+Tt,At={ArrowLeft:yt,ArrowRight:gt},It={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Dt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class jt extends q{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Y.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===kt&&this.cycle()}static get Default(){return It}static get DefaultType(){return Dt}static get NAME(){return"carousel"}next(){this._slide(dt)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(mt)}pause(){this._isSliding&&u(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?F.one(this._element,_t,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void F.one(this._element,_t,(()=>this.to(t)));const n=this._getItemIndex(this._getActive());if(n===t)return;const r=t>n?dt:mt;this._slide(r,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&F.on(this._element,bt,(t=>this._keydown(t))),"hover"===this._config.pause&&(F.on(this._element,xt,(()=>this.pause())),F.on(this._element,wt,(()=>this._maybeEnableCycle()))),this._config.touch&&ht.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of Y.find(".carousel-item img",this._element))F.on(e,St,(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(gt)),rightCallback:()=>this._slide(this._directionToOrder(yt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new ht(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=At[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Y.findOne(Ct,this._indicatorsElement);e.classList.remove(Mt),e.removeAttribute("aria-current");const n=Y.findOne('[data-bs-slide-to="'.concat(t,'"]'),this._indicatorsElement);n&&(n.classList.add(Mt),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._isSliding)return;const n=this._getActive(),r=t===dt,i=e||S(this._getItems(),n,r,this._config.wrap);if(i===n)return;const o=this._getItemIndex(i),a=e=>F.trigger(this._element,e,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:o});if(a(vt).defaultPrevented)return;if(!n||!i)return;const s=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const l=r?"carousel-item-start":"carousel-item-end",u=r?"carousel-item-next":"carousel-item-prev";i.classList.add(u),g(i),n.classList.add(l),i.classList.add(l);this._queueCallback((()=>{i.classList.remove(l,u),i.classList.add(Mt),n.classList.remove(Mt,u,l),this._isSliding=!1,a(_t)}),n,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Y.findOne(Pt,this._element)}_getItems(){return Y.find(Tt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return _()?t===gt?mt:dt:t===gt?dt:mt}_orderToDirection(t){return _()?t===mt?gt:yt:t===mt?yt:gt}static jQueryInterface(t){return this.each((function(){const e=jt.getOrCreateInstance(this,t);if("number"!==typeof t){if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}else e.to(t)}))}}F.on(document,Ot,"[data-bs-slide], [data-bs-slide-to]",(function(t){const e=Y.getElementFromSelector(this);if(!e||!e.classList.contains(kt))return;t.preventDefault();const n=jt.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===H.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),F.on(window,Et,(()=>{const t=Y.find('[data-bs-ride="carousel"]');for(const e of t)jt.getOrCreateInstance(e)})),b(jt);const Rt=".".concat("bs.collapse"),Lt="show".concat(Rt),zt="shown".concat(Rt),Nt="hide".concat(Rt),Ft="hidden".concat(Rt),Bt="click".concat(Rt).concat(".data-api"),Ut="show",Vt="collapse",Ht="collapsing",Wt=":scope .".concat(Vt," .").concat(Vt),qt='[data-bs-toggle="collapse"]',Kt={parent:null,toggle:!0},Yt={parent:"(null|element)",toggle:"boolean"};class Zt extends q{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=Y.find(qt);for(const r of n){const t=Y.getSelectorFromElement(r),e=Y.find(t).filter((t=>t===this._element));null!==t&&e.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Kt}static get DefaultType(){return Yt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>Zt.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(F.trigger(this._element,Lt).defaultPrevented)return;for(const i of t)i.hide();const e=this._getDimension();this._element.classList.remove(Vt),this._element.classList.add(Ht),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=e[0].toUpperCase()+e.slice(1),r="scroll".concat(n);this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(Vt,Ut),this._element.style[e]="",F.trigger(this._element,zt)}),this._element,!0),this._element.style[e]="".concat(this._element[r],"px")}hide(){if(this._isTransitioning||!this._isShown())return;if(F.trigger(this._element,Nt).defaultPrevented)return;const t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),g(this._element),this._element.classList.add(Ht),this._element.classList.remove(Vt,Ut);for(const e of this._triggerArray){const t=Y.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(Vt),F.trigger(this._element,Ft)}),this._element,!0)}_isShown(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(Ut)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=h(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(qt);for(const e of t){const t=Y.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=Y.find(Wt,this._config.parent);return Y.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle("collapsed",!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const n=Zt.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError('No method named "'.concat(t,'"'));n[t]()}}))}}F.on(document,Bt,qt,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const e of Y.getMultipleElementsFromSelector(this))Zt.getOrCreateInstance(e,{toggle:!1}).toggle()})),b(Zt);const Gt="dropdown",Xt=".".concat("bs.dropdown"),Jt=".data-api",$t="ArrowUp",Qt="ArrowDown",te="hide".concat(Xt),ee="hidden".concat(Xt),ne="show".concat(Xt),re="shown".concat(Xt),ie="click".concat(Xt).concat(Jt),oe="keydown".concat(Xt).concat(Jt),ae="keyup".concat(Xt).concat(Jt),se="show",le='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ue="".concat(le,".").concat(se),ce=".dropdown-menu",he=_()?"top-end":"top-start",pe=_()?"top-start":"top-end",fe=_()?"bottom-end":"bottom-start",de=_()?"bottom-start":"bottom-end",me=_()?"left-start":"right-start",ge=_()?"right-start":"left-start",ye={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ve={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class _e extends q{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Y.next(this._element,ce)[0]||Y.prev(this._element,ce)[0]||Y.findOne(ce,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ye}static get DefaultType(){return ve}static get NAME(){return Gt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!F.trigger(this._element,ne,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))F.on(t,"mouseover",m);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(se),this._element.classList.add(se),F.trigger(this._element,re,t)}}hide(){if(f(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!F.trigger(this._element,te,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))F.off(t,"mouseover",m);this._popper&&this._popper.destroy(),this._menu.classList.remove(se),this._element.classList.remove(se),this._element.setAttribute("aria-expanded","false"),H.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,ee,t)}}_getConfig(t){if("object"===typeof(t=super._getConfig(t)).reference&&!c(t.reference)&&"function"!==typeof t.reference.getBoundingClientRect)throw new TypeError("".concat(Gt.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return t}_createPopper(){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:c(this._config.reference)?t=h(this._config.reference):"object"===typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=i.a(t,this._menu,e)}_isShown(){return this._menu.classList.contains(se)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return me;if(t.classList.contains("dropstart"))return ge;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?pe:he:e?de:fe}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(H.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...x(this._config.popperConfig,[t])}}_selectMenuItem(t){let{key:e,target:n}=t;const r=Y.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((t=>p(t)));r.length&&S(r,n,e===Qt,!r.includes(n)).focus()}static jQueryInterface(t){return this.each((function(){const e=_e.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=Y.find(ue);for(const n of e){const e=_e.getInstance(n);if(!e||!1===e._config.autoClose)continue;const r=t.composedPath(),i=r.includes(e._menu);if(r.includes(e._element)||"inside"===e._config.autoClose&&!i||"outside"===e._config.autoClose&&i)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n="Escape"===t.key,r=[$t,Qt].includes(t.key);if(!r&&!n)return;if(e&&!n)return;t.preventDefault();const i=this.matches(le)?this:Y.prev(this,le)[0]||Y.next(this,le)[0]||Y.findOne(le,t.delegateTarget.parentNode),o=_e.getOrCreateInstance(i);if(r)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),i.focus())}}F.on(document,oe,le,_e.dataApiKeydownHandler),F.on(document,oe,ce,_e.dataApiKeydownHandler),F.on(document,ie,_e.clearMenus),F.on(document,ae,_e.clearMenus),F.on(document,ie,le,(function(t){t.preventDefault(),_e.getOrCreateInstance(this).toggle()})),b(_e);const be="backdrop",xe="show",we="mousedown.bs.".concat(be),Se={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ee={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Oe extends W{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Se}static get DefaultType(){return Ee}static get NAME(){return be}show(t){if(!this._config.isVisible)return void x(t);this._append();const e=this._getElement();this._config.isAnimated&&g(e),e.classList.add(xe),this._emulateAnimation((()=>{x(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(xe),this._emulateAnimation((()=>{this.dispose(),x(t)}))):x(t)}dispose(){this._isAppended&&(F.off(this._element,we),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=h(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),F.on(t,we,(()=>{x(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){w(t,this._getElement(),this._config.isAnimated)}}const ke=".".concat("bs.focustrap"),Me="focusin".concat(ke),Ce="keydown.tab".concat(ke),Te="backward",Pe={autofocus:!0,trapElement:null},Ae={autofocus:"boolean",trapElement:"element"};class Ie extends W{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Pe}static get DefaultType(){return Ae}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,ke),F.on(document,Me,(t=>this._handleFocusin(t))),F.on(document,Ce,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,ke))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const n=Y.focusableChildren(e);0===n.length?e.focus():this._lastTabNavDirection===Te?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?Te:"forward")}}const De=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",je=".sticky-top",Re="padding-right",Le="margin-right";class ze{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Re,(e=>e+t)),this._setElementAttributes(De,Re,(e=>e+t)),this._setElementAttributes(je,Le,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Re),this._resetElementAttributes(De,Re),this._resetElementAttributes(je,Le)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,"".concat(n(Number.parseFloat(i)),"px"))}))}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&H.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=H.getDataAttribute(t,e);null!==n?(H.removeDataAttribute(t,e),t.style.setProperty(e,n)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(c(t))e(t);else for(const n of Y.find(t,this._element))e(n)}}const Ne=".".concat("bs.modal"),Fe="hide".concat(Ne),Be="hidePrevented".concat(Ne),Ue="hidden".concat(Ne),Ve="show".concat(Ne),He="shown".concat(Ne),We="resize".concat(Ne),qe="click.dismiss".concat(Ne),Ke="mousedown.dismiss".concat(Ne),Ye="keydown.dismiss".concat(Ne),Ze="click".concat(Ne).concat(".data-api"),Ge="modal-open",Xe="show",Je="modal-static",$e={backdrop:!0,focus:!0,keyboard:!0},Qe={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class tn extends q{constructor(t,e){super(t,e),this._dialog=Y.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ze,this._addEventListeners()}static get Default(){return $e}static get DefaultType(){return Qe}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;F.trigger(this._element,Ve,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ge),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;F.trigger(this._element,Fe).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Xe),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){F.off(window,Ne),F.off(this._dialog,Ne),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Oe({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ie({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Y.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),g(this._element),this._element.classList.add(Xe);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,He,{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,Ye,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),F.on(window,We,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),F.on(this._element,Ke,(t=>{F.one(this._element,qe,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Ge),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,Ue)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(F.trigger(this._element,Be).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(Je)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Je),this._queueCallback((()=>{this._element.classList.remove(Je),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const t=_()?"paddingLeft":"paddingRight";this._element.style[t]="".concat(e,"px")}if(!n&&t){const t=_()?"paddingRight":"paddingLeft";this._element.style[t]="".concat(e,"px")}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=tn.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError('No method named "'.concat(t,'"'));n[t](e)}}))}}F.on(document,Ze,'[data-bs-toggle="modal"]',(function(t){const e=Y.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),F.one(e,Ve,(t=>{t.defaultPrevented||F.one(e,Ue,(()=>{p(this)&&this.focus()}))}));const n=Y.findOne(".modal.show");n&&tn.getInstance(n).hide();tn.getOrCreateInstance(e).toggle(this)})),Z(tn),b(tn);const en=".".concat("bs.offcanvas"),nn=".data-api",rn="load".concat(en).concat(nn),on="show",an="showing",sn="hiding",ln=".offcanvas.show",un="show".concat(en),cn="shown".concat(en),hn="hide".concat(en),pn="hidePrevented".concat(en),fn="hidden".concat(en),dn="resize".concat(en),mn="click".concat(en).concat(nn),gn="keydown.dismiss".concat(en),yn={backdrop:!0,keyboard:!0,scroll:!1},vn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class _n extends q{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return yn}static get DefaultType(){return vn}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;if(F.trigger(this._element,un,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ze).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(an);this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(on),this._element.classList.remove(an),F.trigger(this._element,cn,{relatedTarget:t})}),this._element,!0)}hide(){if(!this._isShown)return;if(F.trigger(this._element,hn).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(sn),this._backdrop.hide();this._queueCallback((()=>{this._element.classList.remove(on,sn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ze).reset(),F.trigger(this._element,fn)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new Oe({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():F.trigger(this._element,pn)}:null})}_initializeFocusTrap(){return new Ie({trapElement:this._element})}_addEventListeners(){F.on(this._element,gn,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():F.trigger(this._element,pn))}))}static jQueryInterface(t){return this.each((function(){const e=_n.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}F.on(document,mn,'[data-bs-toggle="offcanvas"]',(function(t){const e=Y.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),f(this))return;F.one(e,fn,(()=>{p(this)&&this.focus()}));const n=Y.findOne(ln);n&&n!==e&&_n.getInstance(n).hide();_n.getOrCreateInstance(e).toggle(this)})),F.on(window,rn,(()=>{for(const t of Y.find(ln))_n.getOrCreateInstance(t).show()})),F.on(window,dn,(()=>{for(const t of Y.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&_n.getOrCreateInstance(t).hide()})),Z(_n),b(_n);const bn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},xn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sn=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?!xn.has(n)||Boolean(wn.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(n)))};const En={allowList:bn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},On={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},kn={entry:"(string|element|function|null)",selector:"(string|element)"};class Mn extends W{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return En}static get DefaultType(){return On}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(t,i,r);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},kn)}_setContent(t,e,n){const r=Y.findOne(n,t);r&&((e=this._resolvePossibleFunction(e))?c(e)?this._putElementInTemplate(h(e),r):this._config.html?r.innerHTML=this._maybeSanitize(e):r.textContent=e:r.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,n){if(!t.length)return t;if(n&&"function"===typeof n)return n(t);const r=(new window.DOMParser).parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const o of i){const t=o.nodeName.toLowerCase();if(!Object.keys(e).includes(t)){o.remove();continue}const n=[].concat(...o.attributes),r=[].concat(e["*"]||[],e[t]||[]);for(const e of n)Sn(e,r)||o.removeAttribute(e.nodeName)}return r.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return x(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const Cn=new Set(["sanitize","allowList","sanitizeFn"]),Tn="fade",Pn="show",An=".".concat("modal"),In="hide.bs.modal",Dn="hover",jn="focus",Rn={AUTO:"auto",TOP:"top",RIGHT:_()?"left":"right",BOTTOM:"bottom",LEFT:_()?"right":"left"},Ln={allowList:bn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nn extends q{constructor(t,e){if("undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ln}static get DefaultType(){return zn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(An),In,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=F.trigger(this._element,this.constructor.eventName("show")),e=(d(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),F.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(Pn),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))F.on(i,"mouseover",m);this._queueCallback((()=>{F.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(F.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(Pn),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))F.off(t,"mouseover",m);this._activeTrigger.click=!1,this._activeTrigger[jn]=!1,this._activeTrigger[Dn]=!1,this._isHovered=null;this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(Tn,Pn),e.classList.add("bs-".concat(this.constructor.NAME,"-auto"));const n=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(Tn),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Mn({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Tn)}_isShown(){return this.tip&&this.tip.classList.contains(Pn)}_createPopper(t){const e=x(this._config.placement,[this,t,this._element]),n=Rn[e.toUpperCase()];return i.a(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return x(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...x(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)F.on(this._element,this.constructor.eventName("click"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if("manual"!==e){const t=e===Dn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=e===Dn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");F.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?jn:Dn]=!0,e._enter()})),F.on(this._element,n,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?jn:Dn]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(An),In,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=H.getDataAttributes(this._element);for(const n of Object.keys(e))Cn.has(n)&&delete e[n];return t={...e,..."object"===typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:h(t.container),"number"===typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"===typeof t.title&&(t.title=t.title.toString()),"number"===typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,n]of Object.entries(this._config))this.constructor.Default[e]!==n&&(t[e]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=Nn.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}b(Nn);const Fn={...Nn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Bn={...Nn.DefaultType,content:"(null|string|element|function)"};class Un extends Nn{static get Default(){return Fn}static get DefaultType(){return Bn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=Un.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}b(Un);const Vn=".".concat("bs.scrollspy"),Hn="activate".concat(Vn),Wn="click".concat(Vn),qn="load".concat(Vn).concat(".data-api"),Kn="active",Yn="[href]",Zn=".nav-link",Gn="".concat(Zn,", ").concat(".nav-item"," > ").concat(Zn,", ").concat(".list-group-item"),Xn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Jn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $n extends q{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Xn}static get DefaultType(){return Jn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=h(t.target)||document.body,t.rootMargin=t.offset?"".concat(t.offset,"px 0px -30%"):t.rootMargin,"string"===typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,Wn),F.on(this._config.target,Wn,Yn,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const n=this._rootElement||window,r=e.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get("#".concat(t.target.id)),n=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&t){if(n(o),!r)return}else i||t||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Y.find(Yn,this._config.target);for(const e of t){if(!e.hash||f(e))continue;const t=Y.findOne(decodeURI(e.hash),this._element);p(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Kn),this._activateParents(t),F.trigger(this._element,Hn,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))Y.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Kn);else for(const e of Y.parents(t,".nav, .list-group"))for(const t of Y.prev(e,Gn))t.classList.add(Kn)}_clearActiveClass(t){t.classList.remove(Kn);const e=Y.find("".concat(Yn,".").concat(Kn),t);for(const n of e)n.classList.remove(Kn)}static jQueryInterface(t){return this.each((function(){const e=$n.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}F.on(window,qn,(()=>{for(const t of Y.find('[data-bs-spy="scroll"]'))$n.getOrCreateInstance(t)})),b($n);const Qn=".".concat("bs.tab"),tr="hide".concat(Qn),er="hidden".concat(Qn),nr="show".concat(Qn),rr="shown".concat(Qn),ir="click".concat(Qn),or="keydown".concat(Qn),ar="load".concat(Qn),sr="ArrowLeft",lr="ArrowRight",ur="ArrowUp",cr="ArrowDown",hr="Home",pr="End",fr="active",dr="fade",mr="show",gr=".dropdown-toggle",yr=":not(".concat(gr,")"),vr=".nav-link".concat(yr,", .list-group-item").concat(yr,', [role="tab"]').concat(yr),_r='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',br="".concat(vr,", ").concat(_r),xr=".".concat(fr,'[data-bs-toggle="tab"], .').concat(fr,'[data-bs-toggle="pill"], .').concat(fr,'[data-bs-toggle="list"]');class wr extends q{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,or,(t=>this._keydown(t))))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),n=e?F.trigger(e,tr,{relatedTarget:t}):null;F.trigger(t,nr,{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(fr),this._activate(Y.getElementFromSelector(t));this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),F.trigger(t,rr,{relatedTarget:e})):t.classList.add(mr)}),t,t.classList.contains(dr))}_deactivate(t,e){if(!t)return;t.classList.remove(fr),t.blur(),this._deactivate(Y.getElementFromSelector(t));this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),F.trigger(t,er,{relatedTarget:e})):t.classList.remove(mr)}),t,t.classList.contains(dr))}_keydown(t){if(![sr,lr,ur,cr,hr,pr].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter((t=>!f(t)));let n;if([hr,pr].includes(t.key))n=e[t.key===hr?0:e.length-1];else{const r=[lr,cr].includes(t.key);n=S(e,t.target,r,!0)}n&&(n.focus({preventScroll:!0}),wr.getOrCreateInstance(n).show())}_getChildren(){return Y.find(br,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const n of e)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Y.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby","".concat(t.id)))}_toggleDropDown(t,e){const n=this._getOuterElement(t);if(!n.classList.contains("dropdown"))return;const r=(t,r)=>{const i=Y.findOne(t,n);i&&i.classList.toggle(r,e)};r(gr,fr),r(".dropdown-menu",mr),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(fr)}_getInnerElement(t){return t.matches(br)?t:Y.findOne(br,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each((function(){const e=wr.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}F.on(document,ir,_r,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),f(this)||wr.getOrCreateInstance(this).show()})),F.on(window,ar,(()=>{for(const t of Y.find(xr))wr.getOrCreateInstance(t)})),b(wr);const Sr=".".concat("bs.toast"),Er="mouseover".concat(Sr),Or="mouseout".concat(Sr),kr="focusin".concat(Sr),Mr="focusout".concat(Sr),Cr="hide".concat(Sr),Tr="hidden".concat(Sr),Pr="show".concat(Sr),Ar="shown".concat(Sr),Ir="hide",Dr="show",jr="showing",Rr={animation:"boolean",autohide:"boolean",delay:"number"},Lr={animation:!0,autohide:!0,delay:5e3};class zr extends q{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Lr}static get DefaultType(){return Rr}static get NAME(){return"toast"}show(){if(F.trigger(this._element,Pr).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Ir),g(this._element),this._element.classList.add(Dr,jr),this._queueCallback((()=>{this._element.classList.remove(jr),F.trigger(this._element,Ar),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this.isShown())return;if(F.trigger(this._element,Cr).defaultPrevented)return;this._element.classList.add(jr),this._queueCallback((()=>{this._element.classList.add(Ir),this._element.classList.remove(jr,Dr),F.trigger(this._element,Tr)}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Dr),super.dispose()}isShown(){return this._element.classList.contains(Dr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,Er,(t=>this._onInteraction(t,!0))),F.on(this._element,Or,(t=>this._onInteraction(t,!1))),F.on(this._element,kr,(t=>this._onInteraction(t,!0))),F.on(this._element,Mr,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=zr.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}Z(zr),b(zr)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){var n={};return Array.from(new Set(Object.keys(t).concat(Object.keys(e)))).map((function(r){t[r]!==e[r]&&(n[r]=e[r])})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=0;e.generateID=function(){return r+=1}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=n(249),l=n(40),u={zIndex:3},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=void 0,e.prevent=!1,e.state={},e.setContainer=function(t){t&&(e.container=t)},e.handleMapMove=function(){e.prevent||e.setState(s.overlayState(e.props,e.props.map,e.container))},e}return r(e,t),e.prototype.componentDidMount=function(){this.props.map.on("move",this.handleMapMove),this.handleMapMove()},e.prototype.havePropsChanged=function(t,e){return t.coordinates[0]!==e.coordinates[0]||t.coordinates[1]!==e.coordinates[1]||t.offset!==e.offset||t.anchor!==e.anchor},e.prototype.componentDidUpdate=function(t){this.havePropsChanged(this.props,t)&&this.setState(s.overlayState(this.props,this.props.map,this.container))},e.prototype.componentWillUnmount=function(){var t=this.props.map;this.prevent=!0,t.off("move",this.handleMapMove)},e.prototype.render=function(){var t=this.props,e=t.style,n=t.children,r=t.className,o=t.onClick,l=t.onDoubleClick,c=t.onMouseEnter,h=t.onMouseLeave,p=t.onScroll,f=t.onWheel,d=t.type,m=t.tabIndex,g=this.state.anchor,y=i({},u,e,{transform:s.overlayTransform(this.state).join(" ")}),v=g&&"popup"===d?"mapboxgl-popup-anchor-"+g:"";return a.createElement("div",{className:r+" "+v,onClick:o,onDoubleClick:l,onMouseEnter:c,onMouseLeave:h,onScroll:p,onWheel:f,style:y,ref:this.setContainer,tabIndex:m},n)},e.defaultProps={offset:0,onClick:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}},e}(a.Component);e.ProjectedLayer=c,e.default=l.withMap(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClassName=function(t,e){return e?e.split(" ").concat(t).join(" "):t.join(" ")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=e.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},a=e.isJsons=function(t){return Array.isArray(t)&&t.every((function(t){return"object"===("undefined"===typeof t?"undefined":r(t))&&!(t instanceof Array)}))},s=e.isArrays=function(t){return Array.isArray(t)&&t.every((function(t){return Array.isArray(t)}))},l=e.jsonsHeaders=function(t){return Array.from(t.map((function(t){return Object.keys(t)})).reduce((function(t,e){return new Set([].concat(i(t),i(e)))}),[]))},u=e.jsons2arrays=function(t,e){var n=e=e||l(t),r=e;a(e)&&(n=e.map((function(t){return t.label})),r=e.map((function(t){return t.key})));var o=t.map((function(t){return r.map((function(e){return c(e,t)}))}));return[n].concat(i(o))},c=e.getHeaderValue=function(t,e){var n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(t,e,n,r){var i=t[e];if(void 0!==i&&null!==i)return i;r.splice(1)}),e);return void 0===n?t in e?e[t]:"":n},h=e.elementOrEmpty=function(t){return"undefined"===typeof t||null===t?"":t},p=e.joiner=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return t.filter((function(t){return t})).map((function(t){return t.map((function(t){return h(t)})).map((function(t){return""+n+t+n})).join(e)})).join("\n")},f=e.arrays2csv=function(t,e,n,r){return p(e?[e].concat(i(t)):t,n,r)},d=e.jsons2csv=function(t,e,n,r){return p(u(t,e),n,r)},m=e.string2csv=function(t,e,n,r){return e?e.join(n)+"\n"+t:t.replace(/"/g,'""')},g=e.toCSV=function(t,e,n,r){if(a(t))return d(t,e,n,r);if(s(t))return f(t,e,n,r);if("string"===typeof t)return m(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};e.buildURI=function(t,e,n,r,i){var a=g(t,n,r,i),s=o()?"application/csv":"text/csv",l=new Blob([e?"\ufeff":"",a],{type:s}),u="data:"+s+";charset=utf-8,"+(e?"\ufeff":"")+a,c=window.URL||window.webkitURL;return"undefined"===typeof c.createObjectURL?u:c.createObjectURL(l)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropsNotForwarded=e.defaultProps=e.propTypes=void 0;var r,i=n(1),o=((r=i)&&r.__esModule,n(2));e.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},e.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},e.PropsNotForwarded=["data","headers"]},function(t,e,n){var r=n(131).default,i=n(259);t.exports=function(t){var e=i(t,"string");return"symbol"==r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(1),a=n(7),s=n(0);const l=o.forwardRef(((t,e)=>{const[{className:n,...r},{as:o="div",bsPrefix:l,spans:u}]=function(t){let{as:e,bsPrefix:n,className:r,...o}=t;n=Object(a.c)(n,"col");const s=Object(a.a)(),l=Object(a.b)(),u=[],c=[];return s.forEach((t=>{const e=o[t];let r,i,a;delete o[t],"object"===typeof e&&null!=e?({span:r,offset:i,order:a}=e):r=e;const s=t!==l?"-".concat(t):"";r&&u.push(!0===r?"".concat(n).concat(s):"".concat(n).concat(s,"-").concat(r)),null!=a&&c.push("order".concat(s,"-").concat(a)),null!=i&&c.push("offset".concat(s,"-").concat(i))})),[{...o,className:i()(r,...u,...c)},{as:e,bsPrefix:n,spans:u}]}(t);return Object(s.jsx)(o,{...r,ref:e,className:i()(n,!u.length&&l)})}));l.displayName="Col",e.a=l},function(t,e,n){"use strict";t.exports=n(233)},function(t,e,n){"use strict";t.exports=n(236)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(1),i=n.n(r),o=n(22);const a="label";function s(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function l(t,e){t.labels=e}function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;const n={labels:[],datasets:[]};return l(n,t.labels),u(n,t.datasets,e),n}function h(t,e){let{height:n=150,width:a=300,redraw:h=!1,datasetIdKey:p,type:f,data:d,options:m,plugins:g=[],fallbackContent:y,updateMode:v,..._}=t;const b=Object(r.useRef)(null),x=Object(r.useRef)(),w=()=>{b.current&&(x.current=new o.f(b.current,{type:f,data:c(d,p),options:m&&{...m},plugins:g}),s(e,x.current))},S=()=>{s(e,null),x.current&&(x.current.destroy(),x.current=null)};return Object(r.useEffect)((()=>{var t,e;!h&&x.current&&m&&(t=x.current,e=m,Object.assign(t.options,e))}),[h,m]),Object(r.useEffect)((()=>{!h&&x.current&&l(x.current.config.data,d.labels)}),[h,d.labels]),Object(r.useEffect)((()=>{!h&&x.current&&d.datasets&&u(x.current.config.data,d.datasets,p)}),[h,d.datasets]),Object(r.useEffect)((()=>{x.current&&(h?(S(),setTimeout(w)):x.current.update(v))}),[h,m,d.labels,d.datasets,v]),Object(r.useEffect)((()=>{x.current&&(S(),setTimeout(w))}),[f]),Object(r.useEffect)((()=>(w(),()=>S())),[]),i.a.createElement("canvas",Object.assign({ref:b,role:"img",height:n,width:a},_),y)}const p=Object(r.forwardRef)(h);function f(t,e){return o.f.register(e),Object(r.forwardRef)(((e,n)=>i.a.createElement(p,Object.assign({},e,{ref:n,type:t}))))}o.i;const d=f("bar",o.b);o.m,o.g,o.l,o.d,o.k,o.n},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(241));e.Map=i.default;var o=r(n(243)),a=r(n(244)),s=r(n(245));e.GeoJSONLayer=s.default;var l=r(n(246));e.Feature=l.default;var u=r(n(247));e.ZoomControl=u.default;var c=r(n(248));e.Popup=c.default;var h=r(n(250));e.ScaleControl=h.default;var p=r(n(251));e.Marker=p.default;var f=r(n(252));e.Source=f.default;var d=r(n(253));e.Cluster=d.default;var m=r(n(254));e.RotationControl=m.default;var g=r(n(255));e.Image=g.default;var y=n(40);e.MapContext=y.MapContext;var v=y.withMap(a.default(o.default));e.Layer=v,e.default=i.default},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(1),i=n(17),o=n(82),a=n(166),s=n.n(a),l=n(34),u=[],c=function(t,e,n){void 0===n&&(n={});var a=r.useRef(null),c={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||u},h=r.useState({styles:{popper:{position:c.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),p=h[0],f=h[1],d=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(t){var e=t.state,n=Object.keys(e.elements);i.flushSync((function(){f({styles:Object(l.a)(n.map((function(t){return[t,e.styles[t]||{}]}))),attributes:Object(l.a)(n.map((function(t){return[t,e.attributes[t]]})))})}))},requires:["computeStyles"]}}),[]),m=r.useMemo((function(){var t={onFirstUpdate:c.onFirstUpdate,placement:c.placement,strategy:c.strategy,modifiers:[].concat(c.modifiers,[d,{name:"applyStyles",enabled:!1}])};return s()(a.current,t)?a.current||t:(a.current=t,t)}),[c.onFirstUpdate,c.placement,c.strategy,c.modifiers,d]),g=r.useRef();return Object(l.e)((function(){g.current&&g.current.setOptions(m)}),[m]),Object(l.e)((function(){if(null!=t&&null!=e){var r=(n.createPopper||o.a)(t,e,m);return g.current=r,function(){r.destroy(),g.current=null}}}),[t,e,n.createPopper]),{state:g.current?g.current.state:null,styles:p.styles,attributes:p.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}}},function(t,e){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=e.length)return!1;for(l=s;0!==l--;)if(!a(t[l],e[l]))return!1;return!0}if(r&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!e.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!a(l.value[1],e.get(l.value[0])))return!1;return!0}if(i&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!e.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if((s=t.length)!=e.length)return!1;for(l=s;0!==l--;)if(t[l]!==e[l])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"===typeof t.valueOf&&"function"===typeof e.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&"function"===typeof t.toString&&"function"===typeof e.toString)return t.toString()===e.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(e,u[l]))return!1;if(n&&t instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!a(t[u[l]],e[u[l]]))return!1;return!0}return t!==t&&e!==e}t.exports=function(t,e){try{return a(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(){return Object(r.useState)(null)}},function(t,e,n){"use strict";var r=n(1);e.a=function(t){const e=Object(r.useRef)(t);return Object(r.useEffect)((()=>{e.current=t}),[t]),e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(){const t=Object(r.useRef)(!0),e=Object(r.useRef)((()=>t.current));return Object(r.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),e.current}},function(t,e,n){(function(e){var n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,h=u||c||Function("return this")(),p=Object.prototype.toString,f=Math.max,d=Math.min,m=function(){return h.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==r}(t))return n;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var u=a.test(t);return u||s.test(t)?l(t.slice(2),u?2:8):o.test(t)?n:+t}t.exports=function(t,e,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function _(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-u>=o}function b(){var t=m();if(_(t))return x(t);s=setTimeout(b,function(t){var n=e-(t-l);return h?d(n,o-(t-u)):n}(t))}function x(t){return s=void 0,p&&r?v(t):(r=i=void 0,a)}function w(){var t=m(),n=_(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return u=t,s=setTimeout(b,e),c?v(t):a}(l);if(h)return s=setTimeout(b,e),v(l)}return void 0===s&&(s=setTimeout(b,e)),a}return e=y(e)||0,g(n)&&(c=!!n.leading,o=(h="maxWait"in n)?f(y(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},w.flush=function(){return void 0===s?a:x(m())},w}}).call(this,n(45))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.QRCode=void 0;var i=n(267),o=n(268),a=n(1),s=n(17),l=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=a.createRef(),n}return r(e,t),e.utf16to8=function(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)(n=t.charCodeAt(e))>=1&&n<=127?r+=t.charAt(e):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},e.prototype.drawRoundedSquare=function(t,e,n,r,i,o,a,s){s.lineWidth=t,s.fillStyle=i,s.strokeStyle=i,n+=t/2,e+=t/2,r-=t,Array.isArray(o)||(o=[o,o,o,o]);var l=(o=o.map((function(t){return(t=Math.min(t,r/2))<0?0:t})))[0]||0,u=o[1]||0,c=o[2]||0,h=o[3]||0;s.beginPath(),s.moveTo(e+l,n),s.lineTo(e+r-u,n),u&&s.quadraticCurveTo(e+r,n,e+r,n+u),s.lineTo(e+r,n+r-c),c&&s.quadraticCurveTo(e+r,n+r,e+r-c,n+r),s.lineTo(e+h,n+r),h&&s.quadraticCurveTo(e,n+r,e,n+r-h),s.lineTo(e,n+l),l&&s.quadraticCurveTo(e,n,e+l,n),s.closePath(),s.stroke(),a&&s.fill()},e.prototype.drawPositioningPattern=function(t,e,n,r,i,o,a){void 0===a&&(a=[0,0,0,0]);var s,l,u,c,h=Math.ceil(e);"number"===typeof a||Array.isArray(a)?l=s=a:(s=a.outer||0,l=a.inner||0),"string"!==typeof o?(u=o.outer,c=o.inner):(u=o,c=o);var p=r*e+n,f=i*e+n,d=7*e;this.drawRoundedSquare(h,f,p,d,u,s,!1,t),d=3*e,p+=2*e,f+=2*e,this.drawRoundedSquare(h,f,p,d,c,l,!0,t)},e.prototype.isInPositioninZone=function(t,e,n){return n.some((function(n){return e>=n.row&&e<=n.row+7&&t>=n.col&&t<=n.col+7}))},e.prototype.transformPixelLengthIntoNumberOfCells=function(t,e){return t/e},e.prototype.isCoordinateInImage=function(t,e,n,r,i,o,a,s){if(s){var l=this.transformPixelLengthIntoNumberOfCells(i,a),u=this.transformPixelLengthIntoNumberOfCells(o,a),c=this.transformPixelLengthIntoNumberOfCells(n,a)-1,h=this.transformPixelLengthIntoNumberOfCells(r,a)-1;return e>=l-2&&e<=l+c+2&&t>=u-2&&t<=u+h+2}return!1},e.prototype.shouldComponentUpdate=function(t){return!i(this.props,t)},e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.update=function(){var t=this.props,n=t.value,r=t.ecLevel,i=t.enableCORS,a=t.bgColor,l=t.fgColor,u=t.logoImage,c=t.logoOpacity,h=t.logoOnLoad,p=t.removeQrCodeBehindLogo,f=t.qrStyle,d=t.eyeRadius,m=t.eyeColor,g=t.logoPaddingStyle,y=+this.props.size,v=+this.props.quietZone,_=this.props.logoWidth?+this.props.logoWidth:0,b=this.props.logoHeight?+this.props.logoHeight:0,x=this.props.logoPadding?+this.props.logoPadding:0,w=o(0,r);w.addData(e.utf16to8(n)),w.make();var S=s.findDOMNode(this.canvas.current),E=S.getContext("2d"),O=y+2*v,k=w.getModuleCount(),M=y/k,C=window.devicePixelRatio||1;S.height=S.width=O*C,E.scale(C,C),E.fillStyle=a,E.fillRect(0,0,O,O);var T=v,P=[{row:0,col:0},{row:0,col:k-7},{row:k-7,col:0}];if(E.strokeStyle=l,"dots"===f){E.fillStyle=l;for(var A=M/2,I=0;I<k;I++)for(var D=0;D<k;D++)w.isDark(I,D)&&!this.isInPositioninZone(I,D,P)&&(E.beginPath(),E.arc(Math.round(D*M)+A+T,Math.round(I*M)+A+T,A/100*75,0,2*Math.PI,!1),E.closePath(),E.fill())}else for(I=0;I<k;I++)for(D=0;D<k;D++)if(w.isDark(I,D)&&!this.isInPositioninZone(I,D,P)){E.fillStyle=l;var j=Math.ceil((D+1)*M)-Math.floor(D*M),R=Math.ceil((I+1)*M)-Math.floor(I*M);E.fillRect(Math.round(D*M)+T,Math.round(I*M)+T,j,R)}for(var L=0;L<3;L++){var z=P[L],N=(I=z.row,D=z.col,d),F=void 0;Array.isArray(N)&&(N=N[L]),"number"==typeof N&&(N=[N,N,N,N]),F=m?Array.isArray(m)?m[L]:m:l,this.drawPositioningPattern(E,M,T,I,D,F,N)}if(u){var B=new Image;i&&(B.crossOrigin="Anonymous"),B.onload=function(){E.save();var t=_||.2*y,e=b||t,n=(y-t)/2,r=(y-e)/2;if(p||x){E.beginPath(),E.strokeStyle=a,E.fillStyle=a;var i=t+2*x,o=e+2*x,s=n+T-x,l=r+T-x;if("circle"===g){var u=s+i/2,f=l+o/2;E.ellipse(u,f,i/2,o/2,0,0,2*Math.PI),E.stroke(),E.fill()}else E.fillRect(s,l,i,o)}E.globalAlpha=c,E.drawImage(B,n+T,r+T,t,e),E.restore(),h&&h()},B.src=u}},e.prototype.render=function(){var t,e=+this.props.size+2*+this.props.quietZone;return a.createElement("canvas",{id:null!==(t=this.props.id)&&void 0!==t?t:"react-qrcode-logo",height:e,width:e,style:{height:e+"px",width:e+"px"},ref:this.canvas})},e.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},e}(a.Component);e.QRCode=l},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var i=r();i.withExtraArgument=r,e.a=i},function(t,e,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||m}function _(){}function b(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=v.prototype;var x=b.prototype=new _;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,i)&&!O.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:t,key:a,ref:s,props:o,_owner:E.current}}function M(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var C=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,n,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case r:case i:l=!0}}if(l)return a=a(l=t),t=""===o?"."+T(l,0):o,w(a)?(n="",null!=t&&(n=t.replace(C,"$&/")+"/"),P(a,e,n,"",(function(t){return t}))):null!=a&&(M(a)&&(a=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",w(t))for(var u=0;u<t.length;u++){var c=o+T(s=t[u],u);l+=P(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=P(s=s.value,e,n,c=o+T(s,u++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function A(t,e,n){if(null==t)return t;var r=[],i=0;return P(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function I(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},j={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:E};e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!M(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=o,e.Profiler=s,e.PureComponent=b,e.StrictMode=a,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=E.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)S.call(e,u)&&!O.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=j.transition;j.transition={};try{t()}finally{j.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,n){return D.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,n){return D.current.useReducer(t,e,n)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return D.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.2.0"},function(t,e,n){"use strict";var r=n(1),i=n(175);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function _(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(d,t)||!h.call(f,t)&&(p.test(t)?d[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=j&&t[j]||t["@@iterator"])?t:null}var L,z=Object.assign;function N(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var F=!1;function B(t,e){if(!t||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?N(t):""}function U(t){switch(t.tag){case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 1:return t=B(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case w:return"Portal";case O:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case I:e=t._payload,t=t._init;try{return V(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Z(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function G(t,e){var n=e.checked;return z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function X(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function $(t,e){J(t,e);var n=W(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Q(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Z(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),r=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function pt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){dt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function _t(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,St=null,Et=null;function Ot(t){if(t=_i(t)){if("function"!==typeof wt)throw Error(o(280));var e=t.stateNode;e&&(e=xi(e),wt(t.stateNode,t.type,e))}}function kt(t){St?Et?Et.push(t):Et=[t]:St=t}function Mt(){if(St){var t=St,e=Et;if(Et=St=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Ct(t,e){return t(e)}function Tt(){}var Pt=!1;function At(t,e,n){if(Pt)return t(e,n);Pt=!0;try{return Ct(t,e,n)}finally{Pt=!1,(null!==St||null!==Et)&&(Tt(),Mt())}}function It(t,e){var n=t.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Dt=!1;if(c)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(ct){Dt=!1}function Rt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Lt=!1,zt=null,Nt=!1,Ft=null,Bt={onError:function(t){Lt=!0,zt=t}};function Ut(t,e,n,r,i,o,a,s,l){Lt=!1,zt=null,Rt.apply(Bt,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Vt(t)!==t)throw Error(o(188))}function qt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Wt(i),t;if(a===r)return Wt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Yt=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,Gt=i.unstable_shouldYield,Xt=i.unstable_requestPaint,Jt=i.unstable_now,$t=i.unstable_getCurrentPriorityLevel,Qt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ue=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function de(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ue;return 0===(4194240&(ue<<=1))&&(ue=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,we,Se,Ee,Oe,ke=!1,Me=[],Ce=null,Te=null,Pe=null,Ae=new Map,Ie=new Map,De=[],je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Ae.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ie.delete(e.pointerId)}}function Le(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=_i(e))&&we(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ze(t){var e=vi(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Oe(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ne(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ge(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=_i(n))&&we(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);bt=r,n.target.dispatchEvent(r),bt=null,e.shift()}return!0}function Fe(t,e,n){Ne(t)&&n.delete(e)}function Be(){ke=!1,null!==Ce&&Ne(Ce)&&(Ce=null),null!==Te&&Ne(Te)&&(Te=null),null!==Pe&&Ne(Pe)&&(Pe=null),Ae.forEach(Fe),Ie.forEach(Fe)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Be)))}function Ve(t){function e(e){return Ue(e,t)}if(0<Me.length){Ue(Me[0],t);for(var n=1;n<Me.length;n++){var r=Me[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ce&&Ue(Ce,t),null!==Te&&Ue(Te,t),null!==Pe&&Ue(Pe,t),Ae.forEach(e),Ie.forEach(e),n=0;n<De.length;n++)(r=De[n]).blockedOn===t&&(r.blockedOn=null);for(;0<De.length&&null===(n=De[0]).blockedOn;)ze(n),null===n.blockedOn&&De.shift()}var He=b.ReactCurrentBatchConfig,We=!0;function qe(t,e,n,r){var i=_e,o=He.transition;He.transition=null;try{_e=1,Ye(t,e,n,r)}finally{_e=i,He.transition=o}}function Ke(t,e,n,r){var i=_e,o=He.transition;He.transition=null;try{_e=4,Ye(t,e,n,r)}finally{_e=i,He.transition=o}}function Ye(t,e,n,r){if(We){var i=Ge(t,e,n,r);if(null===i)Wr(t,e,r,Ze,n),Re(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ce=Le(Ce,t,e,n,r,i),!0;case"dragenter":return Te=Le(Te,t,e,n,r,i),!0;case"mouseover":return Pe=Le(Pe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ae.set(o,Le(Ae.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ie.set(o,Le(Ie.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Re(t,r),4&e&&-1<je.indexOf(t)){for(;null!==i;){var o=_i(i);if(null!==o&&xe(o),null===(o=Ge(t,e,n,r))&&Wr(t,e,r,Ze,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(t,e,r,null,n)}}var Ze=null;function Ge(t,e,n,r){if(Ze=null,null!==(t=vi(t=xt(r))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ze=t,null}function Xe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Qt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Je=null,$e=null,Qe=null;function tn(){if(Qe)return Qe;var t,e,n=$e,r=n.length,i="value"in Je?Je.value:Je.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Qe=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=z({},un,{view:0,detail:0}),pn=on(hn),fn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),dn=on(fn),mn=on(z({},fn,{dataTransfer:0})),gn=on(z({},hn,{relatedTarget:0})),yn=on(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=z({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_n=on(vn),bn=on(z({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function On(){return En}var kn=z({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Mn=on(kn),Cn=on(z({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Pn=on(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=z({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(An),Dn=[9,13,27,32],jn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,zn=c&&(!jn||Rn&&8<Rn&&11>=Rn),Nn=String.fromCharCode(32),Fn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==Dn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function qn(t,e,n,r){kt(r),0<(e=Kr(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Yn=null;function Zn(t){Nr(t,0)}function Gn(t){if(Y(bi(t)))return t}function Xn(t,e){if("change"===t)return e}var Jn=!1;if(c){var $n;if(c){var Qn="oninput"in document;if(!Qn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Qn="function"===typeof tr.oninput}$n=Qn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Yn=Kn=null)}function nr(t){if("value"===t.propertyName&&Gn(Yn)){var e=[];qn(e,Yn,t,xt(t)),At(Zn,e)}}function rr(t,e,n){"focusin"===t?(er(),Yn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gn(Yn)}function or(t,e){if("click"===t)return Gn(e)}function ar(t,e){if("input"===t||"change"===t)return Gn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=ur(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ur(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pr(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Z((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function dr(t){var e=pr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,_r=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Z(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function xr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Or(t){if(Sr[t])return Sr[t];if(!wr[t])return t;var e,n=wr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return Sr[t]=n[e];return t}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var kr=Or("animationend"),Mr=Or("animationiteration"),Cr=Or("animationstart"),Tr=Or("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){Pr.set(t,e),l(e,[t])}for(var Dr=0;Dr<Ar.length;Dr++){var jr=Ar[Dr];Ir(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Ir(kr,"onAnimationEnd"),Ir(Mr,"onAnimationIteration"),Ir(Cr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function zr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,u){if(Ut.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var c=zt;Lt=!1,zt=null,Nt||(Nt=!0,Ft=c)}}(r,e,void 0,t),t.currentTarget=null}function Nr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;zr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;zr(i,s,u),o=l}}}if(Nt)throw t=Ft,Nt=!1,Ft=null,t}function Fr(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var r=t+"__bubble";n.has(r)||(Hr(e,t,2,!1),n.add(r))}function Br(t,e,n){var r=0;e&&(r|=4),Hr(n,t,r,e)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(t){if(!t[Ur]){t[Ur]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Br(e,!1,t),Br(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ur]||(e[Ur]=!0,Br("selectionchange",!1,e))}}function Hr(t,e,n,r){switch(Xe(e)){case 1:var i=qe;break;case 4:i=Ke;break;default:i=Ye}n=i.bind(null,e,n,t),i=void 0,!Dt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}At((function(){var r=o,i=xt(n),a=[];t:{var s=Pr.get(t);if(void 0!==s){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case kr:case Mr:case Cr:l=yn;break;case Tr:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&e),h=!c&&"scroll"===t,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,d=r;null!==d;){var m=(f=d).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=It(d,p))&&c.push(qr(d,m,f)))),h)break;d=d.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===bt||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[di])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Vt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=dn,m="onMouseLeave",p="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(c=Cn,m="onPointerLeave",p="onPointerEnter",d="pointer"),h=null==l?s:bi(l),f=null==u?s:bi(u),(s=new c(m,d+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,vi(i)===r&&((c=new c(p,d+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(p=u,d=0,f=c=l;f;f=Yr(f))d++;for(f=0,m=p;m;m=Yr(m))f++;for(;0<d-f;)c=Yr(c),d--;for(;0<f-d;)p=Yr(p),f--;for(;d--;){if(c===p||null!==p&&c===p.alternate)break t;c=Yr(c),p=Yr(p)}c=null}else c=null;null!==l&&Zr(a,s,l,c,!1),null!==u&&null!==h&&Zr(a,h,u,c,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Wn(s))if(Jn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(t,r))?qn(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=r?bi(r):window,t){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(jn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Vn?Bn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(v=tn()):($e="value"in(Je=i)?Je.value:Je.textContent,Vn=!0)),0<(y=Kr(r,_)).length&&(_=new bn(_,t,null,n,i),a.push({event:_,listeners:y}),v?_.data=v:null!==(v=Un(n))&&(_.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Fn=!0,Nn);case"textInput":return(t=e.data)===Nn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!jn&&Bn(t,e)?(t=tn(),Qe=$e=Je=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Nr(a,e)}))}function qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=It(t,n))&&r.unshift(qr(t,o,i)),null!=(o=It(t,e))&&r.push(qr(t,o,i))),t=t.return}return r}function Yr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Zr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=It(n,o))&&a.unshift(qr(n,l,s)):i||null!=(l=It(n,o))&&a.push(qr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Gr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(t){return("string"===typeof t?t:""+t).replace(Gr,"\n").replace(Xr,"")}function $r(t,e,n){if(e=Jr(e),Jr(t)!==e&&n)throw Error(o(425))}function Qr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ve(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ve(e)}function ui(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),pi="__reactFiber$"+hi,fi="__reactProps$"+hi,di="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[pi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[pi])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function _i(t){return!(t=t[pi]||t[di])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function xi(t){return t[fi]||null}var wi=[],Si=-1;function Ei(t){return{current:t}}function Oi(t){0>Si||(t.current=wi[Si],wi[Si]=null,Si--)}function ki(t,e){Si++,wi[Si]=t.current,t.current=e}var Mi={},Ci=Ei(Mi),Ti=Ei(!1),Pi=Mi;function Ai(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Di(){Oi(Ti),Oi(Ci)}function ji(t,e,n){if(Ci.current!==Mi)throw Error(o(168));ki(Ci,e),ki(Ti,n)}function Ri(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,H(t)||"Unknown",i));return z({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Pi=Ci.current,ki(Ci,t),ki(Ti,Ti.current),!0}function zi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Ri(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,Oi(Ti),Oi(Ci),ki(Ci,t)):Oi(Ti),ki(Ti,n)}var Ni=null,Fi=!1,Bi=!1;function Ui(t){null===Ni?Ni=[t]:Ni.push(t)}function Vi(){if(!Bi&&null!==Ni){Bi=!0;var t=0,e=_e;try{var n=Ni;for(_e=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Ni=null,Fi=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(t+1)),Yt(Qt,Vi),i}finally{_e=e,Bi=!1}}return null}var Hi=[],Wi=0,qi=null,Ki=0,Yi=[],Zi=0,Gi=null,Xi=1,Ji="";function $i(t,e){Hi[Wi++]=Ki,Hi[Wi++]=qi,qi=t,Ki=e}function Qi(t,e,n){Yi[Zi++]=Xi,Yi[Zi++]=Ji,Yi[Zi++]=Gi,Gi=t;var r=Xi;t=Ji;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-ae(e)+i|n<<i|r,Ji=o+t}else Xi=1<<o|n<<i|r,Ji=t}function to(t){null!==t.return&&($i(t,1),Qi(t,1,0))}function eo(t){for(;t===qi;)qi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null;for(;t===Gi;)Gi=Yi[--Zi],Yi[Zi]=null,Ji=Yi[--Zi],Yi[Zi]=null,Xi=Yi[--Zi],Yi[Zi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ui(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Gi?{id:Xi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Iu(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function uo(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ui(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return co(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw po(),Error(o(418));for(;e;)ao(t,e),e=ui(e.nextSibling)}if(co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ui(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ui(t.stateNode.nextSibling):null;return!0}function po(){for(var t=ro;t;)t=ui(t.nextSibling)}function fo(){ro=no=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var go=b.ReactCurrentBatchConfig;function yo(t,e){if(t&&t.defaultProps){for(var n in e=z({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vo=Ei(null),_o=null,bo=null,xo=null;function wo(){xo=bo=_o=null}function So(t){var e=vo.current;Oi(vo),t._currentValue=e}function Eo(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){_o=t,xo=bo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function ko(t){var e=t._currentValue;if(xo!==t)if(t={context:t,memoizedValue:e,next:null},null===bo){if(null===_o)throw Error(o(308));bo=t,_o.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Mo=null;function Co(t){null===Mo?Mo=[t]:Mo.push(t)}function To(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Co(e)):(n.next=i.next,i.next=n),e.interleaved=n,Po(t,r)}function Po(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Io(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Po(t,n)}return null===(i=r.interleaved)?(e.next=e,Co(r)):(e.next=i.next,i.next=e),r.interleaved=e,Po(t,n)}function Lo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function zo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function No(t,e,n,r){var i=t.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=t.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,c=u=l=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var d=t,m=s;switch(p=e,f=n,m.tag){case 1:if("function"===typeof(d=m.payload)){h=d.call(f,h,p);break t}h=d;break t;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(p="function"===typeof(d=m.payload)?d.call(f,h,p):d)||void 0===p)break t;h=z({},h,p);break t;case 2:Ao=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(p=i.effects)?i.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);zl|=a,t.lanes=a,t.memoizedState=h}}function Fo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Uo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:z({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Vo={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=eu(),i=nu(t),o=jo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,i))&&(ru(e,t,i,r),Lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=eu(),i=nu(t),o=jo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,i))&&(ru(e,t,i,r),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=eu(),r=nu(t),i=jo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Ro(t,i,r))&&(ru(e,t,r,n),Lo(e,t,r))}};function Ho(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(t,e,n){var r=!1,i=Mi,o=e.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Ii(e)?Pi:Ci.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Ai(t,i):Mi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function qo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vo.enqueueReplaceState(e,e.state,null)}function Ko(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bo,Io(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Ii(e)?Pi:Ci.current,i.context=Ai(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Uo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Vo.enqueueReplaceState(i,i.state,null),No(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Yo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Bo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Go(t){return(0,t._init)(t._payload)}function Xo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ju(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Nu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){var o=n.type;return o===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&Go(o)===e.type)?((r=i(e,n.props)).ref=Yo(t,e,n),r.return=t,r):((r=Ru(n.type,n.key,n.props,null,t.mode,r)).ref=Yo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Lu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function p(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Nu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Ru(e.type,e.key,e.props,null,t.mode,n)).ref=Yo(t,null,e),n.return=t,n;case w:return(e=Fu(e,t.mode,n)).return=t,e;case I:return p(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Lu(e,t.mode,n,null)).return=t,e;Zo(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(t,e,n,r):null;case w:return n.key===i?c(t,e,n,r):null;case I:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||R(n))return null!==i?null:h(t,e,n,r,null);Zo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case w:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case I:return d(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||R(r))return h(e,t=t.get(n)||null,r,i,null);Zo(e,r)}return null}function m(i,o,s,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,s[m],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===s.length)return n(i,h),io&&$i(i,m),u;if(null===h){for(;m<s.length;m++)null!==(h=p(i,s[m],l))&&(o=a(h,o,m),null===c?u=h:c.sibling=h,c=h);return io&&$i(i,m),u}for(h=r(i,h);m<s.length;m++)null!==(g=d(h,i,m,s[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),io&&$i(i,m),u}function g(i,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=f(i,m,v.value,u);if(null===_){null===m&&(m=y);break}t&&m&&null===_.alternate&&e(i,m),s=a(_,s,g),null===h?c=_:h.sibling=_,h=_,m=y}if(v.done)return n(i,m),io&&$i(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,u))&&(s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return io&&$i(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=d(m,i,g,v.value,u))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(i,t)})),io&&$i(i,g),c}return function t(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break t}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&Go(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Yo(r,c,a),o.return=r,r=o;break t}n(r,c);break}e(r,c),c=c.sibling}a.type===S?((o=Lu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Ru(a.type,a.key,a.props,null,r.mode,l)).ref=Yo(r,o,a),l.return=r,r=l)}return s(r);case w:t:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Fu(a,r.mode,l)).return=r,r=o}return s(r);case I:return t(r,o,(c=a._init)(a._payload),l)}if(et(a))return m(r,o,a,l);if(R(a))return g(r,o,a,l);Zo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Nu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Jo=Xo(!0),$o=Xo(!1),Qo={},ta=Ei(Qo),ea=Ei(Qo),na=Ei(Qo);function ra(t){if(t===Qo)throw Error(o(174));return t}function ia(t,e){switch(ki(na,e),ki(ea,t),ki(ta,Qo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Oi(ta),ki(ta,e)}function oa(){Oi(ta),Oi(ea),Oi(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=lt(e,t.type);e!==n&&(ki(ea,t),ki(ta,n))}function sa(t){ea.current===t&&(Oi(ta),Oi(ea))}var la=Ei(0);function ua(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ca=[];function ha(){for(var t=0;t<ca.length;t++)ca[t]._workInProgressVersionPrimary=null;ca.length=0}var pa=b.ReactCurrentDispatcher,fa=b.ReactCurrentBatchConfig,da=0,ma=null,ga=null,ya=null,va=!1,_a=!1,ba=0,xa=0;function wa(){throw Error(o(321))}function Sa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ea(t,e,n,r,i,a){if(da=a,ma=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pa.current=null===t||null===t.memoizedState?ss:ls,t=n(r,i),_a){a=0;do{if(_a=!1,ba=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,e.updateQueue=null,pa.current=us,t=n(r,i)}while(_a)}if(pa.current=as,e=null!==ga&&null!==ga.next,da=0,ya=ga=ma=null,va=!1,e)throw Error(o(300));return t}function Oa(){var t=0!==ba;return ba=0,t}function ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=t:ya=ya.next=t,ya}function Ma(){if(null===ga){var t=ma.alternate;t=null!==t?t.memoizedState:null}else t=ga.next;var e=null===ya?ma.memoizedState:ya.next;if(null!==e)ya=e,ga=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ga=t).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=t:ya=ya.next=t}return ya}function Ca(t,e){return"function"===typeof e?e(t):e}function Ta(t){var e=Ma(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var h=c.lane;if((da&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,ma.lanes|=h,zl|=h}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ma.lanes|=a,zl|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pa(t){var e=Ma(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ia(t,e){var n=ma,r=Ma(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Wa(Ra.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Fa(9,ja.bind(null,n,r,i,e),void 0,null),null===Pl)throw Error(o(349));0!==(30&da)||Da(n,e,i)}return i}function Da(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function ja(t,e,n,r){e.value=n,e.getSnapshot=r,La(e)&&za(t)}function Ra(t,e,n){return n((function(){La(e)&&za(t)}))}function La(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function za(t){var e=Po(t,1);null!==e&&ru(e,t,1,-1)}function Na(t){var e=ka();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ma,t),[e.memoizedState,t]}function Fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ba(){return Ma().memoizedState}function Ua(t,e,n,r){var i=ka();ma.flags|=t,i.memoizedState=Fa(1|e,n,void 0,void 0===r?null:r)}function Va(t,e,n,r){var i=Ma();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Fa(e,n,o,r))}ma.flags|=t,i.memoizedState=Fa(1|e,n,o,r)}function Ha(t,e){return Ua(8390656,8,t,e)}function Wa(t,e){return Va(2048,8,t,e)}function qa(t,e){return Va(4,2,t,e)}function Ka(t,e){return Va(4,4,t,e)}function Ya(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Za(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Va(4,4,Ya.bind(null,e,t),n)}function Ga(){}function Xa(t,e){var n=Ma();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ja(t,e){var n=Ma();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $a(t,e,n){return 0===(21&da)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=me(),ma.lanes|=n,zl|=n,t.baseState=!0),e)}function Qa(t,e){var n=_e;_e=0!==n&&4>n?n:4,t(!0);var r=fa.transition;fa.transition={};try{t(!1),e()}finally{_e=n,fa.transition=r}}function ts(){return Ma().memoizedState}function es(t,e,n){var r=nu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=To(t,e,n,r))){ru(n,t,r,eu()),os(n,e,r)}}function ns(t,e,n){var r=nu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Co(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(u){}null!==(n=To(t,e,i,r))&&(ru(n,t,r,i=eu()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ma||null!==e&&e===ma}function is(t,e){_a=va=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var as={readContext:ko,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(t,e){return ka().memoizedState=[t,void 0===e?null:e],t},useContext:ko,useEffect:Ha,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ua(4194308,4,Ya.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ua(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ua(4,2,t,e)},useMemo:function(t,e){var n=ka();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ka();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ma,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},ka().memoizedState=t},useState:Na,useDebugValue:Ga,useDeferredValue:function(t){return ka().memoizedState=t},useTransition:function(){var t=Na(!1),e=t[0];return t=Qa.bind(null,t[1]),ka().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ma,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Pl)throw Error(o(349));0!==(30&da)||Da(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ha(Ra.bind(null,r,a,t),[t]),r.flags|=2048,Fa(9,ja.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ka(),e=Pl.identifierPrefix;if(io){var n=Ji;e=":"+e+"R"+(n=(Xi&~(1<<32-ae(Xi)-1)).toString(32)+n),0<(n=ba++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=xa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:ko,useCallback:Xa,useContext:ko,useEffect:Wa,useImperativeHandle:Za,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Ja,useReducer:Ta,useRef:Ba,useState:function(){return Ta(Ca)},useDebugValue:Ga,useDeferredValue:function(t){return $a(Ma(),ga.memoizedState,t)},useTransition:function(){return[Ta(Ca)[0],Ma().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ia,useId:ts,unstable_isNewReconciler:!1},us={readContext:ko,useCallback:Xa,useContext:ko,useEffect:Wa,useImperativeHandle:Za,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Ja,useReducer:Pa,useRef:Ba,useState:function(){return Pa(Ca)},useDebugValue:Ga,useDeferredValue:function(t){var e=Ma();return null===ga?e.memoizedState=t:$a(e,ga.memoizedState,t)},useTransition:function(){return[Pa(Ca)[0],Ma().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ia,useId:ts,unstable_isNewReconciler:!1};function cs(t,e){try{var n="",r=e;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ps(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ql||(ql=!0,Kl=r),ps(0,e)},n}function ms(t,e,n){(n=jo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ps(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ps(0,e),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function gs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new fs;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ku.bind(null,t,e,n),e.then(t,t))}function ys(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vs(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=jo(-1,1)).tag=2,Ro(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var _s=b.ReactCurrentOwner,bs=!1;function xs(t,e,n,r){e.child=null===t?$o(e,null,n,r):Jo(e,t.child,n,r)}function ws(t,e,n,r,i){n=n.render;var o=e.ref;return Oo(e,i),r=Ea(t,e,n,r,o,i),n=Oa(),null===t||bs?(io&&n&&to(e),e.flags|=1,xs(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qs(t,e,i))}function Ss(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ru(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Es(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return qs(t,e,i)}return e.flags|=1,(t=ju(o,r)).ref=e.ref,t.return=e,e.child=t}function Es(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,qs(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return Ms(t,e,n,r,i)}function Os(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(jl,Dl),Dl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ki(jl,Dl),Dl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(jl,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,ki(jl,Dl),Dl|=r;return xs(t,e,i,n),e.child}function ks(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ms(t,e,n,r,i){var o=Ii(n)?Pi:Ci.current;return o=Ai(e,o),Oo(e,i),n=Ea(t,e,n,r,o,i),r=Oa(),null===t||bs?(io&&r&&to(e),e.flags|=1,xs(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qs(t,e,i))}function Cs(t,e,n,r,i){if(Ii(n)){var o=!0;Li(e)}else o=!1;if(Oo(e,i),null===e.stateNode)Ws(t,e),Wo(e,n,r),Ko(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ko(u):u=Ai(e,u=Ii(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&qo(e,a,r,u),Ao=!1;var p=e.memoizedState;a.state=p,No(e,r,a,i),l=e.memoizedState,s!==r||p!==l||Ti.current||Ao?("function"===typeof c&&(Uo(e,n,c,r),l=e.memoizedState),(s=Ao||Ho(e,n,s,r,p,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Do(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:yo(e.type,s),a.props=u,h=e.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ko(l):l=Ai(e,l=Ii(n)?Pi:Ci.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||p!==l)&&qo(e,a,r,l),Ao=!1,p=e.memoizedState,a.state=p,No(e,r,a,i);var d=e.memoizedState;s!==h||p!==d||Ti.current||Ao?("function"===typeof f&&(Uo(e,n,f,r),d=e.memoizedState),(u=Ao||Ho(e,n,u,r,p,d,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ts(t,e,n,r,o,i)}function Ts(t,e,n,r,i,o){ks(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&zi(e,n,!1),qs(t,e,o);r=e.stateNode,_s.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Jo(e,t.child,null,o),e.child=Jo(e,null,s,o)):xs(t,e,s,o),e.memoizedState=r.state,i&&zi(e,n,!0),e.child}function Ps(t){var e=t.stateNode;e.pendingContext?ji(0,e.pendingContext,e.pendingContext!==e.context):e.context&&ji(0,e.context,!1),ia(t,e.containerInfo)}function As(t,e,n,r,i){return fo(),mo(i),e.flags|=256,xs(t,e,n,r),e.child}var Is,Ds,js,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function zs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ns(t,e,n){var r,i=e.pendingProps,a=la.current,s=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),ki(la,1&a),null===t)return uo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zu(l,i,0,null),t=Lu(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zs(n),e.memoizedState=Ls,t):Fs(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Bs(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=zu({mode:"visible",children:r.children},i,0,null),(a=Lu(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&Jo(e,t.child,null,s),e.child.memoizedState=zs(s),e.memoizedState=Ls,a);if(0===(1&e.mode))return Bs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(l=0!==(s&t.childLanes),bs||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(t,i),ru(r,t,i,-1))}return gu(),Bs(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Cu.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ui(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Yi[Zi++]=Xi,Yi[Zi++]=Ji,Yi[Zi++]=Gi,Xi=t.id,Ji=t.overflow,Gi=e),e=Fs(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=u,e.deletions=null):(i=ju(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=ju(r,s):(s=Lu(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?zs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ls,i}return t=(s=t.child).sibling,i=ju(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Fs(t,e){return(e=zu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Bs(t,e,n,r){return null!==r&&mo(r),Jo(e,t.child,null,n),(t=Fs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Us(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Eo(t.return,e,n)}function Vs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xs(t,e,r.children,n),0!==(2&(r=la.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Us(t,n,e);else if(19===t.tag)Us(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ki(la,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ua(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ua(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vs(e,!0,n,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ws(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),zl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=ju(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ju(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ks(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ys(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(e),null;case 1:case 17:return Ii(e.type)&&Di(),Ys(e),null;case 3:return r=e.stateNode,oa(),Oi(Ti),Oi(Ci),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(su(oo),oo=null))),Ds(t,e),Ys(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)js(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Ys(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[pi]=e,r[fi]=a,t=0!==(1&e.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":it(r,a),Fr("invalid",r)}for(var l in vt(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,u,t),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,u,t),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Q(r,a,!0);break;case"textarea":K(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[pi]=e,t[fi]=r,Is(t,e,!1,!1),e.stateNode=t;t:{switch(l=_t(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),i=r;break;case"iframe":case"object":case"embed":Fr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],t);i=r;break;case"source":Fr("error",t),i=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=r;break;case"details":Fr("toggle",t),i=r;break;case"input":X(t,r),i=G(t,r),Fr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Fr("invalid",t)}for(a in vt(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?gt(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&pt(t,c):"number"===typeof c&&pt(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fr("scroll",t):null!=c&&_(t,a,c,l))}switch(n){case"input":K(t),Q(t,r,!1);break;case"textarea":K(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+W(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ys(e),null;case 6:if(t&&null!=e.stateNode)Rs(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[pi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:$r(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=e,e.stateNode=r}return Ys(e),null;case 13:if(Oi(la),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))po(),fo(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pi]=e}else fo(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ys(e),a=!1}else null!==oo&&(su(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&la.current)?0===Rl&&(Rl=3):gu())),null!==e.updateQueue&&(e.flags|=4),Ys(e),null);case 4:return oa(),Ds(t,e),null===t&&Vr(e.stateNode.containerInfo),Ys(e),null;case 10:return So(e.type._context),Ys(e),null;case 19:if(Oi(la),null===(a=e.memoizedState))return Ys(e),null;if(r=0!==(128&e.flags),null===(l=a.rendering))if(r)Ks(a,!1);else{if(0!==Rl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ua(t))){for(e.flags|=128,Ks(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ki(la,1&la.current|2),e.child}t=t.sibling}null!==a.tail&&Jt()>Hl&&(e.flags|=128,r=!0,Ks(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ua(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ys(e),null}else 2*Jt()-a.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,r=!0,Ks(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jt(),e.sibling=null,n=la.current,ki(la,r?1&n|2:1&n),e):(Ys(e),null);case 22:case 23:return pu(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Dl)&&(Ys(e),6&e.subtreeFlags&&(e.flags|=8192)):Ys(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Gs(t,e){switch(eo(e),e.tag){case 1:return Ii(e.type)&&Di(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Oi(Ti),Oi(Ci),ha(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Oi(la),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));fo()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Oi(la),null;case 4:return oa(),null;case 10:return So(e.type._context),null;case 22:case 23:return pu(),null;default:return null}}Is=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},js=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=G(t,i),r=G(t,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Qr)}for(c in vt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",t),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Rs=function(t,e,n,r){n!==r&&(e.flags|=4)};var Xs=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Qs=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ou(t,e,r)}else n.current=null}function el(t,e,n){try{n()}catch(r){Ou(t,e,r)}}var nl=!1;function rl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(e,n,o)}i=i.next}while(i!==r)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[pi],delete e[fi],delete e[mi],delete e[gi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Qr));else if(4!==r&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var hl=null,pl=!1;function fl(t,e,n){for(n=n.child;null!==n;)dl(t,e,n),n=n.sibling}function dl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Js||tl(n,e);case 6:var r=hl,i=pl;hl=null,fl(t,e,n),pl=i,null!==(hl=r)&&(pl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(pl?(t=hl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ve(t)):li(hl,n.stateNode));break;case 4:r=hl,i=pl,hl=n.stateNode.containerInfo,pl=!0,fl(t,e,n),hl=r,pl=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,e,a),i=i.next}while(i!==r)}fl(t,e,n);break;case 1:if(!Js&&(tl(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ou(n,e,s)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fl(t,e,n),Js=r):fl(t,e,n);break;default:fl(t,e,n)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $s),e.forEach((function(e){var r=Tu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,pl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,pl=!0;break t}l=l.return}if(null===hl)throw Error(o(160));dl(a,s,i),hl=null,pl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Ou(i,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),vl(t),4&r){try{rl(3,t,t.return),il(3,t)}catch(g){Ou(t,t.return,g)}try{rl(5,t,t.return)}catch(g){Ou(t,t.return,g)}}break;case 1:gl(e,t),vl(t),512&r&&null!==n&&tl(n,n.return);break;case 5:if(gl(e,t),vl(t),512&r&&null!==n&&tl(n,n.return),32&t.flags){var i=t.stateNode;try{pt(i,"")}catch(g){Ou(t,t.return,g)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),_t(l,s);var c=_t(l,a);for(s=0;s<u.length;s+=2){var h=u[s],p=u[s+1];"style"===h?gt(i,p):"dangerouslySetInnerHTML"===h?ht(i,p):"children"===h?pt(i,p):_(i,h,p,c)}switch(l){case"input":$(i,a);break;case"textarea":ot(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;null!=d?nt(i,!!a.multiple,d,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ou(t,t.return,g)}}break;case 6:if(gl(e,t),vl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Ou(t,t.return,g)}}break;case 3:if(gl(e,t),vl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(g){Ou(t,t.return,g)}break;case 4:default:gl(e,t),vl(t);break;case 13:gl(e,t),vl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Jt())),4&r&&ml(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Js=(c=Js)||h,gl(e,t),Js=c):gl(e,t),vl(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Qs=t,h=t.child;null!==h;){for(p=Qs=h;null!==Qs;){switch(d=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Ou(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){wl(p);continue}}null!==d?(d.return=f,Qs=d):wl(p)}h=h.sibling}t:for(h=null,p=t;;){if(5===p.tag){if(null===h){h=p;try{i=p.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=mt("display",s))}catch(g){Ou(t,t.return,g)}}}else if(6===p.tag){if(null===h)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Ou(t,t.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===t)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===t)break t;for(;null===p.sibling;){if(null===p.return||p.return===t)break t;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(e,t),vl(t),4&r&&ml(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pt(i,""),r.flags&=-33),cl(t,ll(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(t,ll(t),a);break;default:throw Error(o(161))}}catch(s){Ou(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function _l(t,e,n){Qs=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!==(1&t.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Xs;var u=Js;if(Xs=a,(Js=l)&&!u)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Qs=l):Sl(i);for(;null!==o;)Qs=o,bl(o,e,n),o=o.sibling;Qs=i,Xs=s,Js=u}xl(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):xl(t)}}function xl(t){for(;null!==Qs;){var e=Qs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Js||il(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Js)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Fo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Fo(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var p=h.dehydrated;null!==p&&Ve(p)}}}break;default:throw Error(o(163))}Js||512&e.flags&&ol(e)}catch(f){Ou(e,e.return,f)}}if(e===t){Qs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Qs=n;break}Qs=e.return}}function wl(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Qs=n;break}Qs=e.return}}function Sl(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){Ou(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){Ou(e,i,l)}}var o=e.return;try{ol(e)}catch(l){Ou(e,o,l)}break;case 5:var a=e.return;try{ol(e)}catch(l){Ou(e,a,l)}}}catch(l){Ou(e,e.return,l)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var El,Ol=Math.ceil,kl=b.ReactCurrentDispatcher,Ml=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Tl=0,Pl=null,Al=null,Il=0,Dl=0,jl=Ei(0),Rl=0,Ll=null,zl=0,Nl=0,Fl=0,Bl=null,Ul=null,Vl=0,Hl=1/0,Wl=null,ql=!1,Kl=null,Yl=null,Zl=!1,Gl=null,Xl=0,Jl=0,$l=null,Ql=-1,tu=0;function eu(){return 0!==(6&Tl)?Jt():-1!==Ql?Ql:Ql=Jt()}function nu(t){return 0===(1&t.mode)?1:0!==(2&Tl)&&0!==Il?Il&-Il:null!==go.transition?(0===tu&&(tu=me()),tu):0!==(t=_e)?t:t=void 0===(t=window.event)?16:Xe(t.type)}function ru(t,e,n,r){if(50<Jl)throw Jl=0,$l=null,Error(o(185));ye(t,n,r),0!==(2&Tl)&&t===Pl||(t===Pl&&(0===(2&Tl)&&(Nl|=n),4===Rl&&lu(t,Il)),iu(t,r),1===n&&0===Tl&&0===(1&e.mode)&&(Hl=Jt()+500,Fi&&Vi()))}function iu(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=fe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=pe(t,t===Pl?Il:0);if(0===r)null!==n&&Zt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Zt(n),1===e)0===t.tag?function(t){Fi=!0,Ui(t)}(uu.bind(null,t)):Ui(uu.bind(null,t)),ai((function(){0===(6&Tl)&&Vi()})),n=null;else{switch(be(r)){case 1:n=Qt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Pu(n,ou.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ou(t,e){if(Ql=-1,tu=0,0!==(6&Tl))throw Error(o(327));var n=t.callbackNode;if(Su()&&t.callbackNode!==n)return null;var r=pe(t,t===Pl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=yu(t,r);else{e=r;var i=Tl;Tl|=2;var a=mu();for(Pl===t&&Il===e||(Wl=null,Hl=Jt()+500,fu(t,e));;)try{_u();break}catch(l){du(t,l)}wo(),kl.current=a,Tl=i,null!==Al?e=0:(Pl=null,Il=0,e=Rl)}if(0!==e){if(2===e&&(0!==(i=de(t))&&(r=i,e=au(t,i))),1===e)throw n=Ll,fu(t,0),lu(t,r),iu(t,Jt()),n;if(6===e)lu(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=yu(t,r))&&(0!==(a=de(t))&&(r=a,e=au(t,a))),1===e))throw n=Ll,fu(t,0),lu(t,r),iu(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:wu(t,Ul,Wl);break;case 3:if(lu(t,r),(130023424&r)===r&&10<(e=Vl+500-Jt())){if(0!==pe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){eu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(wu.bind(null,t,Ul,Wl),e);break}wu(t,Ul,Wl);break;case 4:if(lu(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){t.timeoutHandle=ri(wu.bind(null,t,Ul,Wl),r);break}wu(t,Ul,Wl);break;default:throw Error(o(329))}}}return iu(t,Jt()),t.callbackNode===n?ou.bind(null,t):null}function au(t,e){var n=Bl;return t.current.memoizedState.isDehydrated&&(fu(t,e).flags|=256),2!==(t=yu(t,e))&&(e=Ul,Ul=n,null!==e&&su(e)),t}function su(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function lu(t,e){for(e&=~Fl,e&=~Nl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function uu(t){if(0!==(6&Tl))throw Error(o(327));Su();var e=pe(t,0);if(0===(1&e))return iu(t,Jt()),null;var n=yu(t,e);if(0!==t.tag&&2===n){var r=de(t);0!==r&&(e=r,n=au(t,r))}if(1===n)throw n=Ll,fu(t,0),lu(t,e),iu(t,Jt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wu(t,Ul,Wl),iu(t,Jt()),null}function cu(t,e){var n=Tl;Tl|=1;try{return t(e)}finally{0===(Tl=n)&&(Hl=Jt()+500,Fi&&Vi())}}function hu(t){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&Su();var e=Tl;Tl|=1;var n=Cl.transition,r=_e;try{if(Cl.transition=null,_e=1,t)return t()}finally{_e=r,Cl.transition=n,0===(6&(Tl=e))&&Vi()}}function pu(){Dl=jl.current,Oi(jl)}function fu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),Oi(Ti),Oi(Ci),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Oi(la);break;case 10:So(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Pl=t,Al=t=ju(t.current,null),Il=Dl=e,Rl=0,Ll=null,Fl=Nl=zl=0,Ul=Bl=null,null!==Mo){for(e=0;e<Mo.length;e++)if(null!==(r=(n=Mo[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Mo=null}return t}function du(t,e){for(;;){var n=Al;try{if(wo(),pa.current=as,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(da=0,ya=ga=ma=null,_a=!1,ba=0,Ml.current=null,null===n||null===n.return){Rl=1,Ll=e,Al=null;break}t:{var a=t,s=n.return,l=n,u=e;if(e=Il,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,p=h.tag;if(0===(1&h.mode)&&(0===p||11===p||15===p)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=ys(s);if(null!==d){d.flags&=-257,vs(d,s,l,0,e),1&d.mode&&gs(a,c,e),u=c;var m=(e=d).updateQueue;if(null===m){var g=new Set;g.add(u),e.updateQueue=g}else m.add(u);break t}if(0===(1&e)){gs(a,c,e),gu();break t}u=Error(o(426))}else if(io&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,e),mo(cs(u,l));break t}}a=u=cs(u,l),4!==Rl&&(Rl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,zo(a,ds(0,u,e));break t;case 1:l=u;var v=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Yl||!Yl.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e,zo(a,ms(a,l,e));break t}}a=a.return}while(null!==a)}xu(n)}catch(b){e=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mu(){var t=kl.current;return kl.current=as,null===t?as:t}function gu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&zl)&&0===(268435455&Nl)||lu(Pl,Il)}function yu(t,e){var n=Tl;Tl|=2;var r=mu();for(Pl===t&&Il===e||(Wl=null,fu(t,e));;)try{vu();break}catch(i){du(t,i)}if(wo(),Tl=n,kl.current=r,null!==Al)throw Error(o(261));return Pl=null,Il=0,Rl}function vu(){for(;null!==Al;)bu(Al)}function _u(){for(;null!==Al&&!Gt();)bu(Al)}function bu(t){var e=El(t.alternate,t,Dl);t.memoizedProps=t.pendingProps,null===e?xu(t):Al=e,Ml.current=null}function xu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Zs(n,e,Dl)))return void(Al=n)}else{if(null!==(n=Gs(n,e)))return n.flags&=32767,void(Al=n);if(null===t)return Rl=6,void(Al=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Al=e);Al=e=t}while(null!==e);0===Rl&&(Rl=5)}function wu(t,e,n){var r=_e,i=Cl.transition;try{Cl.transition=null,_e=1,function(t,e,n,r){do{Su()}while(null!==Gl);if(0!==(6&Tl))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Pl&&(Al=Pl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Pu(ee,(function(){return Su(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=_e;_e=1;var l=Tl;Tl|=4,Ml.current=null,function(t,e){if(ti=We,fr(t=pr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break t}var s=0,l=-1,u=-1,c=0,h=0,p=t,f=null;e:for(;;){for(var d;p!==n||0!==i&&3!==p.nodeType||(l=s+i),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(d=p.firstChild);)f=p,p=d;for(;;){if(p===t)break e;if(f===n&&++c===i&&(l=s),f===a&&++h===r&&(u=s),null!==(d=p.nextSibling))break;f=(p=f).parentNode}p=d}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},We=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:yo(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(x){Ou(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}m=nl,nl=!1}(t,n),yl(n,t),dr(ei),We=!!ti,ei=ti=null,t.current=n,_l(n,t,i),Xt(),Tl=l,_e=s,Cl.transition=a}else t.current=n;if(Zl&&(Zl=!1,Gl=t,Xl=i),a=t.pendingLanes,0===a&&(Yl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),iu(t,Jt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,t=Kl,Kl=null,t;0!==(1&Xl)&&0!==t.tag&&Su(),a=t.pendingLanes,0!==(1&a)?t===$l?Jl++:(Jl=0,$l=t):Jl=0,Vi()}(t,e,n,r)}finally{Cl.transition=i,_e=r}return null}function Su(){if(null!==Gl){var t=be(Xl),e=Cl.transition,n=_e;try{if(Cl.transition=null,_e=16>t?16:t,null===Gl)var r=!1;else{if(t=Gl,Gl=null,Xl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var p=h.child;if(null!==p)p.return=h,Qs=p;else for(;null!==Qs;){var f=(h=Qs).sibling,d=h.return;if(al(h),h===c){Qs=null;break}if(null!==f){f.return=d,Qs=f;break}Qs=d}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break t}Qs=a.return}}var _=t.current;for(Qs=_;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else t:for(s=_;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Ou(l,l.return,w)}if(l===s){Qs=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break t}Qs=l.return}}if(Tl=i,Vi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(w){}r=!0}return r}finally{_e=n,Cl.transition=e}}return!1}function Eu(t,e,n){t=Ro(t,e=ds(0,e=cs(n,e),1),1),e=eu(),null!==t&&(ye(t,1,e),iu(t,e))}function Ou(t,e,n){if(3===t.tag)Eu(t,t,n);else for(;null!==e;){if(3===e.tag){Eu(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){e=Ro(e,t=ms(e,t=cs(n,t),1),1),t=eu(),null!==e&&(ye(e,1,t),iu(e,t));break}}e=e.return}}function ku(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=eu(),t.pingedLanes|=t.suspendedLanes&n,Pl===t&&(Il&n)===n&&(4===Rl||3===Rl&&(130023424&Il)===Il&&500>Jt()-Vl?fu(t,0):Fl|=n),iu(t,e)}function Mu(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=eu();null!==(t=Po(t,e))&&(ye(t,e,n),iu(t,n))}function Cu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Mu(t,n)}function Tu(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Mu(t,n)}function Pu(t,e){return Yt(t,e)}function Au(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(t,e,n,r){return new Au(t,e,n,r)}function Du(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ju(t,e){var n=t.alternate;return null===n?((n=Iu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Du(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Lu(n.children,i,a,e);case E:s=8,i|=8;break;case O:return(t=Iu(12,n,e,2|i)).elementType=O,t.lanes=a,t;case T:return(t=Iu(13,n,e,i)).elementType=T,t.lanes=a,t;case P:return(t=Iu(19,n,e,i)).elementType=P,t.lanes=a,t;case D:return zu(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case M:s=9;break t;case C:s=11;break t;case A:s=14;break t;case I:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Iu(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Lu(t,e,n,r){return(t=Iu(7,t,r,e)).lanes=n,t}function zu(t,e,n,r){return(t=Iu(22,t,r,e)).elementType=D,t.lanes=n,t.stateNode={isHidden:!1},t}function Nu(t,e,n){return(t=Iu(6,t,null,e)).lanes=n,t}function Fu(t,e,n){return(e=Iu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bu(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(t,e,n,r,i,o,a,s,l){return t=new Bu(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Iu(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),t}function Vu(t){if(!t)return Mi;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ii(n))return Ri(t,n,e)}return e}function Hu(t,e,n,r,i,o,a,s,l){return(t=Uu(n,r,!0,t,0,o,0,s,l)).context=Vu(null),n=t.current,(o=jo(r=eu(),i=nu(n))).callback=void 0!==e&&null!==e?e:null,Ro(n,o,i),t.current.lanes=i,ye(t,i,r),iu(t,r),t}function Wu(t,e,n,r){var i=e.current,o=eu(),a=nu(i);return n=Vu(n),null===e.context?e.context=n:e.pendingContext=n,(e=jo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Ro(i,e,a))&&(ru(t,i,a,o),Lo(t,i,a)),a}function qu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Ku(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Yu(t,e){Ku(t,e),(t=t.alternate)&&Ku(t,e)}El=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ti.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:Ps(e),fo();break;case 5:aa(e);break;case 1:Ii(e.type)&&Li(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ki(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(ki(la,1&la.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ns(t,e,n):(ki(la,1&la.current),null!==(t=qs(t,e,n))?t.sibling:null);ki(la,1&la.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Hs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(la,la.current),r)break;return null;case 22:case 23:return e.lanes=0,Os(t,e,n)}return qs(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Qi(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ws(t,e),t=e.pendingProps;var i=Ai(e,Ci.current);Oo(e,n),i=Ea(null,e,r,t,i,n);var a=Oa();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(r)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Io(e),i.updater=Vo,e.stateNode=i,i._reactInternals=e,Ko(e,r,t,n),e=Ts(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),xs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Ws(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Du(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===A)return 14}return 2}(r),t=yo(r,t),i){case 0:e=Ms(null,e,r,t,n);break t;case 1:e=Cs(null,e,r,t,n);break t;case 11:e=ws(null,e,r,t,n);break t;case 14:e=Ss(null,e,r,yo(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ms(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 1:return r=e.type,i=e.pendingProps,Cs(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 3:t:{if(Ps(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Do(t,e),No(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=As(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=As(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=ui(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=$o(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){e=qs(t,e,n);break t}xs(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&uo(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),ks(t,e),xs(t,e,s,n),e.child;case 6:return null===t&&uo(e),null;case 13:return Ns(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Jo(e,null,r,n):xs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ws(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 7:return xs(t,e,e.pendingProps,n),e.child;case 8:case 12:return xs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ki(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){e=qs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=jo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Eo(a.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),r=r(i=ko(i)),e.flags|=1,xs(t,e,r,n),e.child;case 14:return i=yo(r=e.type,e.pendingProps),Ss(t,e,r,i=yo(r.type,i),n);case 15:return Es(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),Ws(t,e),e.tag=1,Ii(r)?(t=!0,Li(e)):t=!1,Oo(e,n),Wo(e,r,i),Ko(e,r,i,n),Ts(null,e,r,!0,t,n);case 19:return Hs(t,e,n);case 22:return Os(t,e,n)}throw Error(o(156,e.tag))};var Zu="function"===typeof reportError?reportError:function(t){console.error(t)};function Gu(t){this._internalRoot=t}function Xu(t){this._internalRoot=t}function Ju(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $u(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qu(){}function tc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=qu(a);s.call(t)}}Wu(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=qu(a);o.call(t)}}var a=Hu(e,r,t,0,null,!1,0,"",Qu);return t._reactRootContainer=a,t[di]=a.current,Vr(8===t.nodeType?t.parentNode:t),hu(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=qu(l);s.call(t)}}var l=Uu(t,0,!1,null,0,!1,0,"",Qu);return t._reactRootContainer=l,t[di]=l.current,Vr(8===t.nodeType?t.parentNode:t),hu((function(){Wu(e,l,n,r)})),l}(n,e,t,i,r);return qu(a)}Xu.prototype.render=Gu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wu(t,e,null,null)},Xu.prototype.unmount=Gu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hu((function(){Wu(null,t,null,null)})),e[di]=null}},Xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<De.length&&0!==e&&e<De[n].priority;n++);De.splice(n,0,t),0===n&&ze(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),iu(e,Jt()),0===(6&Tl)&&(Hl=Jt()+500,Vi()))}break;case 13:hu((function(){var e=Po(t,1);if(null!==e){var n=eu();ru(e,t,1,n)}})),Yu(t,1)}},we=function(t){if(13===t.tag){var e=Po(t,134217728);if(null!==e)ru(e,t,134217728,eu());Yu(t,134217728)}},Se=function(t){if(13===t.tag){var e=nu(t),n=Po(t,e);if(null!==n)ru(n,t,e,eu());Yu(t,e)}},Ee=function(){return _e},Oe=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}},wt=function(t,e,n){switch(e){case"input":if($(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xi(r);if(!i)throw Error(o(90));Y(r),$(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ct=cu,Tt=hu;var ec={usingClientEntryPoint:!1,Events:[_i,bi,xi,kt,Mt,cu]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ie=ic.inject(rc),oe=ic}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Ju(t))throw Error(o(299));var n=!1,r="",i=Zu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Uu(t,1,!1,null,0,n,0,r,i),t[di]=e.current,Vr(8===t.nodeType?t.parentNode:t),new Gu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return hu(t)},e.hydrate=function(t,e,n){if(!$u(e))throw Error(o(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Ju(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Zu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Hu(e,null,t,1,null!=n?n:null,i,0,a,s),t[di]=e.current,Vr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xu(e)},e.render=function(t,e,n){if(!$u(e))throw Error(o(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$u(t))throw Error(o(40));return!!t._reactRootContainer&&(hu((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[di]=null}))})),!0)},e.unstable_batchedUpdates=cu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$u(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tc(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},function(t,e,n){"use strict";t.exports=n(176)},function(t,e,n){"use strict";(function(t){function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],u=s+1,c=t[u];if(0>o(l,n))u<i&&0>o(c,l)?(t[r]=c,t[u]=n,r=u):(t[r]=l,t[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break t;t[r]=c,t[u]=n,r=u}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,p=null,f=3,d=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof t?t:null;function b(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(u,e)}e=r(c)}}function x(t){if(g=!1,b(t),!m)if(null!==r(u))m=!0,D(w);else{var e=r(c);null!==e&&j(x,e.startTime-t)}}function w(t,n){m=!1,g&&(g=!1,v(k),k=-1),d=!0;var o=f;try{for(b(n),p=r(u);null!==p&&(!(p.expirationTime>n)||t&&!T());){var a=p.callback;if("function"===typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&i(u),b(n)}else i(u);p=r(u)}if(null!==p)var l=!0;else{var h=r(c);null!==h&&j(x,h.startTime-n),l=!1}return l}finally{p=null,f=o,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,O=null,k=-1,M=5,C=-1;function T(){return!(e.unstable_now()-C<M)}function P(){if(null!==O){var t=e.unstable_now();C=t;var n=!0;try{n=O(!0,t)}finally{n?S():(E=!1,O=null)}}else E=!1}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=P,S=function(){I.postMessage(null)}}else S=function(){y(P,0)};function D(t){O=t,E||(E=!0,S())}function j(t,n){k=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,D(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(c,t),null===r(u)&&t===r(c)&&(g?(v(k),k=-1):g=!0,j(x,o-a))):(t.sortIndex=s,n(u,t),m||d||(m=!0,D(w))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}}).call(this,n(177).setImmediate)},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(178),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(45))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},l.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},l.clearImmediate=u}function u(t){delete o[t]}function c(t){if(a)setTimeout(c,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{u(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(45),n(138))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const r=n(88);Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}});const i=n(139);Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return i.InMemoryKeyStore}});const o=n(190);Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return o.BrowserLocalStorageKeyStore}});const a=n(191);Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return a.MergeKeyStore}})},function(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=e(),s=e([1]),l=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function m(t,e,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=t[e+o]^n[r+o];return(1&a-1>>>8)-1}function g(t,e,n,r){return m(t,e,n,r,16)}function y(t,e,n,r){return m(t,e,n,r,32)}function v(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,p=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,f=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,x=o,w=a,S=s,E=l,O=u,k=c,M=h,C=p,T=f,P=d,A=m,I=g,D=y,j=v,R=_,L=b,z=0;z<20;z+=2)x^=(i=(D^=(i=(T^=(i=(O^=(i=x+D|0)<<7|i>>>25)+x|0)<<9|i>>>23)+O|0)<<13|i>>>19)+T|0)<<18|i>>>14,k^=(i=(w^=(i=(j^=(i=(P^=(i=k+w|0)<<7|i>>>25)+k|0)<<9|i>>>23)+P|0)<<13|i>>>19)+j|0)<<18|i>>>14,A^=(i=(M^=(i=(S^=(i=(R^=(i=A+M|0)<<7|i>>>25)+A|0)<<9|i>>>23)+R|0)<<13|i>>>19)+S|0)<<18|i>>>14,L^=(i=(I^=(i=(C^=(i=(E^=(i=L+I|0)<<7|i>>>25)+L|0)<<9|i>>>23)+E|0)<<13|i>>>19)+C|0)<<18|i>>>14,x^=(i=(E^=(i=(S^=(i=(w^=(i=x+E|0)<<7|i>>>25)+x|0)<<9|i>>>23)+w|0)<<13|i>>>19)+S|0)<<18|i>>>14,k^=(i=(O^=(i=(C^=(i=(M^=(i=k+O|0)<<7|i>>>25)+k|0)<<9|i>>>23)+M|0)<<13|i>>>19)+C|0)<<18|i>>>14,A^=(i=(P^=(i=(T^=(i=(I^=(i=A+P|0)<<7|i>>>25)+A|0)<<9|i>>>23)+I|0)<<13|i>>>19)+T|0)<<18|i>>>14,L^=(i=(R^=(i=(j^=(i=(D^=(i=L+R|0)<<7|i>>>25)+L|0)<<9|i>>>23)+D|0)<<13|i>>>19)+j|0)<<18|i>>>14;x=x+o|0,w=w+a|0,S=S+s|0,E=E+l|0,O=O+u|0,k=k+c|0,M=M+h|0,C=C+p|0,T=T+f|0,P=P+d|0,A=A+m|0,I=I+g|0,D=D+y|0,j=j+v|0,R=R+_|0,L=L+b|0,t[0]=x>>>0&255,t[1]=x>>>8&255,t[2]=x>>>16&255,t[3]=x>>>24&255,t[4]=w>>>0&255,t[5]=w>>>8&255,t[6]=w>>>16&255,t[7]=w>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=O>>>0&255,t[17]=O>>>8&255,t[18]=O>>>16&255,t[19]=O>>>24&255,t[20]=k>>>0&255,t[21]=k>>>8&255,t[22]=k>>>16&255,t[23]=k>>>24&255,t[24]=M>>>0&255,t[25]=M>>>8&255,t[26]=M>>>16&255,t[27]=M>>>24&255,t[28]=C>>>0&255,t[29]=C>>>8&255,t[30]=C>>>16&255,t[31]=C>>>24&255,t[32]=T>>>0&255,t[33]=T>>>8&255,t[34]=T>>>16&255,t[35]=T>>>24&255,t[36]=P>>>0&255,t[37]=P>>>8&255,t[38]=P>>>16&255,t[39]=P>>>24&255,t[40]=A>>>0&255,t[41]=A>>>8&255,t[42]=A>>>16&255,t[43]=A>>>24&255,t[44]=I>>>0&255,t[45]=I>>>8&255,t[46]=I>>>16&255,t[47]=I>>>24&255,t[48]=D>>>0&255,t[49]=D>>>8&255,t[50]=D>>>16&255,t[51]=D>>>24&255,t[52]=j>>>0&255,t[53]=j>>>8&255,t[54]=j>>>16&255,t[55]=j>>>24&255,t[56]=R>>>0&255,t[57]=R>>>8&255,t[58]=R>>>16&255,t[59]=R>>>24&255,t[60]=L>>>0&255,t[61]=L>>>8&255,t[62]=L>>>16&255,t[63]=L>>>24&255}(t,e,n,r)}function _(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,p=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,f=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,x=0;x<20;x+=2)o^=(i=(y^=(i=(f^=(i=(u^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,c^=(i=(a^=(i=(v^=(i=(d^=(i=c+a|0)<<7|i>>>25)+c|0)<<9|i>>>23)+d|0)<<13|i>>>19)+v|0)<<18|i>>>14,m^=(i=(h^=(i=(s^=(i=(_^=(i=m+h|0)<<7|i>>>25)+m|0)<<9|i>>>23)+_|0)<<13|i>>>19)+s|0)<<18|i>>>14,b^=(i=(g^=(i=(p^=(i=(l^=(i=b+g|0)<<7|i>>>25)+b|0)<<9|i>>>23)+l|0)<<13|i>>>19)+p|0)<<18|i>>>14,o^=(i=(l^=(i=(s^=(i=(a^=(i=o+l|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,c^=(i=(u^=(i=(p^=(i=(h^=(i=c+u|0)<<7|i>>>25)+c|0)<<9|i>>>23)+h|0)<<13|i>>>19)+p|0)<<18|i>>>14,m^=(i=(d^=(i=(f^=(i=(g^=(i=m+d|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+f|0)<<18|i>>>14,b^=(i=(_^=(i=(v^=(i=(y^=(i=b+_|0)<<7|i>>>25)+b|0)<<9|i>>>23)+y|0)<<13|i>>>19)+v|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=c>>>0&255,t[5]=c>>>8&255,t[6]=c>>>16&255,t[7]=c>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=h>>>0&255,t[17]=h>>>8&255,t[18]=h>>>16&255,t[19]=h>>>24&255,t[20]=p>>>0&255,t[21]=p>>>8&255,t[22]=p>>>16&255,t[23]=p>>>24&255,t[24]=f>>>0&255,t[25]=f>>>8&255,t[26]=f>>>16&255,t[27]=f>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,n,r)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(t,e,n,r,i,o,a){var s,l,u=new Uint8Array(16),c=new Uint8Array(64);for(l=0;l<16;l++)u[l]=0;for(l=0;l<8;l++)u[l]=o[l];for(;i>=64;){for(v(c,u,a,b),l=0;l<64;l++)t[e+l]=n[r+l]^c[l];for(s=1,l=8;l<16;l++)s=s+(255&u[l])|0,u[l]=255&s,s>>>=8;i-=64,e+=64,r+=64}if(i>0)for(v(c,u,a,b),l=0;l<i;l++)t[e+l]=n[r+l]^c[l];return 0}function w(t,e,n,r,i){var o,a,s=new Uint8Array(16),l=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(v(l,s,i,b),a=0;a<64;a++)t[e+a]=l[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,e+=64}if(n>0)for(v(l,s,i,b),a=0;a<n;a++)t[e+a]=l[a];return 0}function S(t,e,n,r,i){var o=new Uint8Array(32);_(o,r,i,b);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return w(t,e,n,a,o)}function E(t,e,n,r,i,o,a){var s=new Uint8Array(32);_(s,o,a,b);for(var l=new Uint8Array(8),u=0;u<8;u++)l[u]=o[u+16];return x(t,e,n,r,i,l,s)}var O=function(t){var e,n,r,i,o,a,s,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),l=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function k(t,e,n,r,i,o){var a=new O(o);return a.update(n,r,i),a.finish(t,e),0}function M(t,e,n,r,i,o){var a=new Uint8Array(16);return k(a,0,n,r,i,o),g(t,e,a,0)}function C(t,e,n,r,i){var o;if(n<32)return-1;for(E(t,0,e,0,n,r,i),k(t,16,t,32,n-32,t),o=0;o<16;o++)t[o]=0;return 0}function T(t,e,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(S(a,0,32,r,i),0!==M(e,16,e,32,n-32,a))return-1;for(E(t,0,e,0,n,r,i),o=0;o<32;o++)t[o]=0;return 0}function P(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function A(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function I(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function D(t,n){var r,i,o,a=e(),s=e();for(r=0;r<16;r++)s[r]=n[r];for(A(s),A(s),A(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,I(s,a,1-o)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function j(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return D(n,t),D(r,e),y(n,0,r,0)}function R(t){var e=new Uint8Array(32);return D(e,t),1&e[0]}function L(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function z(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function N(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function F(t,e,n){var r,i,o=0,a=0,s=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,g=0,y=0,v=0,_=0,b=0,x=0,w=0,S=0,E=0,O=0,k=0,M=0,C=0,T=0,P=0,A=0,I=0,D=0,j=0,R=0,L=n[0],z=n[1],N=n[2],F=n[3],B=n[4],U=n[5],V=n[6],H=n[7],W=n[8],q=n[9],K=n[10],Y=n[11],Z=n[12],G=n[13],X=n[14],J=n[15];o+=(r=e[0])*L,a+=r*z,s+=r*N,l+=r*F,u+=r*B,c+=r*U,h+=r*V,p+=r*H,f+=r*W,d+=r*q,m+=r*K,g+=r*Y,y+=r*Z,v+=r*G,_+=r*X,b+=r*J,a+=(r=e[1])*L,s+=r*z,l+=r*N,u+=r*F,c+=r*B,h+=r*U,p+=r*V,f+=r*H,d+=r*W,m+=r*q,g+=r*K,y+=r*Y,v+=r*Z,_+=r*G,b+=r*X,x+=r*J,s+=(r=e[2])*L,l+=r*z,u+=r*N,c+=r*F,h+=r*B,p+=r*U,f+=r*V,d+=r*H,m+=r*W,g+=r*q,y+=r*K,v+=r*Y,_+=r*Z,b+=r*G,x+=r*X,w+=r*J,l+=(r=e[3])*L,u+=r*z,c+=r*N,h+=r*F,p+=r*B,f+=r*U,d+=r*V,m+=r*H,g+=r*W,y+=r*q,v+=r*K,_+=r*Y,b+=r*Z,x+=r*G,w+=r*X,S+=r*J,u+=(r=e[4])*L,c+=r*z,h+=r*N,p+=r*F,f+=r*B,d+=r*U,m+=r*V,g+=r*H,y+=r*W,v+=r*q,_+=r*K,b+=r*Y,x+=r*Z,w+=r*G,S+=r*X,E+=r*J,c+=(r=e[5])*L,h+=r*z,p+=r*N,f+=r*F,d+=r*B,m+=r*U,g+=r*V,y+=r*H,v+=r*W,_+=r*q,b+=r*K,x+=r*Y,w+=r*Z,S+=r*G,E+=r*X,O+=r*J,h+=(r=e[6])*L,p+=r*z,f+=r*N,d+=r*F,m+=r*B,g+=r*U,y+=r*V,v+=r*H,_+=r*W,b+=r*q,x+=r*K,w+=r*Y,S+=r*Z,E+=r*G,O+=r*X,k+=r*J,p+=(r=e[7])*L,f+=r*z,d+=r*N,m+=r*F,g+=r*B,y+=r*U,v+=r*V,_+=r*H,b+=r*W,x+=r*q,w+=r*K,S+=r*Y,E+=r*Z,O+=r*G,k+=r*X,M+=r*J,f+=(r=e[8])*L,d+=r*z,m+=r*N,g+=r*F,y+=r*B,v+=r*U,_+=r*V,b+=r*H,x+=r*W,w+=r*q,S+=r*K,E+=r*Y,O+=r*Z,k+=r*G,M+=r*X,C+=r*J,d+=(r=e[9])*L,m+=r*z,g+=r*N,y+=r*F,v+=r*B,_+=r*U,b+=r*V,x+=r*H,w+=r*W,S+=r*q,E+=r*K,O+=r*Y,k+=r*Z,M+=r*G,C+=r*X,T+=r*J,m+=(r=e[10])*L,g+=r*z,y+=r*N,v+=r*F,_+=r*B,b+=r*U,x+=r*V,w+=r*H,S+=r*W,E+=r*q,O+=r*K,k+=r*Y,M+=r*Z,C+=r*G,T+=r*X,P+=r*J,g+=(r=e[11])*L,y+=r*z,v+=r*N,_+=r*F,b+=r*B,x+=r*U,w+=r*V,S+=r*H,E+=r*W,O+=r*q,k+=r*K,M+=r*Y,C+=r*Z,T+=r*G,P+=r*X,A+=r*J,y+=(r=e[12])*L,v+=r*z,_+=r*N,b+=r*F,x+=r*B,w+=r*U,S+=r*V,E+=r*H,O+=r*W,k+=r*q,M+=r*K,C+=r*Y,T+=r*Z,P+=r*G,A+=r*X,I+=r*J,v+=(r=e[13])*L,_+=r*z,b+=r*N,x+=r*F,w+=r*B,S+=r*U,E+=r*V,O+=r*H,k+=r*W,M+=r*q,C+=r*K,T+=r*Y,P+=r*Z,A+=r*G,I+=r*X,D+=r*J,_+=(r=e[14])*L,b+=r*z,x+=r*N,w+=r*F,S+=r*B,E+=r*U,O+=r*V,k+=r*H,M+=r*W,C+=r*q,T+=r*K,P+=r*Y,A+=r*Z,I+=r*G,D+=r*X,j+=r*J,b+=(r=e[15])*L,a+=38*(w+=r*N),s+=38*(S+=r*F),l+=38*(E+=r*B),u+=38*(O+=r*U),c+=38*(k+=r*V),h+=38*(M+=r*H),p+=38*(C+=r*W),f+=38*(T+=r*q),d+=38*(P+=r*K),m+=38*(A+=r*Y),g+=38*(I+=r*Z),y+=38*(D+=r*G),v+=38*(j+=r*X),_+=38*(R+=r*J),o=(r=(o+=38*(x+=r*z))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=a,t[2]=s,t[3]=l,t[4]=u,t[5]=c,t[6]=h,t[7]=p,t[8]=f,t[9]=d,t[10]=m,t[11]=g,t[12]=y,t[13]=v,t[14]=_,t[15]=b}function B(t,e){F(t,e,e)}function U(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)B(i,i),2!==r&&4!==r&&F(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function V(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)B(i,i),1!==r&&F(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function H(t,n,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),u=e(),c=e(),h=e(),p=e(),f=e(),d=e();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,L(s,r),o=0;o<16;o++)c[o]=s[o],p[o]=u[o]=h[o]=0;for(u[0]=p[0]=1,o=254;o>=0;--o)I(u,c,i=a[o>>>3]>>>(7&o)&1),I(h,p,i),z(f,u,h),N(u,u,h),z(h,c,p),N(c,c,p),B(p,f),B(d,u),F(u,h,u),F(h,c,f),z(f,u,h),N(u,u,h),B(c,u),N(h,p,d),F(u,h,l),z(u,u,p),F(h,h,u),F(u,p,d),F(p,c,s),B(c,f),I(u,c,i),I(h,p,i);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=h[o],s[o+48]=c[o],s[o+64]=p[o];var m=s.subarray(32),g=s.subarray(16);return U(m,m),F(g,g,m),D(t,g),0}function W(t,e){return H(t,e,o)}function q(t,e){return r(e,32),W(t,e)}function K(t,e,n){var r=new Uint8Array(32);return H(r,n,e),_(t,i,r,b)}O.prototype.blocks=function(t,e,n){for(var r,i,o,a,s,l,u,c,h,p,f,d,m,g,y,v,_,b,x,w=this.fin?0:2048,S=this.h[0],E=this.h[1],O=this.h[2],k=this.h[3],M=this.h[4],C=this.h[5],T=this.h[6],P=this.h[7],A=this.h[8],I=this.h[9],D=this.r[0],j=this.r[1],R=this.r[2],L=this.r[3],z=this.r[4],N=this.r[5],F=this.r[6],B=this.r[7],U=this.r[8],V=this.r[9];n>=16;)p=h=0,p+=(S+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*D,p+=(E+=8191&(r>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*V),p+=(O+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*U),p+=(k+=8191&(o>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*B),h=(p+=(M+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,p&=8191,p+=(C+=s>>>1&8191)*(5*N),p+=(T+=8191&(s>>>14|(l=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*z),p+=(P+=8191&(l>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*L),p+=(A+=8191&(u>>>8|(c=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*R),f=h+=(p+=(I+=c>>>5|w)*(5*j))>>>13,f+=S*j,f+=E*D,f+=O*(5*V),f+=k*(5*U),h=(f+=M*(5*B))>>>13,f&=8191,f+=C*(5*F),f+=T*(5*N),f+=P*(5*z),f+=A*(5*L),h+=(f+=I*(5*R))>>>13,f&=8191,d=h,d+=S*R,d+=E*j,d+=O*D,d+=k*(5*V),h=(d+=M*(5*U))>>>13,d&=8191,d+=C*(5*B),d+=T*(5*F),d+=P*(5*N),d+=A*(5*z),m=h+=(d+=I*(5*L))>>>13,m+=S*L,m+=E*R,m+=O*j,m+=k*D,h=(m+=M*(5*V))>>>13,m&=8191,m+=C*(5*U),m+=T*(5*B),m+=P*(5*F),m+=A*(5*N),g=h+=(m+=I*(5*z))>>>13,g+=S*z,g+=E*L,g+=O*R,g+=k*j,h=(g+=M*D)>>>13,g&=8191,g+=C*(5*V),g+=T*(5*U),g+=P*(5*B),g+=A*(5*F),y=h+=(g+=I*(5*N))>>>13,y+=S*N,y+=E*z,y+=O*L,y+=k*R,h=(y+=M*j)>>>13,y&=8191,y+=C*D,y+=T*(5*V),y+=P*(5*U),y+=A*(5*B),v=h+=(y+=I*(5*F))>>>13,v+=S*F,v+=E*N,v+=O*z,v+=k*L,h=(v+=M*R)>>>13,v&=8191,v+=C*j,v+=T*D,v+=P*(5*V),v+=A*(5*U),_=h+=(v+=I*(5*B))>>>13,_+=S*B,_+=E*F,_+=O*N,_+=k*z,h=(_+=M*L)>>>13,_&=8191,_+=C*R,_+=T*j,_+=P*D,_+=A*(5*V),b=h+=(_+=I*(5*U))>>>13,b+=S*U,b+=E*B,b+=O*F,b+=k*N,h=(b+=M*z)>>>13,b&=8191,b+=C*L,b+=T*R,b+=P*j,b+=A*D,x=h+=(b+=I*(5*V))>>>13,x+=S*V,x+=E*U,x+=O*B,x+=k*F,h=(x+=M*N)>>>13,x&=8191,x+=C*z,x+=T*L,x+=P*R,x+=A*j,S=p=8191&(h=(h=((h+=(x+=I*D)>>>13)<<2)+h|0)+(p&=8191)|0),E=f+=h>>>=13,O=d&=8191,k=m&=8191,M=g&=8191,C=y&=8191,T=v&=8191,P=_&=8191,A=b&=8191,I=x&=8191,e+=16,n-=16;this.h[0]=S,this.h[1]=E,this.h[2]=O,this.h[3]=k,this.h[4]=M,this.h[5]=C,this.h[6]=T,this.h[7]=P,this.h[8]=A,this.h[9]=I},O.prototype.finish=function(t,e){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},O.prototype.update=function(t,e,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var Y=C,Z=T;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(t,e,n,r){for(var i,o,a,s,l,u,c,h,p,f,d,m,g,y,v,_,b,x,w,S,E,O,k,M,C,T,P=new Int32Array(16),A=new Int32Array(16),I=t[0],D=t[1],j=t[2],R=t[3],L=t[4],z=t[5],N=t[6],F=t[7],B=e[0],U=e[1],V=e[2],H=e[3],W=e[4],q=e[5],K=e[6],Y=e[7],Z=0;r>=128;){for(w=0;w<16;w++)S=8*w+Z,P[w]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],A[w]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(w=0;w<80;w++)if(i=I,o=D,a=j,s=R,l=L,u=z,c=N,F,p=B,f=U,d=V,m=H,g=W,y=q,v=K,Y,k=65535&(O=Y),M=O>>>16,C=65535&(E=F),T=E>>>16,k+=65535&(O=(W>>>14|L<<18)^(W>>>18|L<<14)^(L>>>9|W<<23)),M+=O>>>16,C+=65535&(E=(L>>>14|W<<18)^(L>>>18|W<<14)^(W>>>9|L<<23)),T+=E>>>16,k+=65535&(O=W&q^~W&K),M+=O>>>16,C+=65535&(E=L&z^~L&N),T+=E>>>16,E=G[2*w],k+=65535&(O=G[2*w+1]),M+=O>>>16,C+=65535&E,T+=E>>>16,E=P[w%16],M+=(O=A[w%16])>>>16,C+=65535&E,T+=E>>>16,C+=(M+=(k+=65535&O)>>>16)>>>16,k=65535&(O=x=65535&k|M<<16),M=O>>>16,C=65535&(E=b=65535&C|(T+=C>>>16)<<16),T=E>>>16,k+=65535&(O=(B>>>28|I<<4)^(I>>>2|B<<30)^(I>>>7|B<<25)),M+=O>>>16,C+=65535&(E=(I>>>28|B<<4)^(B>>>2|I<<30)^(B>>>7|I<<25)),T+=E>>>16,M+=(O=B&U^B&V^U&V)>>>16,C+=65535&(E=I&D^I&j^D&j),T+=E>>>16,h=65535&(C+=(M+=(k+=65535&O)>>>16)>>>16)|(T+=C>>>16)<<16,_=65535&k|M<<16,k=65535&(O=m),M=O>>>16,C=65535&(E=s),T=E>>>16,M+=(O=x)>>>16,C+=65535&(E=b),T+=E>>>16,D=i,j=o,R=a,L=s=65535&(C+=(M+=(k+=65535&O)>>>16)>>>16)|(T+=C>>>16)<<16,z=l,N=u,F=c,I=h,U=p,V=f,H=d,W=m=65535&k|M<<16,q=g,K=y,Y=v,B=_,w%16===15)for(S=0;S<16;S++)E=P[S],k=65535&(O=A[S]),M=O>>>16,C=65535&E,T=E>>>16,E=P[(S+9)%16],k+=65535&(O=A[(S+9)%16]),M+=O>>>16,C+=65535&E,T+=E>>>16,b=P[(S+1)%16],k+=65535&(O=((x=A[(S+1)%16])>>>1|b<<31)^(x>>>8|b<<24)^(x>>>7|b<<25)),M+=O>>>16,C+=65535&(E=(b>>>1|x<<31)^(b>>>8|x<<24)^b>>>7),T+=E>>>16,b=P[(S+14)%16],M+=(O=((x=A[(S+14)%16])>>>19|b<<13)^(b>>>29|x<<3)^(x>>>6|b<<26))>>>16,C+=65535&(E=(b>>>19|x<<13)^(x>>>29|b<<3)^b>>>6),T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,P[S]=65535&C|T<<16,A[S]=65535&k|M<<16;k=65535&(O=B),M=O>>>16,C=65535&(E=I),T=E>>>16,E=t[0],M+=(O=e[0])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[0]=I=65535&C|T<<16,e[0]=B=65535&k|M<<16,k=65535&(O=U),M=O>>>16,C=65535&(E=D),T=E>>>16,E=t[1],M+=(O=e[1])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[1]=D=65535&C|T<<16,e[1]=U=65535&k|M<<16,k=65535&(O=V),M=O>>>16,C=65535&(E=j),T=E>>>16,E=t[2],M+=(O=e[2])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[2]=j=65535&C|T<<16,e[2]=V=65535&k|M<<16,k=65535&(O=H),M=O>>>16,C=65535&(E=R),T=E>>>16,E=t[3],M+=(O=e[3])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[3]=R=65535&C|T<<16,e[3]=H=65535&k|M<<16,k=65535&(O=W),M=O>>>16,C=65535&(E=L),T=E>>>16,E=t[4],M+=(O=e[4])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[4]=L=65535&C|T<<16,e[4]=W=65535&k|M<<16,k=65535&(O=q),M=O>>>16,C=65535&(E=z),T=E>>>16,E=t[5],M+=(O=e[5])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[5]=z=65535&C|T<<16,e[5]=q=65535&k|M<<16,k=65535&(O=K),M=O>>>16,C=65535&(E=N),T=E>>>16,E=t[6],M+=(O=e[6])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[6]=N=65535&C|T<<16,e[6]=K=65535&k|M<<16,k=65535&(O=Y),M=O>>>16,C=65535&(E=F),T=E>>>16,E=t[7],M+=(O=e[7])>>>16,C+=65535&E,T+=E>>>16,T+=(C+=(M+=(k+=65535&O)>>>16)>>>16)>>>16,t[7]=F=65535&C|T<<16,e[7]=Y=65535&k|M<<16,Z+=128,r-=128}return r}function J(t,e,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,X(i,o,e,n),n%=128,r=0;r<n;r++)a[r]=e[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,d(a,n-8,s/536870912|0,s<<3),X(i,o,a,n),r=0;r<8;r++)d(t,8*r,i[r],o[r]);return 0}function $(t,n){var r=e(),i=e(),o=e(),a=e(),s=e(),l=e(),u=e(),h=e(),p=e();N(r,t[1],t[0]),N(p,n[1],n[0]),F(r,r,p),z(i,t[0],t[1]),z(p,n[0],n[1]),F(i,i,p),F(o,t[3],n[3]),F(o,o,c),F(a,t[2],n[2]),z(a,a,a),N(s,i,r),N(l,a,o),z(u,a,o),z(h,i,r),F(t[0],s,l),F(t[1],h,u),F(t[2],u,l),F(t[3],s,h)}function Q(t,e,n){var r;for(r=0;r<4;r++)I(t[r],e[r],n)}function tt(t,n){var r=e(),i=e(),o=e();U(o,n[2]),F(r,n[0],o),F(i,n[1],o),D(t,i),t[31]^=R(r)<<7}function et(t,e,n){var r,i;for(P(t[0],a),P(t[1],s),P(t[2],s),P(t[3],a),i=255;i>=0;--i)Q(t,e,r=n[i/8|0]>>(7&i)&1),$(e,t),$(t,t),Q(t,e,r)}function nt(t,n){var r=[e(),e(),e(),e()];P(r[0],h),P(r[1],p),P(r[2],s),F(r[3],h,p),et(t,r,n)}function rt(t,n,i){var o,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(i||r(n,32),J(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,nt(s,a),tt(t,s),o=0;o<32;o++)n[o+32]=t[o];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*it[i-(r-32)],n=Math.floor((e[i]+128)/256),e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*it[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*it[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function at(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,n)}function st(t,n,r,i){var o,a,s=new Uint8Array(64),l=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),h=[e(),e(),e(),e()];J(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var p=r+64;for(o=0;o<r;o++)t[64+o]=n[o];for(o=0;o<32;o++)t[32+o]=s[32+o];for(J(u,t.subarray(32),r+32),at(u),nt(h,u),tt(t,h),o=32;o<64;o++)t[o]=i[o];for(J(l,t,r+64),at(l),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)c[o+a]+=l[o]*s[a];return ot(t.subarray(32),c),p}function lt(t,n,r,i){var o,l=new Uint8Array(32),c=new Uint8Array(64),h=[e(),e(),e(),e()],p=[e(),e(),e(),e()];if(r<64)return-1;if(function(t,n){var r=e(),i=e(),o=e(),l=e(),c=e(),h=e(),p=e();return P(t[2],s),L(t[1],n),B(o,t[1]),F(l,o,u),N(o,o,t[2]),z(l,t[2],l),B(c,l),B(h,c),F(p,h,c),F(r,p,o),F(r,r,l),V(r,r),F(r,r,o),F(r,r,l),F(r,r,l),F(t[0],r,l),B(i,t[0]),F(i,i,l),j(i,o)&&F(t[0],t[0],f),B(i,t[0]),F(i,i,l),j(i,o)?-1:(R(t[0])===n[31]>>7&&N(t[0],a,t[0]),F(t[3],t[0],t[1]),0)}(p,i))return-1;for(o=0;o<r;o++)t[o]=n[o];for(o=0;o<32;o++)t[o+32]=i[o];if(J(c,t,r),at(c),et(h,p,c),nt(p,n.subarray(32)),$(h,p),tt(l,h),r-=64,y(n,0,l,0)){for(o=0;o<r;o++)t[o]=0;return-1}for(o=0;o<r;o++)t[o]=n[o+64];return r}var ut=16,ct=64,ht=32,pt=64;function ft(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function dt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function mt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:E,crypto_stream:S,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:w,crypto_onetimeauth:k,crypto_onetimeauth_verify:M,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:C,crypto_secretbox_open:T,crypto_scalarmult:H,crypto_scalarmult_base:W,crypto_box_beforenm:K,crypto_box_afternm:Y,crypto_box:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),Y(t,e,n,r,a)},crypto_box_open:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),Z(t,e,n,r,a)},crypto_box_keypair:q,crypto_hash:J,crypto_sign:st,crypto_sign_keypair:rt,crypto_sign_open:lt,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ut,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ct,crypto_sign_PUBLICKEYBYTES:ht,crypto_sign_SECRETKEYBYTES:pt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:it,pack25519:D,unpack25519:L,M:F,A:z,S:B,Z:N,pow2523:V,add:$,set25519:P,modL:ot,scalarmult:et,scalarbase:nt},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){dt(t,e,n),ft(n,e);for(var r=new Uint8Array(32+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+32]=t[o];return C(i,r,r.length,e,n),i.subarray(ut)},t.secretbox.open=function(t,e,n){dt(t,e,n),ft(n,e);for(var r=new Uint8Array(ut+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+ut]=t[o];return r.length<32||0!==T(i,r,r.length,e,n)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ut,t.scalarMult=function(t,e){if(dt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return H(n,t,e),n},t.scalarMult.base=function(t){if(dt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return W(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox(e,n,o)},t.box.before=function(t,e){dt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return K(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox.open(e,n,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(dt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return W(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(dt(t,e),e.length!==pt)throw new Error("bad secret key size");var n=new Uint8Array(ct+t.length);return st(n,t,t.length,e),n},t.sign.open=function(t,e){if(dt(t,e),e.length!==ht)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=lt(n,t,t.length,e);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached=function(e,n){for(var r=t.sign(e,n),i=new Uint8Array(ct),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached.verify=function(t,e,n){if(dt(t,e,n),e.length!==ct)throw new Error("bad signature size");if(n.length!==ht)throw new Error("bad public key size");var r,i=new Uint8Array(ct+t.length),o=new Uint8Array(ct+t.length);for(r=0;r<ct;r++)i[r]=e[r];for(r=0;r<t.length;r++)i[r+ct]=t[r];return lt(o,i,i.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ht),e=new Uint8Array(pt);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(dt(t),t.length!==pt)throw new Error("bad secret key size");for(var e=new Uint8Array(ht),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(dt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ht),n=new Uint8Array(pt),r=0;r<32;r++)n[r]=t[r];return rt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=ht,t.sign.secretKeyLength=pt,t.sign.seedLength=32,t.sign.signatureLength=ct,t.hash=function(t){dt(t);var e=new Uint8Array(64);return J(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return dt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===m(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)e.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)t[r]=i[r];mt(i)}))}else(e=n(181))&&e.randomBytes&&t.setPRNG((function(t,n){var r,i=e.randomBytes(n);for(r=0;r<n;r++)t[r]=i[r];mt(i)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},,function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(u(t,s,s+a>l?l:s+a));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+f]=255&a,f+=d,a/=256,u-=8);t[n+f-d]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},,function(t,e,n){var r=n(187);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(t,e,n){"use strict";var r=n(188).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(255!==e[a])throw new TypeError(o+" is ambiguous");e[a]=i}var s=t.length,l=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function h(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,o=0;t[n]===l;)i++,n++;for(var a=(t.length-n)*u+1>>>0,c=new Uint8Array(a);t[n];){var h=e[t.charCodeAt(n)];if(255===h)return;for(var p=0,f=a-1;(0!==h||p<o)&&-1!==f;f--,p++)h+=s*c[f]>>>0,c[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=p,n++}for(var d=a-o;d!==a&&0===c[d];)d++;var m=r.allocUnsafe(i+(a-d));m.fill(0,0,i);for(var g=i;d!==a;)m[g++]=c[d++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,o=0,a=e.length;o!==a&&0===e[o];)o++,n++;for(var u=(a-o)*c+1>>>0,h=new Uint8Array(u);o!==a;){for(var p=e[o],f=0,d=u-1;(0!==p||f<i)&&-1!==d;d--,f++)p+=256*h[d]>>>0,h[d]=p%s>>>0,p=p/s>>>0;if(0!==p)throw new Error("Non-zero carry");i=f,o++}for(var m=u-i;m!==u&&0===h[m];)m++;for(var g=l.repeat(n);m<u;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},function(t,e,n){var r=n(49),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";function r(t,e,n){return e<=t&&t<=n}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}n.r(e),n.d(e,"TextEncoder",(function(){return c})),n.d(e,"TextDecoder",(function(){return u}));function o(t){this.tokens=[].slice.call(t)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var a=-1;function s(t,e){if(t)throw TypeError("Decoder error");return e||65533}var l="utf-8";function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(t){var e=t.fatal,n=0,i=0,o=0,l=128,u=191;this.handler=function(t,c){if(-1===c&&0!==o)return o=0,s(e);if(-1===c)return a;if(0===o){if(r(c,0,127))return c;if(r(c,194,223))o=1,n=c-192;else if(r(c,224,239))224===c&&(l=160),237===c&&(u=159),o=2,n=c-224;else{if(!r(c,240,244))return s(e);240===c&&(l=144),244===c&&(u=143),o=3,n=c-240}return n<<=6*o,null}if(!r(c,l,u))return n=o=i=0,l=128,u=191,t.prepend(c),s(e);if(l=128,u=191,n+=c-128<<6*(o-(i+=1)),i!==o)return null;var h=n;return n=o=i=0,h}}function p(t){t.fatal;this.handler=function(t,e){if(-1===e)return a;if(r(e,0,127))return e;var n,i;r(e,128,2047)?(n=1,i=192):r(e,2048,65535)?(n=2,i=224):r(e,65536,1114111)&&(n=3,i=240);for(var o=[(e>>6*n)+i];n>0;){var s=e>>6*(n-1);o.push(128|63&s),n-=1}return o}}u.prototype={decode:function(t,e){var n;n="object"===typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"===typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,s=new o(n),l=[];!s.endOfStream()&&(r=this._decoder.handler(s,s.read()))!==a;)null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r));if(!this._streaming){do{if((r=this._decoder.handler(s,s.read()))===a)break;null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r))}while(!s.endOfStream());this._decoder=null}return l.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===l[0]?(this._BOMseen=!0,l.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(l)}},c.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new p(this._options)),this._streaming=Boolean(e.stream);for(var n,r=[],s=new o(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var a=t.charCodeAt(r+1);if(56320<=a&&a<=57343){var s=1023&o,l=1023&a;i.push(65536+(s<<10)+l),r+=1}else i.push(65533)}r+=1}return i}(t));!s.endOfStream()&&(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;const r=n(88),i=n(46);class o extends r.KeyStore{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"near-api-js:keystore:";super(),this.localStorage=t,this.prefix=e}async setKey(t,e,n){this.localStorage.setItem(this.storageKeyForSecretKey(t,e),n.toString())}async getKey(t,e){const n=this.localStorage.getItem(this.storageKeyForSecretKey(t,e));return n?i.KeyPair.fromString(n):null}async removeKey(t,e){this.localStorage.removeItem(this.storageKeyForSecretKey(t,e))}async clear(){for(const t of this.storageKeys())t.startsWith(this.prefix)&&this.localStorage.removeItem(t)}async getNetworks(){const t=new Set;for(const e of this.storageKeys())if(e.startsWith(this.prefix)){const n=e.substring(this.prefix.length).split(":");t.add(n[1])}return Array.from(t.values())}async getAccounts(t){const e=new Array;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const r=n.substring(this.prefix.length).split(":");r[1]===t&&e.push(r[0])}return e}storageKeyForSecretKey(t,e){return"".concat(this.prefix).concat(e,":").concat(t)}*storageKeys(){for(let t=0;t<this.localStorage.length;t++)yield this.localStorage.key(t)}}e.BrowserLocalStorageKeyStore=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;const r=n(88);class i extends r.KeyStore{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{writeKeyStoreIndex:0};super(),this.options=e,this.keyStores=t}async setKey(t,e,n){await this.keyStores[this.options.writeKeyStoreIndex].setKey(t,e,n)}async getKey(t,e){for(const n of this.keyStores){const r=await n.getKey(t,e);if(r)return r}return null}async removeKey(t,e){for(const n of this.keyStores)await n.removeKey(t,e)}async clear(){for(const t of this.keyStores)await t.clear()}async getNetworks(){const t=new Set;for(const e of this.keyStores)for(const n of await e.getNetworks())t.add(n);return Array.from(t)}async getAccounts(t){const e=new Set;for(const n of this.keyStores)for(const r of await n.getAccounts(t))e.add(r);return Array.from(e)}toString(){return"MergeKeyStore(".concat(this.keyStores.join(", "),")")}}e.MergeKeyStore=i},function(t,e,n){"use strict";(function(t){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.ErrorContext=e.TypedError=void 0;const i=r(n(59)),o=n(142),a=n(89),s=n(60);Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return s.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return s.ErrorContext}});const l=n(58),u=r(n(127)),c=n(128);let h=123;class p extends o.Provider{constructor(t){if(super(),null!=t&&"object"==typeof t)this.connection=t;else{i.default("JsonRpcProvider(url?: string)")("use `JsonRpcProvider(connectionInfo: ConnectionInfo)` instead"),this.connection={url:t}}}async status(){return this.sendJsonRpc("status",[])}async sendTransaction(e){const n=e.encode();return this.sendJsonRpc("broadcast_tx_commit",[t.from(n).toString("base64")])}async sendTransactionAsync(e){const n=e.encode();return this.sendJsonRpc("broadcast_tx_async",[t.from(n).toString("base64")])}async txStatus(t,e){return"string"===typeof t?this.txStatusString(t,e):this.txStatusUint8Array(t,e)}async txStatusUint8Array(t,e){return this.sendJsonRpc("tx",[l.baseEncode(t),e])}async txStatusString(t,e){return this.sendJsonRpc("tx",[t,e])}async txStatusReceipts(t,e){return this.sendJsonRpc("EXPERIMENTAL_tx_status",[l.baseEncode(t),e])}async query(){let t;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(1===n.length)t=await this.sendJsonRpc("query",n[0]);else{const[e,r]=n;t=await this.sendJsonRpc("query",[e,r])}if(t&&t.error)throw new s.TypedError("Querying ".concat(n," failed: ").concat(t.error,".\n").concat(JSON.stringify(t,null,2)),c.getErrorTypeFromErrorMessage(t.error));return t}async block(t){const{finality:e}=t;let{blockId:n}=t;if("object"!==typeof t){i.default("JsonRpcProvider.block(blockId)")("use `block({ blockId })` or `block({ finality })` instead"),n=t}return this.sendJsonRpc("block",{block_id:n,finality:e})}async blockChanges(t){const{finality:e}=t,{blockId:n}=t;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:n,finality:e})}async chunk(t){return this.sendJsonRpc("chunk",[t])}async validators(t){return this.sendJsonRpc("validators",[t])}async experimental_genesisConfig(){return i.default("JsonRpcProvider.experimental_protocolConfig()")("use `experimental_protocolConfig({ sync_checkpoint: 'genesis' })` to fetch the up-to-date or genesis protocol config explicitly"),await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{sync_checkpoint:"genesis"})}async experimental_protocolConfig(t){return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",t)}async experimental_lightClientProof(t){return i.default("JsonRpcProvider.experimental_lightClientProof(request)")("use `lightClientProof` instead"),await this.lightClientProof(t)}async lightClientProof(t){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",t)}async accessKeyChanges(t,e){const{finality:n}=e,{blockId:r}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:t,block_id:r,finality:n})}async singleAccessKeyChanges(t,e){const{finality:n}=e,{blockId:r}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:t,block_id:r,finality:n})}async accountChanges(t,e){const{finality:n}=e,{blockId:r}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:t,block_id:r,finality:n})}async contractStateChanges(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const{finality:r}=e,{blockId:i}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:t,key_prefix_base64:n,block_id:i,finality:r})}async contractCodeChanges(t,e){const{finality:n}=e,{blockId:r}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:t,block_id:r,finality:n})}async gasPrice(t){return await this.sendJsonRpc("gas_price",[t])}async sendJsonRpc(t,e){const n=await u.default(500,12,1.5,(async()=>{try{const n={method:t,params:e,id:h++,jsonrpc:"2.0"},r=await a.fetchJson(this.connection,JSON.stringify(n));if(r.error){if("object"===typeof r.error.data){if("string"===typeof r.error.data.error_message&&"string"===typeof r.error.data.error_type)throw new s.TypedError(r.error.data.error_message,r.error.data.error_type);throw c.parseRpcError(r.error.data)}{const t="[".concat(r.error.code,"] ").concat(r.error.message,": ").concat(r.error.data);if("Timeout"===r.error.data||t.includes("Timeout error")||t.includes("query has timed out"))throw new s.TypedError(t,"TimeoutError");throw new s.TypedError(t,c.getErrorTypeFromErrorMessage(r.error.data))}}return r}catch(n){if("TimeoutError"===n.type)return Object({NODE_ENV:"production",PUBLIC_URL:"/drugcipher",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_NO_LOGS||console.warn("Retrying request to ".concat(t," as it has timed out"),e),null;throw n}})),{result:r}=n;if("undefined"===typeof r)throw new s.TypedError("Exceeded ".concat(12," attempts for request to ").concat(t,"."),"RetriesExceeded");return r}}e.JsonRpcProvider=p}).call(this,n(49).Buffer)},function(t,e,n){"use strict";var r,i=n(194)("http-errors"),o=n(195),a=n(196),s=n(198),l=n(199);function u(t){return Number(String(t).charAt(0)+"00")}function c(t,e){var n=Object.getOwnPropertyDescriptor(t,"name");n&&n.configurable&&(n.value=e,Object.defineProperty(t,"name",n))}function h(t){return"Error"!==t.substr(-5)?t+"Error":t}t.exports=function t(){for(var e,n,r=500,o={},s=0;s<arguments.length;s++){var l=arguments[s];if(l instanceof Error)r=(e=l).status||e.statusCode||r;else switch(typeof l){case"string":n=l;break;case"number":r=l,0!==s&&i("non-first-argument status code; replace with createError("+l+", ...)");break;case"object":o=l}}"number"===typeof r&&(r<400||r>=600)&&i("non-error status code; use only 4xx or 5xx status codes");("number"!==typeof r||!a[r]&&(r<400||r>=600))&&(r=500);var c=t[r]||t[u(r)];e||(e=c?new c(n):new Error(n||a[r]),Error.captureStackTrace(e,t));c&&e instanceof c&&e.status===r||(e.expose=r<500,e.status=e.statusCode=r);for(var h in o)"status"!==h&&"statusCode"!==h&&(e[h]=o[h]);return e},t.exports.HttpError=function(){function t(){throw new TypeError("cannot construct abstract class")}return s(t,Error),t}(),t.exports.isHttpError=(r=t.exports.HttpError,function(t){return!(!t||"object"!==typeof t)&&(t instanceof r||t instanceof Error&&"boolean"===typeof t.expose&&"number"===typeof t.statusCode&&t.status===t.statusCode)}),function(t,e,n){e.forEach((function(e){var r,i=l(a[e]);switch(u(e)){case 400:r=function(t,e,n){var r=h(e);function i(t){var e=null!=t?t:a[n],s=new Error(e);return Error.captureStackTrace(s,i),o(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:r,writable:!0}),s}return s(i,t),c(i,r),i.prototype.status=n,i.prototype.statusCode=n,i.prototype.expose=!0,i}(n,i,e);break;case 500:r=function(t,e,n){var r=h(e);function i(t){var e=null!=t?t:a[n],s=new Error(e);return Error.captureStackTrace(s,i),o(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:r,writable:!0}),s}return s(i,t),c(i,r),i.prototype.status=n,i.prototype.statusCode=n,i.prototype.expose=!1,i}(n,i,e)}r&&(t[e]=r,t[i]=r)})),t["I'mateapot"]=i.function(t.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(t.exports,a.codes,t.exports.HttpError)},function(t,e,n){"use strict";function r(t,e){if("function"!==typeof t)throw new TypeError("argument fn must be a function");return t}function i(t,e,n){if(!t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable")}t.exports=function(t){if(!t)throw new TypeError("argument namespace is required");function e(t){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=r,e.property=i,e}},function(t,e,n){"use strict";t.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t})},function(t,e,n){"use strict";var r=n(197);function i(t){if("number"===typeof t){if(!i[t])throw new Error("invalid status code: "+t);return t}if("string"!==typeof t)throw new TypeError("code must be a number or string");var e=parseInt(t,10);if(!isNaN(e)){if(!i[e])throw new Error("invalid status code: "+e);return e}if(!(e=i[t.toLowerCase()]))throw new Error('invalid status message: "'+t+'"');return e}t.exports=i,i.STATUS_CODES=r,i.codes=function(t,e){var n=[];return Object.keys(e).forEach((function(r){var i=e[r],o=Number(r);t[o]=i,t[i]=o,t[i.toLowerCase()]=o,n.push(o)})),n}(i,r),i.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},i.empty={204:!0,205:!0,304:!0},i.retry={502:!0,503:!0,504:!0}},function(t){t.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";t.exports=function(t){return t.split(" ").map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}},function(t,e,n){t.exports=function(){"use strict";var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"===typeof t}function r(t){return e(t)?"array":typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"===typeof t&&e in t}function a(t,e){return null!=t&&"object"!==typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var s=RegExp.prototype.test;function l(t,e){return s.call(t,e)}var u=/\S/;function c(t){return!l(u,t)}var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function p(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return h[t]}))}var f=/\s*/,d=/\s+/,m=/\s*=/,g=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/;function v(t,n){if(!t)return[];var r,o,a,s=!1,l=[],u=[],h=[],p=!1,v=!1,w="",S=0;function O(){if(p&&!v)for(;h.length;)delete u[h.pop()];else h=[];p=!1,v=!1}function k(t){if("string"===typeof t&&(t=t.split(d,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(i(t[0])+"\\s*"),o=new RegExp("\\s*"+i(t[1])),a=new RegExp("\\s*"+i("}"+t[1]))}k(n||E.tags);for(var M,C,T,P,A,I,D=new x(t);!D.eos();){if(M=D.pos,T=D.scanUntil(r))for(var j=0,R=T.length;j<R;++j)c(P=T.charAt(j))?(h.push(u.length),w+=P):(v=!0,s=!0,w+=" "),u.push(["text",P,M,M+1]),M+=1,"\n"===P&&(O(),w="",S=0,s=!1);if(!D.scan(r))break;if(p=!0,C=D.scan(y)||"name",D.scan(f),"="===C?(T=D.scanUntil(m),D.scan(m),D.scanUntil(o)):"{"===C?(T=D.scanUntil(a),D.scan(g),D.scanUntil(o),C="&"):T=D.scanUntil(o),!D.scan(o))throw new Error("Unclosed tag at "+D.pos);if(A=">"==C?[C,T,M,D.pos,w,S,s]:[C,T,M,D.pos],S++,u.push(A),"#"===C||"^"===C)l.push(A);else if("/"===C){if(!(I=l.pop()))throw new Error('Unopened section "'+T+'" at '+M);if(I[1]!==T)throw new Error('Unclosed section "'+I[1]+'" at '+M)}else"name"===C||"{"===C||"&"===C?v=!0:"="===C&&k(T)}if(O(),I=l.pop())throw new Error('Unclosed section "'+I[1]+'" at '+D.pos);return b(_(u))}function _(t){for(var e,n,r=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}function b(t){for(var e,n=[],r=n,i=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}function x(t){this.string=t,this.tail=t,this.pos=0}function w(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function S(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}x.prototype.eos=function(){return""===this.tail},x.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},x.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},w.prototype.push=function(t){return new w(t,this)},w.prototype.lookup=function(t){var e,r=this.cache;if(r.hasOwnProperty(t))e=r[t];else{for(var i,s,l,u=this,c=!1;u;){if(t.indexOf(".")>0)for(i=u.view,s=t.split("."),l=0;null!=i&&l<s.length;)l===s.length-1&&(c=o(i,s[l])||a(i,s[l])),i=i[s[l++]];else i=u.view[t],c=o(u.view,t);if(c){e=i;break}u=u.parent}r[t]=e}return n(e)&&(e=e.call(this.view)),e},S.prototype.clearCache=function(){"undefined"!==typeof this.templateCache&&this.templateCache.clear()},S.prototype.parse=function(t,e){var n=this.templateCache,r=t+":"+(e||E.tags).join(":"),i="undefined"!==typeof n,o=i?n.get(r):void 0;return void 0==o&&(o=v(t,e),i&&n.set(r,o)),o},S.prototype.render=function(t,e,n,r){var i=this.getConfigTags(r),o=this.parse(t,i),a=e instanceof w?e:new w(e,void 0);return this.renderTokens(o,a,n,t,r)},S.prototype.renderTokens=function(t,e,n,r,i){for(var o,a,s,l="",u=0,c=t.length;u<c;++u)s=void 0,"#"===(a=(o=t[u])[0])?s=this.renderSection(o,e,n,r,i):"^"===a?s=this.renderInverted(o,e,n,r,i):">"===a?s=this.renderPartial(o,e,n,i):"&"===a?s=this.unescapedValue(o,e):"name"===a?s=this.escapedValue(o,e,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},S.prototype.renderSection=function(t,r,i,o,a){var s=this,l="",u=r.lookup(t[1]);function c(t){return s.render(t,r,i,a)}if(u){if(e(u))for(var h=0,p=u.length;h<p;++h)l+=this.renderTokens(t[4],r.push(u[h]),i,o,a);else if("object"===typeof u||"string"===typeof u||"number"===typeof u)l+=this.renderTokens(t[4],r.push(u),i,o,a);else if(n(u)){if("string"!==typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(r.view,o.slice(t[3],t[5]),c))&&(l+=u)}else l+=this.renderTokens(t[4],r,i,o,a);return l}},S.prototype.renderInverted=function(t,n,r,i,o){var a=n.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],n,r,i,o)},S.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),i=t.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},S.prototype.renderPartial=function(t,e,r,i){if(r){var o=this.getConfigTags(i),a=n(r)?r(t[1]):r[t[1]];if(null!=a){var s=t[6],l=t[5],u=t[4],c=a;0==l&&u&&(c=this.indentPartial(a,u,s));var h=this.parse(c,o);return this.renderTokens(h,e,r,c,i)}}},S.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},S.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||E.escape,i=e.lookup(t[1]);if(null!=i)return"number"===typeof i&&r===E.escape?String(i):r(i)},S.prototype.rawValue=function(t){return t[1]},S.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"===typeof t?t.tags:void 0},S.prototype.getConfigEscape=function(t){return t&&"object"===typeof t&&!e(t)?t.escape:void 0};var E={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){O.templateCache=t},get templateCache(){return O.templateCache}},O=new S;return E.clearCache=function(){return O.clearCache()},E.parse=function(t,e){return O.parse(t,e)},E.render=function(t,e,n,i){if("string"!==typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+r(t)+'" was given as the first argument for mustache#render(template, view, partials)');return O.render(t,e,n,i)},E.escape=p,E.Scanner=x,E.Context=w,E.Writer=S,E}()},function(t){t.exports=JSON.parse('{"schema":{"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BreakpointTrap":{"name":"BreakpointTrap","subtypes":[],"props":{}},"CacheError":{"name":"CacheError","subtypes":["ReadError","WriteError","DeserializationError","SerializationError"],"props":{}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"DeserializationError":{"name":"DeserializationError","subtypes":[],"props":{}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"FunctionCallError":{"name":"FunctionCallError","subtypes":["CompilationError","LinkError","MethodResolveError","WasmTrap","WasmUnknownError","HostError","EvmError"],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LinkError":{"name":"LinkError","subtypes":[],"props":{"msg":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodUTF8Error","MethodNotFound","MethodInvalidSignature"],"props":{}},"MethodUTF8Error":{"name":"MethodUTF8Error","subtypes":[],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReadError":{"name":"ReadError","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"SerializationError":{"name":"SerializationError","subtypes":[],"props":{"hash":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","BreakpointTrap","StackOverflow","GenericTrap"],"props":{}},"WasmUnknownError":{"name":"WasmUnknownError","subtypes":[],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"WriteError":{"name":"WriteError","subtypes":[],"props":{}},"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation"],"props":{}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"InternalError":{"name":"InternalError","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed","InternalError"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},function(t){t.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed"}')},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.diffEpochValidators=e.findSeatPrice=void 0;const i=r(n(50)),o=r(n(59));e.findSeatPrice=function(t,e,n,r){if(r&&r<49)return function(t,e){const n=t.map((t=>new i.default(t.stake,10))).sort(((t,e)=>t.cmp(e))),r=new i.default(e),o=n.reduce(((t,e)=>t.add(e)));if(o.lt(r))throw new Error("Stakes are below seats");let a=new i.default(1),s=o.add(new i.default(1));for(;!a.eq(s.sub(new i.default(1)));){const t=a.add(s).div(new i.default(2));let e=!1,o=new i.default(0);for(let i=0;i<n.length;++i)if(o=o.add(n[i].div(t)),o.gte(r)){a=t,e=!0;break}e||(s=t)}return a}(t,e);if(!n){o.default("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),n=[1,6250]}return function(t,e,n){if(2!=n.length)throw Error("minimumStakeRatio should have 2 elements");const r=t.map((t=>new i.default(t.stake,10))).sort(((t,e)=>t.cmp(e))),o=r.reduce(((t,e)=>t.add(e)));return t.length<e?o.mul(new i.default(n[0])).div(new i.default(n[1])):r[0].add(new i.default(1))}(t,e,n)},e.diffEpochValidators=function(t,e){const n=new Map;t.forEach((t=>n.set(t.account_id,t)));const r=new Set(e.map((t=>t.account_id)));return{newValidators:e.filter((t=>!n.has(t.account_id))),removedValidators:t.filter((t=>!r.has(t.account_id))),changedValidators:e.filter((t=>n.has(t.account_id)&&n.get(t.account_id).stake!=t.stake)).map((t=>({current:n.get(t.account_id),next:t})))}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FUNCTION_CALL_GAS=void 0;const i=r(n(50));e.DEFAULT_FUNCTION_CALL_GAS=new i.default("30000000000000")},function(t,e,n){"use strict";(function(t){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Account2FA=e.AccountMultisig=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=void 0;const i=r(n(50)),o=r(n(59)),a=n(91),s=n(48),l=n(46),u=n(90),c=n(89);e.MULTISIG_STORAGE_KEY="__multisigRequest",e.MULTISIG_ALLOWANCE=new i.default(s.parseNearAmount("1")),e.MULTISIG_GAS=new i.default("100000000000000"),e.MULTISIG_DEPOSIT=new i.default("0"),e.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],e.MULTISIG_CONFIRM_METHODS=["confirm"];const h={[e.MULTISIG_STORAGE_KEY]:null};class p extends a.Account{constructor(t,e,n){super(t,e),this.storage=n.storage,this.onAddRequestResult=n.onAddRequestResult}async signAndSendTransactionWithAccount(t,e){return super.signAndSendTransaction({receiverId:t,actions:e})}signAndSendTransaction(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this._signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]}):this._signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}async _signAndSendTransaction(n){let{receiverId:r,actions:i}=n;const{accountId:o}=this,a=t.from(JSON.stringify({request:{receiver_id:r,actions:d(i,o,r)}}));let s;try{s=await super.signAndSendTransaction({receiverId:o,actions:[u.functionCall("add_request_and_confirm",a,e.MULTISIG_GAS,e.MULTISIG_DEPOSIT)]})}catch(c){if(c.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction(r,i);throw c}if(!s.status)throw new Error("Request failed");const l={...s.status};if(!l.SuccessValue||"string"!==typeof l.SuccessValue)throw new Error("Request failed");return this.setRequest({accountId:o,actions:i,requestId:parseInt(t.from(l.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(s),this.deleteUnconfirmedRequests(),s}async deleteUnconfirmedRequests(){const t=await this.getRequestIds(),{requestId:n}=this.getRequest();for(const i of t)if(i!=n)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[u.functionCall("delete_request",{request_id:i},e.MULTISIG_GAS,e.MULTISIG_DEPOSIT)]})}catch(r){console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction(this.accountId,"list_request_ids")}getRequest(){return this.storage?JSON.parse(this.storage.getItem(e.MULTISIG_STORAGE_KEY)||"{}"):h[e.MULTISIG_STORAGE_KEY]}setRequest(t){if(this.storage)return this.storage.setItem(e.MULTISIG_STORAGE_KEY,JSON.stringify(t));h[e.MULTISIG_STORAGE_KEY]=t}}e.AccountMultisig=p;e.Account2FA=class extends p{constructor(t,e,n){super(t,e,n),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=n.helperUrl||this.helperUrl,this.storage=n.storage,this.sendCode=n.sendCode||this.sendCodeDefault,this.getCode=n.getCode||this.getCodeDefault,this.verifyCode=n.verifyCode||this.verifyCodeDefault,this.onConfirmResult=n.onConfirmResult}async signAndSendTransaction(){if("string"===typeof(arguments.length<=0?void 0:arguments[0])){return o.default("Account.signAndSendTransaction(receiverId, actions")("use `Account2FA.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),this.__signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]})}return this.__signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}async __signAndSendTransaction(t){let{receiverId:e,actions:n}=t;await super.signAndSendTransaction({receiverId:e,actions:n}),await this.sendCode();const r=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(r),r}async deployMultisig(n){const{accountId:r}=this,i=(await this.getRecoveryMethods()).data.filter((t=>{let{kind:e,publicKey:n}=t;return("phrase"===e||"ledger"===e)&&null!==n})).map((t=>t.publicKey)),o=(await this.getAccessKeys()).filter((t=>{let{public_key:e,access_key:{permission:n}}=t;return"FullAccess"===n&&!i.includes(e)})).map((t=>t.public_key)).map(f),a=f((await this.postSignedJson("/2fa/getAccessKey",{accountId:r})).publicKey),s=t.from(JSON.stringify({num_confirmations:2})),l=[...o.map((t=>u.deleteKey(t))),...o.map((t=>u.addKey(t,u.functionCallAccessKey(r,e.MULTISIG_CHANGE_METHODS,null)))),u.addKey(a,u.functionCallAccessKey(r,e.MULTISIG_CONFIRM_METHODS,null)),u.deployContract(n)];return"11111111111111111111111111111111"===(await this.state()).code_hash&&l.push(u.functionCall("new",s,e.MULTISIG_GAS,e.MULTISIG_DEPOSIT)),console.log("deploying multisig contract for",r),await super.signAndSendTransactionWithAccount(r,l)}async disable(t){const{accountId:e}=this,n=(await this.getAccessKeys()).filter((t=>{let{access_key:e}=t;return"FullAccess"!==e.permission})).filter((t=>{let{access_key:n}=t;const r=n.permission.FunctionCall;return r.receiver_id===e&&4===r.method_names.length&&r.method_names.includes("add_request_and_confirm")})),r=l.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:e})).publicKey),i=[u.deleteKey(r),...n.map((t=>{let{public_key:e}=t;return u.deleteKey(l.PublicKey.from(e))})),...n.map((t=>{let{public_key:e}=t;return u.addKey(l.PublicKey.from(e),null)})),u.deployContract(t)];return console.log("disabling 2fa for",e),await this.signAndSendTransaction({receiverId:e,actions:i})}async sendCodeDefault(){const{accountId:t}=this,{requestId:e}=this.getRequest(),n=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:t,method:n,requestId:e}),e}async getCodeDefault(t){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){const t=await this.get2faMethod(),e=await this.getCode(t);try{return await this.verifyCode(e)}catch(n){if(console.warn("Error validating security code:",n),n.toString().includes("invalid 2fa code provided")||n.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw n}}async verifyCodeDefault(t){const{accountId:e}=this,n=this.getRequest();if(!n)throw new Error("no request pending");const{requestId:r}=n;return await this.postSignedJson("/2fa/verify",{accountId:e,securityCode:t,requestId:r})}async getRecoveryMethods(){const{accountId:t}=this;return{accountId:t,data:await this.postSignedJson("/account/recoveryMethods",{accountId:t})}}async get2faMethod(){let{data:t}=await this.getRecoveryMethods();if(t&&t.length&&(t=t.find((t=>0===t.kind.indexOf("2fa-")))),!t)return null;const{kind:e,detail:n}=t;return{kind:e,detail:n}}async signatureFor(){const{accountId:e}=this,n=(await this.connection.provider.block({finality:"final"})).header.height.toString(),r=await this.connection.signer.signMessage(t.from(n),e,this.connection.networkId);return{blockNumber:n,blockNumberSignature:t.from(r.signature).toString("base64")}}async postSignedJson(t,e){return await c.fetchJson(this.helperUrl+t,JSON.stringify({...e,...await this.signatureFor()}))}};const f=t=>l.PublicKey.from(t),d=(n,r,i)=>n.map((n=>{const o=n.enum,{gas:a,publicKey:s,methodName:l,args:u,deposit:c,accessKey:h,code:p}=n[o],f={type:o[0].toUpperCase()+o.substr(1),gas:a&&a.toString()||void 0,public_key:s&&(d=s,d.toString().replace("ed25519:",""))||void 0,method_name:l,args:u&&t.from(u).toString("base64")||void 0,code:p&&t.from(p).toString("base64")||void 0,amount:c&&c.toString()||void 0,deposit:c&&c.toString()||"0",permission:void 0};var d;if(h&&(i===r&&"fullAccess"!==h.permission.enum&&(f.permission={receiver_id:r,allowance:e.MULTISIG_ALLOWANCE.toString(),method_names:e.MULTISIG_CHANGE_METHODS}),"functionCall"===h.permission.enum)){const{receiverId:t,methodNames:e,allowance:n}=h.permission.functionCall;f.permission={receiver_id:t,allowance:n&&n.toString()||void 0,method_names:e}}return f}))}).call(this,n(49).Buffer)},function(t,e,n){"use strict";(function(t){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectedWalletAccount=e.WalletAccount=e.WalletConnection=void 0;const i=r(n(59)),o=n(91),a=n(90),s=n(143),l=n(58),u=n(58),c="pending_key";class h{constructor(t,e){this._near=t;const n=e+"_wallet_auth_key",r=JSON.parse(window.localStorage.getItem(n));this._networkId=t.config.networkId,this._walletBaseUrl=t.config.walletUrl,e=e||t.config.contractName||"default",this._keyStore=t.connection.signer.keyStore,this._authData=r||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||this._completeSignInWithAccessKey()}isSignedIn(){return!!this._authData.accountId}getAccountId(){return this._authData.accountId||""}async requestSignIn(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"===typeof e){i.default("requestSignIn(contractId, title)")("`title` ignored; use `requestSignIn({ contractId, methodNames, successUrl, failureUrl })` instead"),t={contractId:e,successUrl:n,failureUrl:r}}else t=e;const o=new URL(window.location.href),a=new URL(this._walletBaseUrl+"/login/");if(a.searchParams.set("success_url",t.successUrl||o.href),a.searchParams.set("failure_url",t.failureUrl||o.href),t.contractId){const e=await this._near.account(t.contractId);await e.state(),a.searchParams.set("contract_id",t.contractId);const n=s.KeyPair.fromRandom("ed25519");a.searchParams.set("public_key",n.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,c+n.getPublicKey(),n)}t.methodNames&&t.methodNames.forEach((t=>{a.searchParams.append("methodNames",t)})),window.location.assign(a.toString())}async requestSignTransactions(){if(Array.isArray(arguments.length<=0?void 0:arguments[0])){return i.default("WalletConnection.requestSignTransactions(transactions, callbackUrl, meta)")("use `WalletConnection.requestSignTransactions(RequestSignTransactionsOptions)` instead"),this._requestSignTransactions({transactions:arguments.length<=0?void 0:arguments[0],callbackUrl:arguments.length<=1?void 0:arguments[1],meta:arguments.length<=2?void 0:arguments[2]})}return this._requestSignTransactions(arguments.length<=0?void 0:arguments[0])}async _requestSignTransactions(e){let{transactions:n,meta:r,callbackUrl:i}=e;const o=new URL(window.location.href),s=new URL("sign",this._walletBaseUrl);s.searchParams.set("transactions",n.map((t=>u.serialize(a.SCHEMA,t))).map((e=>t.from(e).toString("base64"))).join(",")),s.searchParams.set("callbackUrl",i||o.href),r&&s.searchParams.set("meta",r),window.location.assign(s.toString())}async _completeSignInWithAccessKey(){const t=new URL(window.location.href),e=t.searchParams.get("public_key")||"",n=(t.searchParams.get("all_keys")||"").split(","),r=t.searchParams.get("account_id")||"";r&&(this._authData={accountId:r,allKeys:n},window.localStorage.setItem(this._authDataKey,JSON.stringify(this._authData)),e&&await this._moveKeyFromTempToPermanent(r,e)),t.searchParams.delete("public_key"),t.searchParams.delete("all_keys"),t.searchParams.delete("account_id"),t.searchParams.delete("meta"),t.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,t.toString())}async _moveKeyFromTempToPermanent(t,e){const n=await this._keyStore.getKey(this._networkId,c+e);await this._keyStore.setKey(this._networkId,t,n),await this._keyStore.removeKey(this._networkId,c+e)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new p(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}e.WalletConnection=h,e.WalletAccount=h;class p extends o.Account{constructor(t,e,n){super(e,n),this.walletConnection=t}signAndSendTransaction(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this._signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]}):this._signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}async _signAndSendTransaction(t){let{receiverId:e,actions:n,walletMeta:r,walletCallbackUrl:i=window.location.href}=t;const o=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let u=await this.accessKeyForTransaction(e,n,o);if(!u)throw new Error("Cannot find matching key for transaction sent to ".concat(e));if(o&&o.toString()===u.public_key)try{return await super.signAndSendTransaction({receiverId:e,actions:n})}catch(m){if("NotEnoughAllowance"!==m.type)throw m;u=await this.accessKeyForTransaction(e,n)}const c=await this.connection.provider.block({finality:"final"}),h=l.baseDecode(c.header.hash),p=s.PublicKey.from(u.public_key),f=u.access_key.nonce+1,d=a.createTransaction(this.accountId,p,e,f,n,h);return await this.walletConnection.requestSignTransactions({transactions:[d],meta:r,callbackUrl:i}),new Promise(((t,e)=>{setTimeout((()=>{e(new Error("Failed to redirect to sign transaction"))}),1e3)}))}async accessKeyMatchesTransaction(t,e,n){const{access_key:{permission:r}}=t;if("FullAccess"===r)return!0;if(r.FunctionCall){const{receiver_id:t,method_names:i}=r.FunctionCall;if(t===this.accountId&&i.includes("add_request_and_confirm"))return!0;if(t===e){if(1!==n.length)return!1;const[{functionCall:t}]=n;return t&&(!t.deposit||"0"===t.deposit.toString())&&(0===i.length||i.includes(t.methodName))}}return!1}async accessKeyForTransaction(t,e,n){const r=await this.getAccessKeys();if(n){const i=r.find((t=>t.public_key.toString()===n.toString()));if(i&&await this.accessKeyMatchesTransaction(i,t,e))return i}const i=this.walletConnection._authData.allKeys;for(const o of r)if(-1!==i.indexOf(o.public_key)&&await this.accessKeyMatchesTransaction(o,t,e))return o;return null}}e.ConnectedWalletAccount=p}).call(this,n(49).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0;const r=n(149);e.connect=async function(t){return new r.Near(t)}},function(t,e,n){t.exports=n(210)},function(t,e,n){n(150);var r,i=n(129);r=i("Error.captureStackTrace")?n(213):i("Error.prototype.stack")?n(214):n(224),t.exports=r()},function(t,e,n){var r=n(151),i=r.define,o=r.test;i("strict mode",(function(){return void 0===this})),i("arguments.callee.caller",(function(){try{return function(){return arguments.callee.caller}()===arguments.callee}catch(t){return!1}})),i("es5",(function(){return o("Array.prototype.forEach")&&o("Array.prototype.map")&&o("Function.prototype.bind")&&o("Object.create")&&o("Object.defineProperties")&&o("Object.defineProperty")&&o("Object.prototype.hasOwnProperty")})),i("Array.prototype.forEach",(function(){return Array.prototype.forEach})),i("Array.prototype.map",(function(){return Array.prototype.map})),i("Function.prototype.bind",(function(){return Function.prototype.bind})),i("Object.create",(function(){return Object.create})),i("Object.defineProperties",(function(){return Object.defineProperties})),i("Object.defineProperty",(function(){return Object.defineProperty})),i("Object.prototype.hasOwnProperty",(function(){return Object.prototype.hasOwnProperty})),i("Error.captureStackTrace",(function(){return Error.captureStackTrace})),i("Error.prototype.stack",(function(){try{throw new Error}catch(t){return t.stack||t.stacktrace}}))},function(t,e){var n=function(){this.tests={},this.cache={}};n.prototype={constructor:n,define:function(t,e){if("string"!=typeof t||!(e instanceof Function))throw new Error("Invalid capability definition.");if(this.tests[t])throw new Error('Duplicated capability definition by "'+t+'".');this.tests[t]=e},check:function(t){if(!this.test(t))throw new Error('The current environment does not support "'+t+'", therefore we cannot continue.')},test:function(t){if(void 0!==this.cache[t])return this.cache[t];if(!this.tests[t])throw new Error('Unknown capability with name "'+t+'".');var e=this.tests[t];return this.cache[t]=!!e(),this.cache[t]}},t.exports=n},function(t,e,n){var r=n(130);t.exports=function(){return Error.getStackTrace=function(t){return t.stack},{prepareStackTrace:r}}},function(t,e,n){var r=n(215),i=n(222),o=n(80).cache,a=n(130);t.exports=function(){return Error.captureStackTrace=function t(e,n){var s=[t];n&&s.push(n);var l=r.getInstance().captureFrameStrings(s);Object.defineProperties(e,{stack:{configurable:!0,get:o((function(){var t=i.getInstance().getFrames(l.frameStrings,l.functionValues);return(Error.prepareStackTrace||a)(e,t,undefined)}))},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(t){if(t.cachedStack)return t.stack;var e,n=r.getInstance().getFrameStrings(t),o=[];n?o=i.getInstance().getFrames(n,[]):e=["The stack is not readable by unthrown errors in this environment."];var s=(Error.prepareStackTrace||a)(t,o,e);if(n)try{Object.defineProperties(t,{stack:{configurable:!0,writable:!0,enumerable:!1,value:s},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(l){}return s},{prepareStackTrace:a}}},function(t,e,n){var r=n(79).Class,i=n(79).abstractMethod,o=n(80).eachCombination,a=n(80).cache,s=n(129),l=r(Object,{prototype:{captureFrameStrings:function(t){var e=this.createError();t.unshift(this.captureFrameStrings),t.unshift(this.createError);var n=this.getFrameStrings(e).slice(t.length),r=[];if(s("arguments.callee.caller")){var i=[this.createError,this.captureFrameStrings];try{for(var o=arguments.callee;o=o.caller;)i.push(o)}catch(a){}r=i.slice(t.length)}return{frameStrings:n,functionValues:r}},getFrameStrings:function(t){var e=t.message||"",n=t.name||"",r=this.getStackString(t);if(void 0!==r){var i=r.split("\n"),o=0,a=i.length;return this.hasHeader&&(o+=n.split("\n").length+e.split("\n").length-1),this.hasFooter&&(a-=1),i.slice(o,a)}},createError:i,getStackString:i,hasHeader:void 0,hasFooter:void 0}}),u=r(Object,{prototype:{calibrateClass:function(t){return this.calibrateMethods(t)&&this.calibrateEnvelope(t)},calibrateMethods:function(t){try{o([[function(t){return new Error(t)},function(t){try{throw new Error(t)}catch(e){return e}}],[function(t){return t.stack},function(t){return t.stacktrace}]],(function(t,e){if(e(t()))throw{getStackString:e,createError:t}}))}catch(e){return r.merge.call(t,{prototype:e}),!0}return!1},calibrateEnvelope:function(t){var e=(0,t.prototype.getStackString)((0,t.prototype.createError)("marker")).split("\n");return r.merge.call(t,{prototype:{hasHeader:/marker/.test(e[0]),hasFooter:""===e[e.length-1]}}),!0}}});t.exports={getClass:a((function(){var t;if(t)return t;if(t=r(l,{}),!(new u).calibrateClass(t))throw new Error("Cannot read Error.prototype.stack in this environment.");return t})),getInstance:a((function(){return new(this.getClass())}))}},function(t,e,n){t.exports={Class:n(217),abstractMethod:n(218)}},function(t,e){var n=function(){var t=Object.create({Source:Object,config:{},buildArgs:[]});function e(e){var n="config";if(e instanceof Function)n="Source";else if(e instanceof Array)n="buildArgs";else{if(!(e instanceof Object))throw new Error("Invalid configuration option.");n="config"}if(t.hasOwnProperty(n))throw new Error("Duplicated configuration option: "+n+".");t[n]=e}for(var r=0,i=arguments.length;r<i;++r)e(arguments[r]);var o=t.Source,a=t.config,s=t.buildArgs;return(o.extend||n.extend).call(o,a,s)};n.factory=function(){return function(){var t=this;t.build instanceof Function&&t.build.apply(t,arguments),t.init instanceof Function&&t.init.apply(t,arguments)}},n.extend=function(t,e){var r,i=this;return t||(t={}),t.prototype instanceof Object&&t.prototype.constructor!==Object?r=t.prototype.constructor:t.factory instanceof Function&&(r=t.factory.call(i)),((r=(i.clone||n.clone).call(i,r,e)).merge||n.merge).call(r,t),r},n.prototype.extend=function(t,e){var r=(this.clone||n.prototype.clone).apply(this,e);return(r.merge||n.prototype.merge).call(r,t),r},n.clone=function(t,e){var r=this;for(var i in t instanceof Function||(t=(r.factory||n.factory).call(r)),t.prototype=(r.prototype.clone||n.prototype.clone).apply(r.prototype,e||[]),t.prototype.constructor=t,r)"prototype"!==i&&(t[i]=r[i]);return t},n.prototype.clone=function(){var t=Object.create(this);return t.build instanceof Function&&t.build.apply(t,arguments),t},n.merge=function(t){var e=this;for(var r in t)"prototype"!==r&&(e[r]=t[r]);return t.prototype instanceof Object&&(e.prototype.merge||n.prototype.merge).call(e.prototype,t.prototype),e},n.prototype.merge=function(t){for(var e in t)"constructor"!==e&&(this[e]=t[e]);return this},n.absorb=function(t){var e=this;for(var r in t)"prototype"===r||void 0!==e[r]&&e[r]!==Function.prototype[r]||(e[r]=t[r]);return t.prototype instanceof Object&&(e.prototype.absorb||n.prototype.absorb).call(e.prototype,t.prototype),e},n.prototype.absorb=function(t){var e=this;for(var n in t)"constructor"===n||void 0!==e[n]&&e[n]!==Object.prototype[n]||(e[n]=t[n]);return e},n.getAncestor=function(){var t=this;if(t!==t.prototype.constructor)return t.prototype.constructor},n.newInstance=function(){var t=Object.create(this.prototype);return this.apply(t,arguments),t},t.exports=n},function(t,e){t.exports=function(){throw new Error("Not implemented.")}},function(t,e,n){t.exports={cache:n(220),eachCombination:n(221)}},function(t,e){t.exports=function(t){var e,n=!1;return t instanceof Function||(n=!0,e=t,t=null),function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}}},function(t,e){t.exports=function t(e,n,r){if(r||(r=[]),r.length<e.length){var i=e[r.length];for(var o in i)r[r.length]=i[o],t(e,n,r),--r.length}else n.apply(null,r)}},function(t,e,n){var r=n(79).Class,i=n(223),o=n(80).cache,a=r(Object,{prototype:{stackParser:null,frameParser:null,locationParsers:null,constructor:function(t){r.prototype.merge.call(this,t)},getFrames:function(t,e){for(var n=[],r=0,i=t.length;r<i;++r)n[r]=this.getFrame(t[r],e[r]);return n},getFrame:function(t,e){return new i({frameString:t,functionValue:e})}}});t.exports={getClass:o((function(){return a})),getInstance:o((function(){return new(this.getClass())}))}},function(t,e,n){var r=n(79).Class,i=n(79).abstractMethod,o=r(Object,{prototype:{init:r.prototype.merge,frameString:void 0,toString:function(){return this.frameString},functionValue:void 0,getThis:i,getTypeName:i,getFunction:function(){return this.functionValue},getFunctionName:i,getMethodName:i,getFileName:i,getLineNumber:i,getColumnNumber:i,getEvalOrigin:i,isTopLevel:i,isEval:i,isNative:i,isConstructor:i}});t.exports=o},function(t,e,n){var r=n(80).cache,i=n(130);t.exports=function(){return Error.captureStackTrace=function(t,e){Object.defineProperties(t,{stack:{configurable:!0,get:r((function(){return(Error.prepareStackTrace||i)(t,[])}))},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(t){if(t.cachedStack)return t.stack;var e=(Error.prepareStackTrace||i)(t,[]);try{Object.defineProperties(t,{stack:{configurable:!0,writable:!0,enumerable:!1,value:e},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(n){}return e},{prepareStackTrace:i}}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(1),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:u,ref:c,props:o,_owner:s.current}}e.Fragment=o,e.jsx=u,e.jsxs=u},,function(t,e,n){"use strict";var r=n(231);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(1);var i="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=e,u(i)&&c({inst:i})}),[t,n,e]),a((function(){return u(i)&&c({inst:i}),t((function(){u(i)&&c({inst:i})}))}),[t]),l(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},function(t,e,n){"use strict";var r=n(1),i=n(132);var o="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var h=s(null);if(null===h.current){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=u((function(){function t(t){if(!l){if(l=!0,a=t,t=r(t),void 0!==i&&p.hasValue){var e=p.value;if(i(e,t))return s=e}return s=t}if(e=s,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?e:(a=t,s=n)}var a,s,l=!1,u=void 0===n?null:n;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]}),[e,n,r,i]);var f=a(t,h[0],h[1]);return l((function(){p.hasValue=!0,p.value=f}),[f]),c(f),f}},function(t,e,n){"use strict";t.exports=n(235)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case p:case a:case l:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case f:case y:case g:case u:return t;default:return e}}case o:return e}}}function S(t){return w(t)===p}e.AsyncMode=h,e.ConcurrentMode=p,e.ContextConsumer=c,e.ContextProvider=u,e.Element=i,e.ForwardRef=f,e.Fragment=a,e.Lazy=y,e.Memo=g,e.Portal=o,e.Profiler=l,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return S(t)||w(t)===h},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===f},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===y},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===l},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===p||t===l||t===s||t===d||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===g||t.$$typeof===u||t.$$typeof===c||t.$$typeof===f||t.$$typeof===_||t.$$typeof===b||t.$$typeof===x||t.$$typeof===v)},e.typeOf=w},function(t,e,n){"use strict";var r,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function v(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case a:case l:case s:case f:case d:return t;default:switch(t=t&&t.$$typeof){case h:case c:case p:case g:case m:case u:return t;default:return e}}case o:return e}}}r=Symbol.for("react.module.reference"),e.ContextConsumer=c,e.ContextProvider=u,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=m,e.Portal=o,e.Profiler=l,e.StrictMode=s,e.Suspense=f,e.SuspenseList=d,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return v(t)===c},e.isContextProvider=function(t){return v(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return v(t)===p},e.isFragment=function(t){return v(t)===a},e.isLazy=function(t){return v(t)===g},e.isMemo=function(t){return v(t)===m},e.isPortal=function(t){return v(t)===o},e.isProfiler=function(t){return v(t)===l},e.isStrictMode=function(t){return v(t)===s},e.isSuspense=function(t){return v(t)===f},e.isSuspenseList=function(t){return v(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===l||t===s||t===f||t===d||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===u||t.$$typeof===c||t.$$typeof===p||t.$$typeof===r||void 0!==t.getModuleId)},e.typeOf=v},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i},function(t,e,n){"use strict";function r(t,e,n){if(null!==t){var i,o,a,s,l,u,c,h,p,f,d=0,m=0,g=t.type,y="FeatureCollection"===g,v="Feature"===g,_=y?t.features.length:1;for(i=0;i<_;i++)for(c=(f=!!(p=y?t.features[i].geometry:v?t.geometry:t)&&"GeometryCollection"===p.type)?p.geometries.length:1,o=0;o<c;o++){var b=0;if(null!==(u=f?p.geometries[o]:p)){h=u.coordinates;var x=u.type;switch(d=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(h,m,i,b),m++,b++;break;case"LineString":case"MultiPoint":for(a=0;a<h.length;a++)e(h[a],m,i,b),m++,"MultiPoint"===x&&b++;"LineString"===x&&b++;break;case"Polygon":case"MultiLineString":for(a=0;a<h.length;a++){for(s=0;s<h[a].length-d;s++)e(h[a][s],m,i,b),m++;"MultiLineString"===x&&b++}"Polygon"===x&&b++;break;case"MultiPolygon":for(a=0;a<h.length;a++){for(s=0;s<h[a].length;s++)for(l=0;l<h[a][s].length-d;l++)e(h[a][s][l],m,i,b),m++;b++}break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)r(u.geometries[a],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e,n,i){var o=n;return r(t,(function(t,r,i,a){o=0===r&&void 0===n?t:e(o,t,r,i,a)}),i),o}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function a(t,e,n){var r=n;return o(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function l(t,e,n){var r=n;return s(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function u(t){var e=[];return r(t,(function(t){e.push(t)})),e}function c(t,e){var n,r,i,o,a,s,l,u,c=0,h="FeatureCollection"===t.type,p="Feature"===t.type,f=h?t.features.length:1;for(n=0;n<f;n++){for(s=h?t.features[n].geometry:p?t.geometry:t,u=h?t.features[n].properties:p?t.properties:{},a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,c,u);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],c,u);break;default:throw new Error("Unknown Geometry Type")}else e(null,c,u);c++}}function h(t,e,n){var r=n;return c(t,(function(t,i,o){r=0===i&&void 0===n?t:e(r,t,i,o)})),r}function p(t,e){c(t,(function(t,n,r){var i,o=null===t?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return void e(g(t,r),n,0)}switch(o){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}t.coordinates.forEach((function(t,o){e(g({type:i,coordinates:t},r),n,o)}))}))}function f(t,e,n){var r=n;return p(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function d(t,e){p(t,(function(t,n,r){var o=0;if(t.geometry){var a=t.geometry.type;"Point"!==a&&"MultiPoint"!==a&&i(t,(function(i,a){var s=y([i,a],t.properties);return e(s,n,r,o),o++,a}))}}))}function m(t,e,n){var r=n,i=!1;return d(t,(function(t,o,a,s){r=!1===i&&void 0===n?t:e(r,t,o,a,s),i=!0})),r}function g(t,e){if(void 0===t)throw new Error("No geometry passed");return{type:"Feature",properties:e||{},geometry:t}}function y(t,e){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:e||{},geometry:{type:"LineString",coordinates:t}}}function v(t,e){if(!t)throw new Error("geojson is required");var n=t.geometry?t.geometry.type:t.type;if(!n)throw new Error("invalid geojson");if("FeatureCollection"===n)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===n)throw new Error("GeometryCollection is not supported");var r=t.geometry?t.geometry.coordinates:t.coordinates;if(!r)throw new Error("geojson must contain coordinates");switch(n){case"LineString":return void e(r,0,0);case"Polygon":case"MultiLineString":for(var i=0,o=0;o<r.length;o++)"MultiLineString"===n&&(i=o),e(r[o],o,i);return;case"MultiPolygon":for(var a=0;a<r.length;a++)for(var s=0;s<r[a].length;s++)e(r[a][s],s,a);return;default:throw new Error(n+" geometry not supported")}}function _(t,e,n){var r=n;return v(t,(function(t,i,o){r=0===i&&void 0===n?t:e(r,t,i,o)})),r}n.r(e),n.d(e,"coordEach",(function(){return r})),n.d(e,"coordReduce",(function(){return i})),n.d(e,"propEach",(function(){return o})),n.d(e,"propReduce",(function(){return a})),n.d(e,"featureEach",(function(){return s})),n.d(e,"featureReduce",(function(){return l})),n.d(e,"coordAll",(function(){return u})),n.d(e,"geomEach",(function(){return c})),n.d(e,"geomReduce",(function(){return h})),n.d(e,"flattenEach",(function(){return p})),n.d(e,"flattenReduce",(function(){return f})),n.d(e,"segmentEach",(function(){return d})),n.d(e,"segmentReduce",(function(){return m})),n.d(e,"feature",(function(){return g})),n.d(e,"lineString",(function(){return y})),n.d(e,"lineEach",(function(){return v})),n.d(e,"lineReduce",(function(){return _}))},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(20)),s=o(n(1)),l=n(242),u=n(40),c=n(17),h=n(61),p=[11],f="flyTo",d=[-.2416815,51.5285582];e.default=function(t){var e,n=t.accessToken,o=t.apiUrl,m=t.minZoom,g=void 0===m?0:m,y=t.maxZoom,v=void 0===y?20:y,_=t.hash,b=void 0!==_&&_,x=t.preserveDrawingBuffer,w=void 0!==x&&x,S=t.scrollZoom,E=void 0===S||S,O=t.interactive,k=void 0===O||O,M=t.dragRotate,C=void 0===M||M,T=t.pitchWithRotate,P=void 0===T||T,A=t.attributionControl,I=void 0===A||A,D=t.customAttribution,j=t.logoPosition,R=void 0===j?"bottom-left":j,L=t.renderWorldCopies,z=void 0===L||L,N=t.trackResize,F=void 0===N||N,B=t.touchZoomRotate,U=void 0===B||B,V=t.doubleClickZoom,H=void 0===V||V,W=t.keyboard,q=void 0===W||W,K=t.dragPan,Y=void 0===K||K,Z=t.boxZoom,G=void 0===Z||Z,X=t.refreshExpiredTiles,J=void 0===X||X,$=t.failIfMajorPerformanceCaveat,Q=void 0!==$&&$,tt=t.bearingSnap,et=void 0===tt?7:tt,nt=t.antialias,rt=void 0!==nt&&nt,it=t.mapInstance,ot=t.transformRequest;return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={map:it,ready:!1},e.listeners={},e._isMounted=!0,e.calcCenter=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},e.setRef=function(t){e.container=t},e}return r(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,r=e.style,i=e.onStyleLoad,s=e.center,u=e.pitch,c=e.zoom,h=e.fitBounds,p=e.fitBoundsOptions,f=e.bearing,m=e.maxBounds;if(a.accessToken=n,o&&(a.config.API_URL=o),!Array.isArray(c))throw new Error("zoom need to be an array type of length 1 for reliable update");var y={preserveDrawingBuffer:w,hash:b,zoom:c[0],minZoom:g,maxZoom:v,maxBounds:m,container:this.container,center:h&&s===d?this.calcCenter(h):s,style:r,scrollZoom:E,attributionControl:I,customAttribution:D,interactive:k,dragRotate:C,pitchWithRotate:P,renderWorldCopies:z,trackResize:F,touchZoomRotate:U,doubleClickZoom:H,keyboard:q,dragPan:Y,boxZoom:G,refreshExpiredTiles:J,logoPosition:R,bearingSnap:et,failIfMajorPerformanceCaveat:Q,antialias:rt,transformRequest:ot};if(f){if(!Array.isArray(f))throw new Error("bearing need to be an array type of length 1 for reliable update");y.bearing=f[0]}if(u){if(!Array.isArray(u))throw new Error("pitch need to be an array type of length 1 for reliable update");y.pitch=u[0]}var _=this.state.map;_||(_=new a.Map(y),this.setState({map:_})),h&&_.fitBounds(h,p,{fitboundUpdate:!0}),_.on("load",(function(e){t._isMounted&&t.setState({ready:!0}),i&&i(_,e)})),this.listeners=l.listenEvents(l.events,this.props,_)},e.prototype.componentWillUnmount=function(){var t=this.state.map;this._isMounted=!1,t&&t.remove()},e.prototype.componentDidUpdate=function(t){var e=this,n=this.state.map;if(!n)return null;this.listeners=l.updateEvents(this.listeners,this.props,n);var r=n.getCenter(),o=n.getZoom(),a=n.getBearing(),s=n.getPitch(),u=t.zoom!==this.props.zoom&&(this.props.zoom&&this.props.zoom[0])!==o,c=t.center!==this.props.center&&((this.props.center&&this.props.center[0])!==r.lng||(this.props.center&&this.props.center[1])!==r.lat),p=t.bearing!==this.props.bearing&&(this.props.bearing&&this.props.bearing[0])!==a,d=t.pitch!==this.props.pitch&&(this.props.pitch&&this.props.pitch[0])!==s;this.props.maxBounds&&(t.maxBounds!==this.props.maxBounds&&n.setMaxBounds(this.props.maxBounds));if(this.props.fitBounds){var m=t.fitBounds;!(m!==this.props.fitBounds||this.props.fitBounds.length!==(m&&m.length)||!!m.filter((function(t,n){var r=e.props.fitBounds&&e.props.fitBounds[n];return t[0]!==(r&&r[0])||t[1]!==(r&&r[1])}))[0])&&h(t.fitBoundsOptions,this.props.fitBoundsOptions)||n.fitBounds(this.props.fitBounds,this.props.fitBoundsOptions,{fitboundUpdate:!0})}if(u||c||p||d){var g=this.props.movingMethod||f,y=this.props,v=y.flyToOptions,_=y.animationOptions;n[g](i({},_,v,{zoom:u&&this.props.zoom?this.props.zoom[0]:o,center:c?this.props.center:r,bearing:p?this.props.bearing:a,pitch:d?this.props.pitch:s}))}return h(t.style,this.props.style)||n.setStyle(this.props.style),null},e.prototype.render=function(){var t=this.props,e=t.containerStyle,n=t.className,r=t.children,o=t.renderChildrenInPortal,a=this.state,l=a.ready,h=a.map;if(o){var p=l&&h&&"function"===typeof h.getCanvasContainer?h.getCanvasContainer():void 0;return s.createElement(u.MapContext.Provider,{value:h},s.createElement("div",{ref:this.setRef,className:n,style:i({},e)},l&&p&&c.createPortal(r,p)))}return s.createElement(u.MapContext.Provider,{value:h},s.createElement("div",{ref:this.setRef,className:n,style:i({},e)},l&&r))},e}(s.Component),e.defaultProps={onStyleLoad:function(t,e){return null},center:d,zoom:p,bearing:0,movingMethod:f,pitch:0,containerStyle:{textAlign:"left"}},e}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.events={onResize:"resize",onDblClick:"dblclick",onClick:"click",onMouseMove:"mousemove",onMouseOut:"mouseout",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onMouseUp:"mouseup",onMouseDown:"mousedown",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onPitch:"pitch",onPitchStart:"pitchstart",onPitchEnd:"pitchend",onWebGlContextLost:"webglcontextlost",onWebGlContextRestored:"webglcontextrestored",onRemove:"remove",onContextMenu:"contextmenu",onRender:"render",onError:"error",onSourceData:"sourcedata",onDataLoading:"dataloading",onStyleDataLoading:"styledataloading",onStyleImageMissing:"styleimagemissing",onTouchCancel:"touchcancel",onData:"data",onSourceDataLoading:"sourcedataloading",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onStyleData:"styledata",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onBoxZoomCancel:"boxzoomcancel",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend"},e.listenEvents=function(t,e,n){return Object.keys(t).reduce((function(r,i){var o=e[i];if(o){var a=function(t){o(n,t)};n.on(t[i],a),r[i]=a}return r}),{})},e.updateEvents=function(t,n,i){Object.keys(e.events).filter((function(e){return t[e]&&"function"!==typeof n[e]})).forEach((function(n){i.off(e.events[n],t[n]),delete t[n]}));var o=Object.keys(e.events).filter((function(e){return!t[e]&&"function"===typeof n[e]})).reduce((function(t,n){return t[n]=e.events[n],t}),{}),a=e.listenEvents(o,n,i);return r({},t,a)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(1)),l=n(61),u=a(n(153)),c={touchstart:"onTouchStart",touchend:"onTouchEnd",touchcancel:"onTouchCancel",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick"},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.source=i({type:"geojson"},e.props.geoJSONSourceOptions,{data:{type:"FeatureCollection",features:[]}}),e.geometry=function(t){switch(e.props.type){case"symbol":case"circle":default:return{type:"Point",coordinates:t};case"fill":return Array.isArray(t[0][0][0])?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t};case"line":return{type:"LineString",coordinates:t}}},e.makeFeature=function(t,n){return{type:"Feature",geometry:e.geometry(t.coordinates),properties:i({},t.properties,{id:n})}},e.initialize=function(){var t=e.props,n=t.type,r=t.layout,i=t.paint,o=t.sourceId,a=t.before,s=t.images,l=t.id,u=t.metadata,h=t.sourceLayer,p=t.minZoom,f=t.maxZoom,d=t.filter,m=e.props.map,g={id:l,source:o||l,type:n,layout:r,paint:i,metadata:u};(h&&(g["source-layer"]=h),p&&(g.minzoom=p),f&&(g.maxzoom=f),d&&(g.filter=d),s)&&(Array.isArray(s[0])?s:[s]).filter((function(t){return!m.hasImage(t[0])})).forEach((function(t){m.addImage(t[0],t[1],t[2])}));o||m.getSource(l)||m.addSource(l,e.source),m.getLayer(l)||m.addLayer(g,a),Object.entries(c).forEach((function(t){var n=t[0],r=t[1],i=e.props[r];i&&m.on(n,l,i)}))},e.onStyleDataChange=function(){e.props.map.getLayer(e.props.id)||(e.initialize(),e.forceUpdate())},e.getChildren=function(){var t=e.props.children;return t?Array.isArray(t)?t.reduce((function(t,e){return t.concat(e)}),[]):[t]:[]},e}return r(e,t),e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this,e=this.props.map,n=this.props,r=n.images,i=n.id;e&&e.getStyle()&&(e.off("styledata",this.onStyleDataChange),Object.entries(c).forEach((function(n){var r=n[0],o=n[1],a=t.props[o];a&&e.off(r,i,a)})),e.getLayer(i)&&e.removeLayer(i),this.props.sourceId||e.removeSource(i),r&&(Array.isArray(r[0])?r:[r]).map((function(t){var e=t[0];t.slice(1);return e})).forEach(e.removeImage.bind(e)))},e.prototype.componentDidUpdate=function(t){var e=this,n=t.paint,r=t.layout,i=t.before,o=t.filter,a=t.id,s=t.minZoom,h=t.maxZoom,p=t.map;if(!l(this.props.paint,n)){var f=u.default(n,this.props.paint);Object.keys(f).forEach((function(t){p.setPaintProperty(a,t,f[t])}))}if(!l(this.props.layout,r)){var d=u.default(r,this.props.layout);Object.keys(d).forEach((function(t){p.setLayoutProperty(a,t,d[t])}))}l(this.props.filter,o)||p.setFilter(a,this.props.filter),i!==this.props.before&&p.moveLayer(a,this.props.before),s===this.props.minZoom&&h===this.props.maxZoom||p.setLayerZoomRange(a,this.props.minZoom,this.props.maxZoom),Object.entries(c).forEach((function(n){var r=n[0],i=n[1],o=t[i],s=e.props[i];o!==s&&(o&&p.off(r,a,o),s&&p.on(r,a,s))}))},e.prototype.render=function(){var t=this,e=this.props.map,n=this.props,r=n.sourceId,i=n.draggedChildren,o=this.getChildren();if(i){var a=i.map((function(t){return t.key}));o=o.map((function(t){var e=a.indexOf(t.key);return-1!==e?i[e]:t}))}var s=o.map((function(e,n){var r=e.props;return t.makeFeature(r,n)})).filter(Boolean),l=e.getSource(r||this.props.id);return l&&!r&&l.setData&&l.setData({type:"FeatureCollection",features:s}),null},e.defaultProps={type:"symbol",layout:{},paint:{}},e}(s.Component);e.default=h},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=n(154);function l(t){return function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.hover=[],t.draggedChildren=void 0,t.id=t.props.id||"layer-"+s.generateID(),t.getChildren=function(){return[].concat(t.props.children).filter((function(t){return"undefined"!==typeof t}))},t.getChildFromId=function(t,e){return t[e]},t.areFeaturesDraggable=function(e,n){return void 0===n&&(n=t.hover),!!n.map((function(n){return!!t.getChildFromId(e,n)&&t.getChildFromId(e,n).props.draggable})).filter(Boolean).length},t.onClick=function(e){var n=e.features,r=t.getChildren(),o=t.props.map;n&&n.forEach((function(n){var a=n.properties.id;if(r){var s=t.getChildFromId(r,a),l=s&&s.props.onClick;l&&l(i({},e,{feature:n,map:o}))}}))},t.onMouseEnter=function(e){var n=t.getChildren(),r=t.props.map;t.hover=[],e.features.forEach((function(o){var a=o.properties.id,s=t.getChildFromId(n,a);t.hover.push(a);var l=s&&s.props.onMouseEnter;l&&l(i({},e,{feature:o,map:r}))})),t.areFeaturesDraggable(n)&&r.dragPan.disable()},t.onMouseLeave=function(e){var n=t.getChildren(),r=t.props.map;t.areFeaturesDraggable(n)&&r.dragPan.enable(),t.hover.forEach((function(o){var a=t.getChildFromId(n,o),s=a&&a.props.onMouseLeave;s&&s(i({},e,{map:r}))})),t.draggedChildren||(t.hover=[])},t.onMouseDown=function(){t.hover.length&&t.onFeatureDown("mousedown")},t.onTouchStart=function(e){t.hover=e.features.map((function(t){return t.properties.id})),t.hover.length&&t.onFeatureDown("touchstart")},t.onFeatureDown=function(e){var n="mousedown"===e?"mousemove":"touchmove",r="mousedown"===e?"mouseup":"touchend",i=t.props.map;i.once(n,t.onFeatureDragStart),i.on(n,t.onFeatureDrag),i.once(r,(function(e){i.off(n,t.onFeatureDragStart),i.off(n,t.onFeatureDrag),t.onFeatureDragEnd(e)}))},t.onFeatureDragStart=function(e){var n=t.props.map,r=t.getChildren();t.hover.forEach((function(o){var a=t.getChildFromId(r,o);if(!a||a.props.draggable){var s=a&&a.props.onDragStart;s&&s(i({},e,{map:n}))}}))},t.onFeatureDrag=function(e){var n=t.getChildren(),r=t.props.map,o=e.lngLat,s=o.lng,l=o.lat;t.draggedChildren=[],t.hover.forEach((function(o){var u=t.getChildFromId(n,o),c=u&&u.props.onDrag;u&&u.props.draggable&&(t.draggedChildren.push(a.cloneElement(u,{coordinates:[s,l]})),c&&c(i({},e,{map:r})))})),t.forceUpdate()},t.onFeatureDragEnd=function(e){var n=t.props.map,r=t.getChildren();t.hover.forEach((function(o){var a=t.getChildFromId(r,o),s=a&&a.props.onDragEnd;s&&a.props.draggable&&t.draggedChildren&&s(i({},e,{map:n}))})),t.draggedChildren=void 0},t}return r(n,e),n.prototype.componentDidMount=function(){var t=this.props.map;t.on("click",this.id,this.onClick),t.on("mouseenter",this.id,this.onMouseEnter),t.on("mouseleave",this.id,this.onMouseLeave),t.on("mousedown",this.id,this.onMouseDown),t.on("touchstart",this.id,this.onTouchStart)},n.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("click",this.onClick),t.off("mouseenter",this.onMouseEnter),t.off("mouseleave",this.onMouseLeave),t.off("mousedown",this.onMouseDown),t.off("touchstart",this.onTouchStart)},n.prototype.render=function(){return a.createElement(t,i({},this.props,{id:this.id,map:this.props.map,draggedChildren:this.draggedChildren}))},n}(a.Component)}e.layerMouseTouchEvents=l,e.default=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(1)),l=n(61),u=a(n(153)),c=n(154),h=n(40),p=["symbol","line","fill","fill-extrusion","circle"],f=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()})).replace(/[\s+]|-/g,"")},d={mousemove:"OnMouseMove",mouseenter:"OnMouseEnter",mouseleave:"OnMouseLeave",mousedown:"OnMouseDown",mouseup:"OnMouseUp",click:"OnClick"},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id||"geojson-"+c.generateID(),e.source=i({type:"geojson"},e.props.sourceOptions,{data:e.props.data}),e.layerIds=[],e.buildLayerId=function(t){return e.id+"-"+t},e.createLayer=function(t){var n=e.props,r=n.before,o=n.layerOptions,a=n.map,s=e.buildLayerId(t);e.layerIds.push(s);var l=e.props[f(t)+"Paint"]||{},u=Object.keys(l).length?"visible":"none",c=e.props[f(t)+"Layout"]||{visibility:u},h=i({id:s,source:e.id,type:t,paint:l,layout:c},o);a.addLayer(h,r),e.mapLayerMouseHandlers(t)},e.mapLayerMouseHandlers=function(t){var n=e.props.map,r=e.buildLayerId(t);Object.keys(d).forEach((function(i){var o=e.props[""+f(t)+d[i]]||null;o&&n.on(i,r,o)}))},e.onStyleDataChange=function(){e.props.map.getSource(e.id)||(e.unbind(),e.initialize(),e.forceUpdate())},e.isGeoJSONSource=function(t){return!!t&&"function"===typeof t.setData},e}return r(e,t),e.prototype.initialize=function(){this.props.map.addSource(this.id,this.source),this.createLayer("symbol"),this.createLayer("line"),this.createLayer("fill"),this.createLayer("fill-extrusion"),this.createLayer("circle")},e.prototype.unbind=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var n=e.getStyle().layers;n&&n.filter((function(e){return e.source===t.id})).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id)}p.forEach((function(n){Object.keys(d).forEach((function(r){var i=f(n)+d[r];t.props[i]&&e.off(r,t.buildLayerId(n),t.props[i])}))})),this.layerIds.forEach((function(t){e.getLayer(t)&&e.removeLayer(t)}))},e.prototype.componentDidMount=function(){var t=this.props.map;this.initialize(),t.on("styledata",this.onStyleDataChange)},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.unbind())},e.prototype.componentDidUpdate=function(t){var e=this,n=t.data,r=t.before,o=t.layerOptions,a=t.map,s=a.getSource(this.id);if(this.isGeoJSONSource(s)){this.props.data!==n&&(s.setData(this.props.data),this.source=i({type:"geojson"},this.props.sourceOptions,{data:this.props.data}));var c=this.props.layerOptions&&o&&!l(this.props.layerOptions.filter,o.filter);p.forEach((function(n){var i=e.buildLayerId(n);e.props.layerOptions&&c&&a.setFilter(i,e.props.layerOptions.filter||[]);var o=f(n)+"Paint";if(!l(t[o],e.props[o])){var s=u.default(t[o],e.props[o]);Object.keys(s).forEach((function(t){a.setPaintProperty(i,t,s[t])}))}var h=f(n)+"Layout";if(!l(t[h],e.props[h])){var p=u.default(t[h],e.props[h]);Object.keys(p).forEach((function(t){a.setLayoutProperty(i,t,p[t])}))}Object.keys(d).forEach((function(r){var o=f(n)+d[r];t[o]!==e.props[o]&&(t[o]&&a.off(r,i,t[o]),e.props[o]&&a.on(r,i,e.props[o]))})),r!==e.props.before&&a.moveLayer(i,e.props.before)}))}},e.prototype.render=function(){return null},e}(s.Component);e.GeoJSONLayer=m,e.default=h.withMap(m)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return null},e}(n(1).Component);e.Feature=i,e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=n(40),l={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},u={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},c={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,backgroundImage:"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')",backgroundPosition:"0px 0px",backgroundSize:"26px 260px",outline:0},h={backgroundColor:"#fff",opacity:1},p={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2},f={backgroundPosition:"0px -26px",borderBottomLeftRadius:2,borderBottomRightRadius:2},d=[0,1],m=d[0],g=d[1],y=Object.keys(u),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.onMouseOut=function(){e.setState({hover:void 0})},e.plusOver=function(){m!==e.state.hover&&e.setState({hover:m})},e.minusOver=function(){g!==e.state.hover&&e.setState({hover:g})},e.onClickPlus=function(){e.props.onControlClick(e.props.map,e.props.zoomDiff)},e.onClickMinus=function(){e.props.onControlClick(e.props.map,-e.props.zoomDiff)},e}return r(e,t),e.prototype.render=function(){var t=this.props,e=t.position,n=t.style,r=t.className,o=t.tabIndex,s=this.state.hover,d=i({},c,p,s===m?h:{}),y=i({},c,f,s===g?h:{});return a.createElement("div",{className:r,tabIndex:o,style:i({},l,u[e],n)},a.createElement("button",{id:"zoomIn",type:"button",style:d,"aria-label":"Zoom in",onMouseOver:this.plusOver,onMouseOut:this.onMouseOut,onClick:this.onClickPlus}),a.createElement("button",{id:"zoomOut",type:"button",style:y,"aria-label":"Zoom out",onMouseOver:this.minusOver,onMouseOut:this.onMouseOut,onClick:this.onClickMinus}))},e.defaultProps={position:y[0],zoomDiff:.5,onControlClick:function(t,e){t.zoomTo(t.getZoom()+e)}},e}(a.Component);e.ZoomControl=v,e.default=s.withMap(v)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(1)),l=a(n(155)),u=n(156);e.defaultClassName=["mapboxgl-popup"];var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(){var t=this.props,n=t.children,r=t.className,o=i({},this.props,{children:void 0}),a=u.getClassName(e.defaultClassName,r);return s.createElement(l.default,i({},o,{type:"popup",className:a}),s.createElement("div",{className:"mapboxgl-popup-tip"}),s.createElement("div",{className:"mapboxgl-popup-content"},n))},n}(s.Component);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20);e.anchors=["center","top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],e.anchorTranslates={center:"translate(-50%, -50%)",top:"translate(-50%, 0)",left:"translate(0, -50%)",right:"translate(-100%, -50%)",bottom:"translate(-50%, -100%)","top-left":"translate(0, 0)","top-right":"translate(-100%, 0)","bottom-left":"translate(0, -100%)","bottom-right":"translate(-100%, -100%)"};var i={offsetWidth:0,offsetHeight:0},o=[0,0],a=function(t){if(!t)return a(new r.Point(0,0));if("number"===typeof t){var n=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new r.Point(t,t),top:new r.Point(0,t),bottom:new r.Point(0,-t),left:new r.Point(t,0),right:new r.Point(-t,0),"top-left":new r.Point(n,n),"top-right":new r.Point(-n,n),"bottom-left":new r.Point(n,-n),"bottom-right":new r.Point(-n,-n)}}return t instanceof r.Point||Array.isArray(t)?e.anchors.reduce((function(e,n){return e[n]=r.Point.convert(t),e}),{}):e.anchors.reduce((function(e,n){return e[n]=r.Point.convert(t[n]||o),e}),{})};e.overlayState=function(t,n,o){var s=function(t,e){return t.project(r.LngLat.convert(e))}(n,t.coordinates),l=a(t.offset),u=t.anchor||function(t,n,r,o){var a=void 0===o?i:o,s=a.offsetHeight,l=a.offsetWidth,u=[];return r.y+n.bottom.y-s<0?u=[e.anchors[1]]:r.y+n.top.y+s>t.transform.height&&(u=[e.anchors[2]]),r.x<l/2?u.push(e.anchors[3]):r.x>t.transform.width-l/2&&u.push(e.anchors[4]),0===u.length?e.anchors[2]:u.join("-")}(n,l,s,o);return{anchor:u,position:s,offset:l[u]}};var s=function(t){return t?"translate("+t.x.toFixed(0)+"px, "+t.y.toFixed(0)+"px)":""};e.overlayTransform=function(t){var n=t.anchor,r=t.position,i=t.offset,o=[];return r&&o.push(s(r)),i&&void 0!==i.x&&void 0!==i.y&&o.push(s(i)),n&&o.push(e.anchorTranslates[n]),o}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=n(40),l=["moveend","touchend","zoomend"],u=[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4],c={"top-right":{top:10,right:10,bottom:"auto",left:"auto"},"top-left":{top:10,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:10,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:10,left:10,top:"auto",right:"auto"}},h={position:"absolute",zIndex:10,boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)",right:50,backgroundColor:"#fff",opacity:.85,display:"flex",flexDirection:"row",alignItems:"baseline",padding:"3px 7px"},p={border:"2px solid #7e8490",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",borderTop:"none",height:7,borderBottomLeftRadius:1,borderBottomRightRadius:1},f=Object.keys(c),d=["km","mi"],m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={chosenScale:0,scaleWidth:60},e.setScale=function(){var t=e.props,n=t.measurement,r=t.map,i=r._canvas.clientWidth,o=r.getBounds(),a=o._ne,s=o._sw,l=e._getDistanceTwoPoints([s.lng,a.lat],[a.lng,a.lat],n),c=l/i*60,h=u.reduce((function(t,e){return!t&&e>c?e:t}),0),p=h/l*i;e.setState({chosenScale:h,scaleWidth:p})},e}return r(e,t),e.prototype.componentDidMount=function(){var t=this;this.setScale(),l.forEach((function(e){t.props.map.on(e,t.setScale)}))},e.prototype.componentWillUnmount=function(){var t=this;this.props.map&&l.forEach((function(e){t.props.map.off(e,t.setScale)}))},e.prototype._getDistanceTwoPoints=function(t,e,n){void 0===n&&(n="km");var r=t[0],i=t[1],o=e[0],a=e[1],s="km"===n?6371:6371/1.60934,l=this._deg2rad(a-i),u=this._deg2rad(o-r),c=Math.sin(l/2)*Math.sin(l/2)+Math.cos(this._deg2rad(i))*Math.cos(this._deg2rad(a))*Math.sin(u/2)*Math.sin(u/2);return s*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},e.prototype._deg2rad=function(t){return t*(Math.PI/180)},e.prototype._displayMeasurement=function(t,e){return e>=1?e+" "+t:"mi"===t?Math.floor(5280*e)+" ft":Math.floor(1e3*e)+" m"},e.prototype.render=function(){var t=this.props,e=t.measurement,n=t.style,r=t.position,o=t.className,s=t.tabIndex,l=this.state,u=l.chosenScale,f=l.scaleWidth;return a.createElement("div",{tabIndex:s,style:i({},h,c[r],n),className:o},a.createElement("div",{style:i({},p,{width:f})}),a.createElement("div",{style:{paddingLeft:10}},this._displayMeasurement(e,u)))},e.defaultProps={measurement:d[0],position:f[2]},e}(a.Component);e.ScaleControl=m,e.default=s.withMap(m)},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(1)),s=o(n(155)),l=n(156),u=["mapboxgl-marker"];e.Marker=function(t){return a.createElement(s.default,r({},r({},t),{type:"marker",className:l.getClassName(u,t.className)}))},e.default=e.Marker},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=n(40),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=e.props.id,e.onStyleDataChange=function(){e.props.map.getLayer(e.id)||(e.initialize(),e.forceUpdate())},e.initialize=function(){var t=e.props.map,n=e.props,r=n.geoJsonSource,i=n.tileJsonSource,o=n.onSourceAdded;t.getSource(e.id)||!r&&!i||(r?t.addSource(e.id,r):i&&t.addSource(e.id,i),t.on("sourcedata",e.onData),o&&o(t.getSource(e.id)))},e.onData=function(){var t=e.props.map,n=t.getSource(e.props.id);if(n&&t.isSourceLoaded(e.props.id)){var r=e.props.onSourceLoaded;n&&r&&r(n),n&&e.props.geoJsonSource&&e.props.geoJsonSource.data&&n.setData(e.props.geoJsonSource.data),t.off("sourcedata",e.onData)}},e}return r(e,t),e.prototype.componentDidMount=function(){this.props.map.on("styledata",this.onStyleDataChange),this.initialize()},e.prototype.removeSource=function(){var t=this,e=this.props.map;if(e.getSource(this.id)){var n=e.getStyle().layers,r=void 0===n?[]:n;return(r=r.map((function(t,e){var n=(r[e+1]||{id:void 0}).id;return i({},t,{before:n})})).filter((function(e){return e.source===t.id}))).forEach((function(t){return e.removeLayer(t.id)})),e.removeSource(this.id),r.reverse()}return[]},e.prototype.componentWillUnmount=function(){var t=this.props.map;t&&t.getStyle()&&(t.off("styledata",this.onStyleDataChange),this.removeSource())},e.prototype.componentDidUpdate=function(t){var e=t.geoJsonSource,n=t.tileJsonSource,r=t.map,i=r.getSource(this.id);if(n&&this.props.tileJsonSource){var o=!1,a=!1;if(i&&"vector"===i.type)n.url!==this.props.tileJsonSource.url&&void 0!==this.props.tileJsonSource.url&&(i.setUrl(this.props.tileJsonSource.url),o=!0),n.tiles!==this.props.tileJsonSource.tiles&&void 0!==this.props.tileJsonSource.tiles&&(i.setTiles(this.props.tileJsonSource.tiles),a=!0);if(!o&&n.url!==this.props.tileJsonSource.url||!a&&n.tiles!==this.props.tileJsonSource.tiles||n.minzoom!==this.props.tileJsonSource.minzoom||n.maxzoom!==this.props.tileJsonSource.maxzoom){var s=this.removeSource();r.addSource(this.id,this.props.tileJsonSource),s.forEach((function(t){return r.addLayer(t,t.before)}))}}e&&this.props.geoJsonSource&&this.props.geoJsonSource.data!==e.data&&this.props.geoJsonSource.data&&i&&"geojson"===i.type&&i.setData(this.props.geoJsonSource.data)},e.prototype.render=function(){return null},e}(a.Component);e.Source=l,e.default=s.withMap(l)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(1)),s=n(20),l=o(n(133)),u=o(n(108)),c=n(109),h=n(40),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={superC:new l.default({radius:e.props.radius,maxZoom:e.props.maxZoom,minZoom:e.props.minZoom,extent:e.props.extent,nodeSize:e.props.nodeSize,log:e.props.log}),clusterPoints:[]},e.featureClusterMap=new WeakMap,e.childrenChange=function(t){var n=e.state.superC;e.featureClusterMap=new WeakMap;var r=e.childrenToFeatures(t);n.load(r)},e.mapChange=function(t){void 0===t&&(t=!1);var n=e.props.map,r=e.state,i=r.superC,o=r.clusterPoints,a=n.getZoom(),s=n.getCanvas(),l=s.width,h=s.height,p=n.unproject([0,0]).toArray(),f=n.unproject([l,0]).toArray(),d=n.unproject([l,h]).toArray(),m=n.unproject([0,h]).toArray(),g=i.getClusters(u.default(c.polygon([[p,f,d,m,p]])),Math.round(a));(g.length!==o.length||t)&&e.setState({clusterPoints:g})},e.childrenToFeatures=function(t){return t.map((function(t){var n=e.feature(t&&t.props.coordinates);return e.featureClusterMap.set(n,t),n}))},e.getLeaves=function(t,n,r){return e.state.superC.getLeaves(t.properties&&t.properties.cluster_id,n||1/0,r).map((function(t){return e.featureClusterMap.get(t)}))},e.zoomToClusterBounds=function(t){var n=Array.prototype.slice.call(t.currentTarget.children),r=e.findMarkerElement(t.currentTarget,t.target),i=n.indexOf(r),o=e.state.clusterPoints[i];if(o.properties&&o.properties.cluster_id){var a=e.state.superC.getLeaves(o.properties&&o.properties.cluster_id,1/0),l=u.default(c.featureCollection(a));e.props.map.fitBounds(s.LngLatBounds.convert(l),{padding:e.props.zoomOnClickPadding})}},e}return r(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.children,n=t.map;e&&this.childrenChange(e),n.on("move",this.mapChange),n.on("zoom",this.mapChange),this.mapChange()},e.prototype.componentWillUnmount=function(){var t=this.props.map;t.off("move",this.mapChange),t.off("zoom",this.mapChange)},e.prototype.componentDidUpdate=function(t){t.children!==this.props.children&&this.props.children&&(this.childrenChange(this.props.children),this.mapChange(!0))},e.prototype.feature=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{}}},e.prototype.findMarkerElement=function(t,e){return e.parentElement===t?e:this.findMarkerElement(t,e.parentElement)},e.prototype.render=function(){var t=this,e=this.props,n=e.ClusterMarkerFactory,r=e.style,i=e.className,o=e.tabIndex,s=this.state.clusterPoints;return a.createElement("div",{style:r,className:i,tabIndex:o,onClick:this.props.zoomOnClick?this.zoomToClusterBounds:void 0},s.map((function(e){return e.properties&&e.properties.cluster?n(e.geometry.coordinates,e.properties.point_count,t.getLeaves.bind(t,e)):t.featureClusterMap.get(e)})))},e.defaultProps={radius:60,minZoom:0,maxZoom:16,extent:512,nodeSize:64,log:!1,zoomOnClick:!1,zoomOnClickPadding:20},e}(a.Component);e.Cluster=p,e.default=h.withMap(p)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(1)),s=n(40),l={position:"absolute",zIndex:10,display:"flex",flexDirection:"column",boxShadow:"0px 1px 4px rgba(0, 0, 0, .3)",border:"1px solid rgba(0, 0, 0, 0.1)"},u={"top-right":{top:62,right:10,bottom:"auto",left:"auto"},"top-left":{top:62,left:10,bottom:"auto",right:"auto"},"bottom-right":{bottom:63,right:10,top:"auto",left:"auto"},"bottom-left":{bottom:63,left:10,top:"auto",right:"auto"}},c={backgroundColor:"#f9f9f9",opacity:.95,transition:"background-color 0.16s ease-out",cursor:"pointer",border:0,height:26,width:26,outline:0,padding:3},h={backgroundColor:"#fff",opacity:1},p={borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTopLeftRadius:2,borderTopRightRadius:2,borderBottomLeftRadius:2,borderBottomRightRadius:2},f=function(){return a.createElement("svg",{viewBox:"0 0 20 20"},a.createElement("polygon",{fill:"#333333",points:"6,9 10,1 14,9"}),a.createElement("polygon",{fill:"#CCCCCC",points:"6,11 10,19 14,11"}))},d={width:20,height:20,display:"inline-block"},m=Object.keys(u),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hover:void 0},e.compassIcon=null,e.onMouseOut=function(){e.state.hover||e.setState({hover:void 0})},e.onMouseIn=function(){0!==e.state.hover&&e.setState({hover:0})},e.onClickCompass=function(){e.props.map.resetNorth()},e.onMapRotate=function(){var t="rotate("+e.props.map.transform.angle*(180/Math.PI)+"deg)";e.compassIcon&&(e.compassIcon.style.transform=t)},e.assignRef=function(t){e.compassIcon=t},e}return r(e,t),e.prototype.componentDidMount=function(){this.props.map.on("rotate",this.onMapRotate)},e.prototype.componentWillUnmount=function(){this.props.map.off("rotate",this.onMapRotate)},e.prototype.render=function(){var t=this.props,e=t.position,n=t.style,r=t.className,o=t.tabIndex,s=this.state.hover,m=i({},c,p,0===s?h:{});return a.createElement("div",{className:r,tabIndex:o,style:i({},l,u[e],n)},a.createElement("button",{style:m,onMouseOver:this.onMouseIn,onMouseOut:this.onMouseOut,onClick:this.onClickCompass},a.createElement("span",{ref:this.assignRef,style:d},a.createElement(f,null))))},e.defaultProps={position:m[0]},e}(a.Component);e.RotationControl=g,e.default=s.withMap(g)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1)),a=n(40),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.componentDidMount=function(){this.loadImage(this.props)},e.prototype.componentWillUnmount=function(){e.removeImage(this.props)},e.prototype.componentDidUpdate=function(t){var n=t.id;t.map!==this.props.map&&e.removeImage(this.props),this.props.map&&!this.props.map.hasImage(n)&&this.loadImage(this.props)},e.prototype.render=function(){return null},e.prototype.loadImage=function(t){var e=this,n=t.map,r=t.id,i=t.url,o=t.data,a=t.options,s=t.onError;o?(n.addImage(r,o,a),this.loaded()):i&&n.loadImage(i,(function(t,i){t?s&&s(t):(n.addImage(r,i,a),e.loaded())}))},e.removeImage=function(t){var e=t.id,n=t.map;n&&n.getStyle()&&n.removeImage(e)},e.prototype.loaded=function(){var t=this.props.onLoaded;t&&t()},e}(o.Component);e.default=a.withMap(s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSVLink=e.CSVDownload=void 0;var r=o(n(257)),i=o(n(258));function o(t){return t&&t.__esModule?t:{default:t}}e.CSVDownload=r.default,e.CSVLink=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(157),l=n(158);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"buildURI",value:function(){return s.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.data,n=t.headers,r=t.separator,i=t.enclosingCharacter,o=t.uFEFF,a=t.target,s=t.specs,l=t.replace;this.state.page=window.open(this.buildURI(e,o,n,r,i),a,s,l)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),e}(a.default.Component);u.defaultProps=Object.assign(l.defaultProps,{target:"_blank"}),u.propTypes=l.propTypes,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),s=(r=a)&&r.__esModule?r:{default:r},l=n(157),u=n(158);var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.buildURI=n.buildURI.bind(n),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"buildURI",value:function(){return l.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){t.preventDefault();var n=this.props,r=n.data,i=n.headers,o=n.separator,a=n.filename,s=n.enclosingCharacter,u=n.uFEFF,c=e&&"function"===typeof r?r():r,h=new Blob([u?"\ufeff":"",(0,l.toCSV)(c,i,o,s)]);return window.navigator.msSaveBlob(h,a),!1}}},{key:"handleAsyncClick",value:function(t){var e=this;this.props.onClick(t,(function(n){!1!==n?e.handleLegacy(t,!0):t.preventDefault()}))}},{key:"handleSyncClick",value:function(t){!1===this.props.onClick(t)?t.preventDefault():this.handleLegacy(t)}},{key:"handleClick",value:function(){var t=this;return function(e){if("function"===typeof t.props.onClick)return t.props.asyncOnClick?t.handleAsyncClick(e):t.handleSyncClick(e);t.handleLegacy(e)}}},{key:"render",value:function(){var t=this,e=this.props,n=e.data,r=e.headers,o=e.separator,a=e.filename,l=e.uFEFF,u=e.children,c=(e.onClick,e.asyncOnClick,e.enclosingCharacter),h=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),p="undefined"===typeof window?"":this.buildURI(n,l,r,o,c);return s.default.createElement("a",i({download:a},h,{ref:function(e){return t.link=e},target:"_self",href:p,onClick:this.handleClick()}),u)}}]),e}(s.default.Component);c.defaultProps=u.defaultProps,c.propTypes=u.propTypes,e.default=c},function(t,e,n){var r=n(131).default;t.exports=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(265);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){(function(t,n){var r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Function]",d="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",_="[object Promise]",b="[object Proxy]",x="[object RegExp]",w="[object Set]",S="[object String]",E="[object Symbol]",O="[object Undefined]",k="[object WeakMap]",M="[object ArrayBuffer]",C="[object DataView]",T=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[s]=A[l]=A[M]=A[c]=A[C]=A[h]=A[p]=A[f]=A[m]=A[g]=A[v]=A[x]=A[w]=A[S]=A[k]=!1;var I="object"==typeof t&&t&&t.Object===Object&&t,D="object"==typeof self&&self&&self.Object===Object&&self,j=I||D||Function("return this")(),R=e&&!e.nodeType&&e,L=R&&"object"==typeof n&&n&&!n.nodeType&&n,z=L&&L.exports===R,N=z&&I.process,F=function(){try{return N&&N.binding&&N.binding("util")}catch(t){}}(),B=F&&F.isTypedArray;function U(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function V(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var W,q,K=Array.prototype,Y=Function.prototype,Z=Object.prototype,G=j["__core-js_shared__"],X=Y.toString,J=Z.hasOwnProperty,$=function(){var t=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Q=Z.toString,tt=RegExp("^"+X.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=z?j.Buffer:void 0,nt=j.Symbol,rt=j.Uint8Array,it=Z.propertyIsEnumerable,ot=K.splice,at=nt?nt.toStringTag:void 0,st=Object.getOwnPropertySymbols,lt=et?et.isBuffer:void 0,ut=(W=Object.keys,q=Object,function(t){return W(q(t))}),ct=Nt(j,"DataView"),ht=Nt(j,"Map"),pt=Nt(j,"Promise"),ft=Nt(j,"Set"),dt=Nt(j,"WeakMap"),mt=Nt(Object,"create"),gt=Vt(ct),yt=Vt(ht),vt=Vt(pt),_t=Vt(ft),bt=Vt(dt),xt=nt?nt.prototype:void 0,wt=xt?xt.valueOf:void 0;function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ot;++e<n;)this.add(t[e])}function Mt(t){var e=this.__data__=new Et(t);this.size=e.size}function Ct(t,e){var n=qt(t),r=!n&&Wt(t),i=!n&&!r&&Kt(t),o=!n&&!r&&!i&&Jt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var u in t)!e&&!J.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ut(u,l))||s.push(u);return s}function Tt(t,e){for(var n=t.length;n--;)if(Ht(t[n][0],e))return n;return-1}function Pt(t){return null==t?void 0===t?O:y:at&&at in Object(t)?function(t){var e=J.call(t,at),n=t[at];try{t[at]=void 0;var r=!0}catch(o){}var i=Q.call(t);r&&(e?t[at]=n:delete t[at]);return i}(t):function(t){return Q.call(t)}(t)}function At(t){return Xt(t)&&Pt(t)==s}function It(t,e,n,r,a){return t===e||(null==t||null==e||!Xt(t)&&!Xt(e)?t!==t&&e!==e:function(t,e,n,r,a,u){var f=qt(t),d=qt(e),y=f?l:Bt(t),_=d?l:Bt(e),b=(y=y==s?v:y)==v,O=(_=_==s?v:_)==v,k=y==_;if(k&&Kt(t)){if(!Kt(e))return!1;f=!0,b=!1}if(k&&!b)return u||(u=new Mt),f||Jt(t)?Rt(t,e,n,r,a,u):function(t,e,n,r,a,s,l){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!s(new rt(t),new rt(e)));case c:case h:case g:return Ht(+t,+e);case p:return t.name==e.name&&t.message==e.message;case x:case S:return t==e+"";case m:var u=V;case w:var f=r&i;if(u||(u=H),t.size!=e.size&&!f)return!1;var d=l.get(t);if(d)return d==e;r|=o,l.set(t,e);var y=Rt(u(t),u(e),r,a,s,l);return l.delete(t),y;case E:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,y,n,r,a,u);if(!(n&i)){var T=b&&J.call(t,"__wrapped__"),P=O&&J.call(e,"__wrapped__");if(T||P){var A=T?t.value():t,I=P?e.value():e;return u||(u=new Mt),a(A,I,n,r,u)}}if(!k)return!1;return u||(u=new Mt),function(t,e,n,r,o,a){var s=n&i,l=Lt(t),u=l.length,c=Lt(e),h=c.length;if(u!=h&&!s)return!1;var p=u;for(;p--;){var f=l[p];if(!(s?f in e:J.call(e,f)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var m=!0;a.set(t,e),a.set(e,t);var g=s;for(;++p<u;){var y=t[f=l[p]],v=e[f];if(r)var _=s?r(v,y,f,e,t,a):r(y,v,f,t,e,a);if(!(void 0===_?y===v||o(y,v,n,r,a):_)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return a.delete(t),a.delete(e),m}(t,e,n,r,a,u)}(t,e,n,r,It,a))}function Dt(t){return!(!Gt(t)||function(t){return!!$&&$ in t}(t))&&(Yt(t)?tt:T).test(Vt(t))}function jt(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Z;return t===n}(t))return ut(t);var e=[];for(var n in Object(t))J.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Rt(t,e,n,r,a,s){var l=n&i,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var p=-1,f=!0,d=n&o?new kt:void 0;for(s.set(t,e),s.set(e,t);++p<u;){var m=t[p],g=e[p];if(r)var y=l?r(g,m,p,e,t,s):r(m,g,p,t,e,s);if(void 0!==y){if(y)continue;f=!1;break}if(d){if(!U(e,(function(t,e){if(i=e,!d.has(i)&&(m===t||a(m,t,n,r,s)))return d.push(e);var i}))){f=!1;break}}else if(m!==g&&!a(m,g,n,r,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Lt(t){return function(t,e,n){var r=e(t);return qt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,$t,Ft)}function zt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Dt(n)?n:void 0}St.prototype.clear=function(){this.__data__=mt?mt(null):{},this.size=0},St.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},St.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===r?void 0:n}return J.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:J.call(e,t)},St.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mt&&void 0===e?r:e,this},Et.prototype.clear=function(){this.__data__=[],this.size=0},Et.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0)&&(n==e.length-1?e.pop():ot.call(e,n,1),--this.size,!0)},Et.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},Et.prototype.has=function(t){return Tt(this.__data__,t)>-1},Et.prototype.set=function(t,e){var n=this.__data__,r=Tt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Ot.prototype.clear=function(){this.size=0,this.__data__={hash:new St,map:new(ht||Et),string:new St}},Ot.prototype.delete=function(t){var e=zt(this,t).delete(t);return this.size-=e?1:0,e},Ot.prototype.get=function(t){return zt(this,t).get(t)},Ot.prototype.has=function(t){return zt(this,t).has(t)},Ot.prototype.set=function(t,e){var n=zt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},kt.prototype.add=kt.prototype.push=function(t){return this.__data__.set(t,r),this},kt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.clear=function(){this.__data__=new Et,this.size=0},Mt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Et){var r=n.__data__;if(!ht||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ot(r)}return n.set(t,e),this.size=n.size,this};var Ft=st?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(st(t),(function(e){return it.call(t,e)})))}:function(){return[]},Bt=Pt;function Ut(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ht(t,e){return t===e||t!==t&&e!==e}(ct&&Bt(new ct(new ArrayBuffer(1)))!=C||ht&&Bt(new ht)!=m||pt&&Bt(pt.resolve())!=_||ft&&Bt(new ft)!=w||dt&&Bt(new dt)!=k)&&(Bt=function(t){var e=Pt(t),n=e==v?t.constructor:void 0,r=n?Vt(n):"";if(r)switch(r){case gt:return C;case yt:return m;case vt:return _;case _t:return w;case bt:return k}return e});var Wt=At(function(){return arguments}())?At:function(t){return Xt(t)&&J.call(t,"callee")&&!it.call(t,"callee")},qt=Array.isArray;var Kt=lt||function(){return!1};function Yt(t){if(!Gt(t))return!1;var e=Pt(t);return e==f||e==d||e==u||e==b}function Zt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function Gt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xt(t){return null!=t&&"object"==typeof t}var Jt=B?function(t){return function(e){return t(e)}}(B):function(t){return Xt(t)&&Zt(t.length)&&!!A[Pt(t)]};function $t(t){return null!=(e=t)&&Zt(e.length)&&!Yt(e)?Ct(t):jt(t);var e}n.exports=function(t,e){return It(t,e)}}).call(this,n(45),n(125)(t))},function(t,e,n){var r,i,o,a=function(){var t=function(t,e){var n=t,r=o[e],i=null,a=0,s=null,l=[],u={},c=function(t,e){i=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var r=0;r<t;r+=1)e[n][r]=null}return e}(a=4*n+17),h(0,0),h(a-7,0),h(0,a-7),f(),p(),S(t,e),n>=7&&m(t),null==s&&(s=k(n,r,l)),E(s,e)},h=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||a<=t+n))for(var r=-1;r<=7;r+=1)e+r<=-1||a<=e+r||(i[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},p=function(){for(var t=8;t<a-8;t+=1)null==i[t][6]&&(i[t][6]=t%2==0);for(var e=8;e<a-8;e+=1)null==i[6][e]&&(i[6][e]=e%2==0)},f=function(){for(var t=d.getPatternPosition(n),e=0;e<t.length;e+=1)for(var r=0;r<t.length;r+=1){var o=t[e],a=t[r];if(null==i[o][a])for(var s=-2;s<=2;s+=1)for(var l=-2;l<=2;l+=1)i[o+s][a+l]=-2==s||2==s||-2==l||2==l||0==s&&0==l}},m=function(t){for(var e=d.getBCHTypeNumber(n),r=0;r<18;r+=1){var o=!t&&1==(e>>r&1);i[Math.floor(r/3)][r%3+a-8-3]=o}for(r=0;r<18;r+=1){o=!t&&1==(e>>r&1);i[r%3+a-8-3][Math.floor(r/3)]=o}},S=function(t,e){for(var n=r<<3|e,o=d.getBCHTypeInfo(n),s=0;s<15;s+=1){var l=!t&&1==(o>>s&1);s<6?i[s][8]=l:s<8?i[s+1][8]=l:i[a-15+s][8]=l}for(s=0;s<15;s+=1){l=!t&&1==(o>>s&1);s<8?i[8][a-s-1]=l:s<9?i[8][15-s-1+1]=l:i[8][15-s-1]=l}i[a-8][8]=!t},E=function(t,e){for(var n=-1,r=a-1,o=7,s=0,l=d.getMaskFunction(e),u=a-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var c=0;c<2;c+=1)if(null==i[r][u-c]){var h=!1;s<t.length&&(h=1==(t[s]>>>o&1)),l(r,u-c)&&(h=!h),i[r][u-c]=h,-1==(o-=1)&&(s+=1,o=7)}if((r+=n)<0||a<=r){r-=n,n=-n;break}}},k=function(t,e,n){for(var r=y.getRSBlocks(t,e),i=v(),o=0;o<n.length;o+=1){var a=n[o];i.put(a.getMode(),4),i.put(a.getLength(),d.getLengthInBits(a.getMode(),t)),a.write(i)}var s=0;for(o=0;o<r.length;o+=1)s+=r[o].dataCount;if(i.getLengthInBits()>8*s)throw"code length overflow. ("+i.getLengthInBits()+">"+8*s+")";for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s)&&(i.put(236,8),!(i.getLengthInBits()>=8*s));)i.put(17,8);return function(t,e){for(var n=0,r=0,i=0,o=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s+=1){var l=e[s].dataCount,u=e[s].totalCount-l;r=Math.max(r,l),i=Math.max(i,u),o[s]=new Array(l);for(var c=0;c<o[s].length;c+=1)o[s][c]=255&t.getBuffer()[c+n];n+=l;var h=d.getErrorCorrectPolynomial(u),p=g(o[s],h.getLength()-1).mod(h);for(a[s]=new Array(h.getLength()-1),c=0;c<a[s].length;c+=1){var f=c+p.getLength()-a[s].length;a[s][c]=f>=0?p.getAt(f):0}}var m=0;for(c=0;c<e.length;c+=1)m+=e[c].totalCount;var y=new Array(m),v=0;for(c=0;c<r;c+=1)for(s=0;s<e.length;s+=1)c<o[s].length&&(y[v]=o[s][c],v+=1);for(c=0;c<i;c+=1)for(s=0;s<e.length;s+=1)c<a[s].length&&(y[v]=a[s][c],v+=1);return y}(i,r)};u.addData=function(t,e){var n=null;switch(e=e||"Byte"){case"Numeric":n=_(t);break;case"Alphanumeric":n=b(t);break;case"Byte":n=x(t);break;case"Kanji":n=w(t);break;default:throw"mode:"+e}l.push(n),s=null},u.isDark=function(t,e){if(t<0||a<=t||e<0||a<=e)throw t+","+e;return i[t][e]},u.getModuleCount=function(){return a},u.make=function(){if(n<1){for(var t=1;t<40;t++){for(var e=y.getRSBlocks(t,r),i=v(),o=0;o<l.length;o++){var a=l[o];i.put(a.getMode(),4),i.put(a.getLength(),d.getLengthInBits(a.getMode(),t)),a.write(i)}var s=0;for(o=0;o<e.length;o++)s+=e[o].dataCount;if(i.getLengthInBits()<=8*s)break}n=t}c(!1,function(){for(var t=0,e=0,n=0;n<8;n+=1){c(!0,n);var r=d.getLostPoint(u);(0==n||t>r)&&(t=r,e=n)}return e}())},u.createTableTag=function(t,e){t=t||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(e="undefined"==typeof e?4*t:e)+"px;",n+='">',n+="<tbody>";for(var r=0;r<u.getModuleCount();r+=1){n+="<tr>";for(var i=0;i<u.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=u.isDark(r,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},u.createSvgTag=function(t,e,n,r){var i={};"object"==typeof arguments[0]&&(t=(i=arguments[0]).cellSize,e=i.margin,n=i.alt,r=i.title),t=t||2,e="undefined"==typeof e?4*t:e,(n="string"===typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"===typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var o,a,s,l,c=u.getModuleCount()*t+2*e,h="";for(l="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",h+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',h+=i.scalable?"":' width="'+c+'px" height="'+c+'px"',h+=' viewBox="0 0 '+c+" "+c+'" ',h+=' preserveAspectRatio="xMinYMin meet"',h+=r.text||n.text?' role="img" aria-labelledby="'+M([r.id,n.id].join(" ").trim())+'"':"",h+=">",h+=r.text?'<title id="'+M(r.id)+'">'+M(r.text)+"</title>":"",h+=n.text?'<description id="'+M(n.id)+'">'+M(n.text)+"</description>":"",h+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',h+='<path d="',a=0;a<u.getModuleCount();a+=1)for(s=a*t+e,o=0;o<u.getModuleCount();o+=1)u.isDark(a,o)&&(h+="M"+(o*t+e)+","+s+l);return h+='" stroke="transparent" fill="black"/>',h+="</svg>"},u.createDataURL=function(t,e){t=t||2,e="undefined"==typeof e?4*t:e;var n=u.getModuleCount()*t+2*e,r=e,i=n-e;return O(n,n,(function(e,n){if(r<=e&&e<i&&r<=n&&n<i){var o=Math.floor((e-r)/t),a=Math.floor((n-r)/t);return u.isDark(a,o)?0:1}return 1}))},u.createImgTag=function(t,e,n){t=t||2,e="undefined"==typeof e?4*t:e;var r=u.getModuleCount()*t+2*e,i="";return i+="<img",i+=' src="',i+=u.createDataURL(t,e),i+='"',i+=' width="',i+=r,i+='"',i+=' height="',i+=r,i+='"',n&&(i+=' alt="',i+=M(n),i+='"'),i+="/>"};var M=function(t){for(var e="",n=0;n<t.length;n+=1){var r=t.charAt(n);switch(r){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=r}}return e};return u.createASCII=function(t,e){if((t=t||1)<2)return function(t){t="undefined"==typeof t?2:t;var e,n,r,i,o,a=1*u.getModuleCount()+2*t,s=t,l=a-t,c={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},h={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},p="";for(e=0;e<a;e+=2){for(r=Math.floor((e-s)/1),i=Math.floor((e+1-s)/1),n=0;n<a;n+=1)o="\u2588",s<=n&&n<l&&s<=e&&e<l&&u.isDark(r,Math.floor((n-s)/1))&&(o=" "),s<=n&&n<l&&s<=e+1&&e+1<l&&u.isDark(i,Math.floor((n-s)/1))?o+=" ":o+="\u2588",p+=t<1&&e+1>=l?h[o]:c[o];p+="\n"}return a%2&&t>0?p.substring(0,p.length-a-1)+Array(a+1).join("\u2580"):p.substring(0,p.length-1)}(e);t-=1,e="undefined"==typeof e?2*t:e;var n,r,i,o,a=u.getModuleCount()*t+2*e,s=e,l=a-e,c=Array(t+1).join("\u2588\u2588"),h=Array(t+1).join("  "),p="",f="";for(n=0;n<a;n+=1){for(i=Math.floor((n-s)/t),f="",r=0;r<a;r+=1)o=1,s<=r&&r<l&&s<=n&&n<l&&u.isDark(i,Math.floor((r-s)/t))&&(o=0),f+=o?c:h;for(i=0;i<t;i+=1)p+=f+"\n"}return p.substring(0,p.length-1)},u.renderTo2dContext=function(t,e){e=e||2;for(var n=u.getModuleCount(),r=0;r<n;r++)for(var i=0;i<n;i++)t.fillStyle=u.isDark(r,i)?"black":"white",t.fillRect(r*e,i*e,e,e)},u};t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e.push(255&r)}return e}}).default,t.createStringToBytes=function(t,e){var n=function(){for(var n=E(t),r=function(){var t=n.read();if(-1==t)throw"eof";return t},i=0,o={};;){var a=n.read();if(-1==a)break;var s=r(),l=r()<<8|r();o[String.fromCharCode(a<<8|s)]=l,i+=1}if(i!=e)throw i+" != "+e;return o}(),r="?".charCodeAt(0);return function(t){for(var e=[],i=0;i<t.length;i+=1){var o=t.charCodeAt(i);if(o<128)e.push(o);else{var a=n[t.charAt(i)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(r)}}return e}};var e=1,n=2,r=4,i=8,o={L:1,M:0,Q:3,H:2},a=0,s=1,l=2,u=3,c=4,h=5,p=6,f=7,d=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],o=1335,d=7973,y={},v=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return y.getBCHTypeInfo=function(t){for(var e=t<<10;v(e)-v(o)>=0;)e^=o<<v(e)-v(o);return 21522^(t<<10|e)},y.getBCHTypeNumber=function(t){for(var e=t<<12;v(e)-v(d)>=0;)e^=d<<v(e)-v(d);return t<<12|e},y.getPatternPosition=function(e){return t[e-1]},y.getMaskFunction=function(t){switch(t){case a:return function(t,e){return(t+e)%2==0};case s:return function(t,e){return t%2==0};case l:return function(t,e){return e%3==0};case u:return function(t,e){return(t+e)%3==0};case c:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case h:return function(t,e){return t*e%2+t*e%3==0};case p:return function(t,e){return(t*e%2+t*e%3)%2==0};case f:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},y.getErrorCorrectPolynomial=function(t){for(var e=g([1],0),n=0;n<t;n+=1)e=e.multiply(g([1,m.gexp(n)],0));return e},y.getLengthInBits=function(t,o){if(1<=o&&o<10)switch(t){case e:return 10;case n:return 9;case r:case i:return 8;default:throw"mode:"+t}else if(o<27)switch(t){case e:return 12;case n:return 11;case r:return 16;case i:return 10;default:throw"mode:"+t}else{if(!(o<41))throw"type:"+o;switch(t){case e:return 14;case n:return 13;case r:return 16;case i:return 12;default:throw"mode:"+t}}},y.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r+=1)for(var i=0;i<e;i+=1){for(var o=0,a=t.isDark(r,i),s=-1;s<=1;s+=1)if(!(r+s<0||e<=r+s))for(var l=-1;l<=1;l+=1)i+l<0||e<=i+l||0==s&&0==l||a==t.isDark(r+s,i+l)&&(o+=1);o>5&&(n+=3+o-5)}for(r=0;r<e-1;r+=1)for(i=0;i<e-1;i+=1){var u=0;t.isDark(r,i)&&(u+=1),t.isDark(r+1,i)&&(u+=1),t.isDark(r,i+1)&&(u+=1),t.isDark(r+1,i+1)&&(u+=1),0!=u&&4!=u||(n+=3)}for(r=0;r<e;r+=1)for(i=0;i<e-6;i+=1)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(i=0;i<e;i+=1)for(r=0;r<e-6;r+=1)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);var c=0;for(i=0;i<e;i+=1)for(r=0;r<e;r+=1)t.isDark(r,i)&&(c+=1);return n+=10*(Math.abs(100*c/e/e-50)/5)},y}(),m=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n+=1)t[n]=1<<n;for(n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(n=0;n<255;n+=1)e[t[n]]=n;var r={glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}};return r}();function g(t,e){if("undefined"==typeof t.length)throw t.length+"/"+e;var n=function(){for(var n=0;n<t.length&&0==t[n];)n+=1;for(var r=new Array(t.length-n+e),i=0;i<t.length-n;i+=1)r[i]=t[i+n];return r}(),r={getAt:function(t){return n[t]},getLength:function(){return n.length},multiply:function(t){for(var e=new Array(r.getLength()+t.getLength()-1),n=0;n<r.getLength();n+=1)for(var i=0;i<t.getLength();i+=1)e[n+i]^=m.gexp(m.glog(r.getAt(n))+m.glog(t.getAt(i)));return g(e,0)},mod:function(t){if(r.getLength()-t.getLength()<0)return r;for(var e=m.glog(r.getAt(0))-m.glog(t.getAt(0)),n=new Array(r.getLength()),i=0;i<r.getLength();i+=1)n[i]=r.getAt(i);for(i=0;i<t.getLength();i+=1)n[i]^=m.gexp(m.glog(t.getAt(i))+e);return g(n,0).mod(t)}};return r}var y=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={};return n.getRSBlocks=function(n,r){var i=function(e,n){switch(n){case o.L:return t[4*(e-1)+0];case o.M:return t[4*(e-1)+1];case o.Q:return t[4*(e-1)+2];case o.H:return t[4*(e-1)+3];default:return}}(n,r);if("undefined"==typeof i)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var a=i.length/3,s=[],l=0;l<a;l+=1)for(var u=i[3*l+0],c=i[3*l+1],h=i[3*l+2],p=0;p<u;p+=1)s.push(e(c,h));return s},n}(),v=function(){var t=[],e=0,n={getBuffer:function(){return t},getAt:function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},put:function(t,e){for(var r=0;r<e;r+=1)n.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return e},putBit:function(n){var r=Math.floor(e/8);t.length<=r&&t.push(0),n&&(t[r]|=128>>>e%8),e+=1}};return n},_=function(t){var n=e,r=t,i={getMode:function(){return n},getLength:function(t){return r.length},write:function(t){for(var e=r,n=0;n+2<e.length;)t.put(o(e.substring(n,n+3)),10),n+=3;n<e.length&&(e.length-n==1?t.put(o(e.substring(n,n+1)),4):e.length-n==2&&t.put(o(e.substring(n,n+2)),7))}},o=function(t){for(var e=0,n=0;n<t.length;n+=1)e=10*e+a(t.charAt(n));return e},a=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return i},b=function(t){var e=n,r=t,i={getMode:function(){return e},getLength:function(t){return r.length},write:function(t){for(var e=r,n=0;n+1<e.length;)t.put(45*o(e.charAt(n))+o(e.charAt(n+1)),11),n+=2;n<e.length&&t.put(o(e.charAt(n)),6)}},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return i},x=function(e){var n=r,i=t.stringToBytes(e),o={getMode:function(){return n},getLength:function(t){return i.length},write:function(t){for(var e=0;e<i.length;e+=1)t.put(i[e],8)}};return o},w=function(e){var n=i,r=t.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(t,e){var n=r("\u53cb");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var o=r(e),a={getMode:function(){return n},getLength:function(t){return~~(o.length/2)},write:function(t){for(var e=o,n=0;n+1<e.length;){var r=(255&e[n])<<8|255&e[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13),n+=2}if(n<e.length)throw"illegal char at "+(n+1)}};return a},S=function(){var t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,n,r){n=n||0,r=r||t.length;for(var i=0;i<r;i+=1)e.writeByte(t[i+n])},writeString:function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+="]"}};return e},E=function(t){var e=t,n=0,r=0,i=0,o={read:function(){for(;i<8;){if(n>=e.length){if(0==i)return-1;throw"unexpected end of file./"+i}var t=e.charAt(n);if(n+=1,"="==t)return i=0,-1;t.match(/^\s$/)||(r=r<<6|a(t.charCodeAt(0)),i+=6)}var o=r>>>i-8&255;return i-=8,o}},a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return o},O=function(t,e,n){for(var r=function(t,e){var n=t,r=e,i=new Array(t*e),o={setPixel:function(t,e,r){i[e*n+t]=r},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(r),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(r),t.writeByte(0);var e=a(2);t.writeByte(2);for(var i=0;e.length-i>255;)t.writeByte(255),t.writeBytes(e,i,255),i+=255;t.writeByte(e.length-i),t.writeBytes(e,i,e.length-i),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,n=1+(1<<t),r=t+1,o=s(),a=0;a<e;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var l=S(),u=function(t){var e=t,n=0,r=0;return{write:function(t,i){if(t>>>i!=0)throw"length over";for(;n+i>=8;)e.writeByte(255&(t<<n|r)),i-=8-n,t>>>=8-n,r=0,n=0;r|=t<<n,n+=i},flush:function(){n>0&&e.writeByte(r)}}}(l);u.write(e,r);var c=0,h=String.fromCharCode(i[c]);for(c+=1;c<i.length;){var p=String.fromCharCode(i[c]);c+=1,o.contains(h+p)?h+=p:(u.write(o.indexOf(h),r),o.size()<4095&&(o.size()==1<<r&&(r+=1),o.add(h+p)),h=p)}return u.write(o.indexOf(h),r),u.write(n,r),u.flush(),l.toByteArray()},s=function(){var t={},e=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;t[r]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return"undefined"!=typeof t[e]}};return n};return o}(t,e),i=0;i<e;i+=1)for(var o=0;o<t;o+=1)r.setPixel(o,i,n(o,i));var a=S();r.write(a);for(var s=function(){var t=0,e=0,n=0,r="",i={},o=function(t){r+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return i.writeByte=function(r){for(t=t<<8|255&r,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},i.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var i=3-n%3,a=0;a<i;a+=1)r+="="},i.toString=function(){return r},i}(),l=a.toByteArray(),u=0;u<l.length;u+=1)s.writeByte(l[u]);return s.flush(),"data:image/gif;base64,"+s};return t}();a.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}(t)},i=[],void 0===(o="function"===typeof(r=function(){return a})?r.apply(e,i):r)||(t.exports=o)},,function(t,e,n){(function(t){!function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function i(t,e,n){i.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function u(t){var e="undefined"==typeof t?"undefined":P(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function c(t,e,n,r,h,p,f){f=f||[];var d=(h=h||[]).slice(0);if("undefined"!=typeof p){if(r){if("function"==typeof r&&r(d,p))return;if("object"===("undefined"==typeof r?"undefined":P(r))){if(r.prefilter&&r.prefilter(d,p))return;if(r.normalize){var m=r.normalize(d,p,t,e);m&&(t=m[0],e=m[1])}}}d.push(p)}"regexp"===u(t)&&"regexp"===u(e)&&(t=t.toString(),e=e.toString());var g="undefined"==typeof t?"undefined":P(t),y="undefined"==typeof e?"undefined":P(e),v="undefined"!==g||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(p),_="undefined"!==y||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(p);if(!v&&_)n(new o(d,e));else if(!_&&v)n(new a(d,t));else if(u(t)!==u(e))n(new i(d,t,e));else if("date"===u(t)&&t-e!==0)n(new i(d,t,e));else if("object"===g&&null!==t&&null!==e)if(f.filter((function(e){return e.lhs===t})).length)t!==e&&n(new i(d,t,e));else{if(f.push({lhs:t,rhs:e}),Array.isArray(t)){var b;for(t.length,b=0;b<t.length;b++)b>=e.length?n(new s(d,b,new a(void 0,t[b]))):c(t[b],e[b],n,r,d,b,f);for(;b<e.length;)n(new s(d,b,new o(void 0,e[b++])))}else{var x=Object.keys(t),w=Object.keys(e);x.forEach((function(i,o){var a=w.indexOf(i);a>=0?(c(t[i],e[i],n,r,d,i,f),w=l(w,a)):c(t[i],void 0,n,r,d,i,f)})),w.forEach((function(t){c(void 0,e[t],n,r,d,t,f)}))}f.length=f.length-1}else t!==e&&("number"===g&&isNaN(t)&&isNaN(e)||n(new i(d,t,e)))}function h(t,e,n,r){return r=r||[],c(t,e,(function(t){t&&r.push(t)}),n),r.length?r:void 0}function p(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":p(t[e],n.index,n.item);break;case"D":t=l(t,e);break;case"E":case"N":t[e]=n.rhs}return t}function f(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,i=-1,o=n.path?n.path.length-1:0;++i<o;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":p(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":d(t[e],n.index,n.item);break;case"D":case"E":t[e]=n.lhs;break;case"N":t=l(t,e)}return t}function m(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function g(t,e,n){t&&e&&c(t,e,(function(r){n&&!n(t,e,r)||f(t,e,r)}))}function y(t){return"color: "+D[t].color+"; font-weight: bold"}function v(t){var e=t.kind,n=t.path,r=t.lhs,i=t.rhs,o=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function _(t,e,n,r){var i=h(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}i?i.forEach((function(t){var e=t.kind,r=v(t);n.log.apply(n,["%c "+D[e].text,y(e)].concat(A(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(t){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(t,e,n,r){switch("undefined"==typeof t?"undefined":P(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,A(n)):t[r];case"function":return t(e);default:return t}}function x(t){var e=t.timestamp,n=t.duration;return function(t,r,i){var o=["action"];return o.push("%c"+String(t.type)),e&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function w(t,e){var n=e.logger,r=e.actionTransformer,i=e.titleFormatter,o=void 0===i?x(e):i,a=e.collapsed,s=e.colors,l=e.level,u=e.diff,c="undefined"==typeof e.titleFormatter;t.forEach((function(i,h){var p=i.started,f=i.startedTime,d=i.action,m=i.prevState,g=i.error,y=i.took,v=i.nextState,x=t[h+1];x&&(v=x.prevState,y=x.started-p);var w=r(d),S="function"==typeof a?a((function(){return v}),d,i):a,E=C(f),O=s.title?"color: "+s.title(w)+";":"",k=["color: gray; font-weight: lighter;"];k.push(O),e.timestamp&&k.push("color: gray; font-weight: lighter;"),e.duration&&k.push("color: gray; font-weight: lighter;");var M=o(w,E,y);try{S?s.title&&c?n.groupCollapsed.apply(n,["%c "+M].concat(k)):n.groupCollapsed(M):s.title&&c?n.group.apply(n,["%c "+M].concat(k)):n.group(M)}catch(t){n.log(M)}var T=b(l,w,[m],"prevState"),P=b(l,w,[w],"action"),A=b(l,w,[g,m],"error"),I=b(l,w,[v],"nextState");if(T)if(s.prevState){var D="color: "+s.prevState(m)+"; font-weight: bold";n[T]("%c prev state",D,m)}else n[T]("prev state",m);if(P)if(s.action){var j="color: "+s.action(w)+"; font-weight: bold";n[P]("%c action    ",j,w)}else n[P]("action    ",w);if(g&&A)if(s.error){var R="color: "+s.error(g,m)+"; font-weight: bold;";n[A]("%c error     ",R,g)}else n[A]("error     ",g);if(I)if(s.nextState){var L="color: "+s.nextState(v)+"; font-weight: bold";n[I]("%c next state",L,v)}else n[I]("next state",v);u&&_(m,v,n,S);try{n.groupEnd()}catch(t){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},j,t),n=e.logger,r=e.stateTransformer,i=e.errorTransformer,o=e.predicate,a=e.logErrors,s=e.diffPredicate;if("undefined"==typeof n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var l=[];return function(t){var n=t.getState;return function(t){return function(u){if("function"==typeof o&&!o(n,u))return t(u);var c={};l.push(c),c.started=T.now(),c.startedTime=new Date,c.prevState=r(n()),c.action=u;var h=void 0;if(a)try{h=t(u)}catch(t){c.error=i(t)}else h=t(u);c.took=T.now()-c.started,c.nextState=r(n());var p=e.diff&&"function"==typeof s?s(n,u):e.diff;if(w(l,Object.assign({},e,{diff:p})),l.length=0,c.error)throw c.error;return h}}}}var E,O,k=function(t,e){return new Array(e+1).join(t)},M=function(t,e){return k("0",e-t.toString().length)+t},C=function(t){return M(t.getHours(),2)+":"+M(t.getMinutes(),2)+":"+M(t.getSeconds(),2)+"."+M(t.getMilliseconds(),3)},T="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},I=[];E="object"===("undefined"==typeof t?"undefined":P(t))&&t?t:"undefined"!=typeof window?window:{},(O=E.DeepDiff)&&I.push((function(){"undefined"!=typeof O&&E.DeepDiff===h&&(E.DeepDiff=O,O=void 0)})),n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof O},enumerable:!0},noConflict:{value:function(){return I&&(I.forEach((function(t){t()})),I=null),h},enumerable:!0}});var D={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},j={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?S()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=j,e.createLogger=S,e.logger=R,e.default=R,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(45))},,,,function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(1),a=n(7),s=n(0);const l=o.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,as:o="div",...l}=t;const u=Object(a.c)(n,"row"),c=Object(a.a)(),h=Object(a.b)(),p="".concat(u,"-cols"),f=[];return c.forEach((t=>{const e=l[t];let n;delete l[t],null!=e&&"object"===typeof e?({cols:n}=e):n=e;const r=t!==h?"-".concat(t):"";null!=n&&f.push("".concat(p).concat(r,"-").concat(n))})),Object(s.jsx)(o,{ref:e,...l,className:i()(r,u,...f)})}));l.displayName="Row",e.a=l},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 8 8 12 12 16"}),i.a.createElement("line",{x1:"16",y1:"12",x2:"8",y2:"12"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="ArrowLeftCircle",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","type","size","color","children","tag"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f={tag:u.j,type:a.a.oneOf(["border","grow"]),size:a.a.oneOf(["sm"]),color:a.a.oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:a.a.string,cssModule:a.a.object,children:a.a.string};function d(t){var e=t.className,n=t.cssModule,r=t.type,o=void 0===r?"border":r,a=t.size,s=t.color,f=t.children,d=void 0===f?"Loading...":f,m=t.tag,g=void 0===m?"div":m,y=p(t,c),v=Object(u.g)(l()(e,!!a&&"spinner-".concat(o,"-").concat(a),"spinner-".concat(o),!!s&&"text-".concat(s)),n);return i.a.createElement(g,h({role:"status"},y,{className:v}),d&&i.a.createElement("span",{className:Object(u.g)("visually-hidden",n)},d))}d.propTypes=f,e.a=d},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 16 16 12 12 8"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="ArrowRightCircle",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="CheckCircle",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),i.a.createElement("circle",{cx:"12",cy:"10",r:"3"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="MapPin",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),i.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Menu",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","noGutters","tag","widths"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=["xs","sm","md","lg","xl","xxl"],d=a.a.oneOfType([a.a.number,a.a.string]),m={tag:u.j,noGutters:Object(u.c)(a.a.bool,"Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/"),className:a.a.string,cssModule:a.a.object,xs:d,sm:d,md:d,lg:d,xl:d,xxl:d,widths:a.a.array};function g(t){var e=t.className,n=t.cssModule,r=t.noGutters,o=t.tag,a=void 0===o?"div":o,s=t.widths,d=void 0===s?f:s,m=p(t,c),g=[];d.forEach((function(e,n){var r=t[e];if(delete m[e],r){var i=!n;g.push(i?"row-cols-".concat(r):"row-cols-".concat(e,"-").concat(r))}}));var y=Object(u.g)(l()(e,r?"gx-0":null,"row",g),n);return i.a.createElement(a,h({},m,{className:y}))}g.propTypes=m,e.a=g},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","widths","tag"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=["xs","sm","md","lg","xl","xxl"],m=a.a.oneOfType([a.a.number,a.a.string]),g=a.a.oneOfType([a.a.bool,a.a.number,a.a.string,a.a.shape({size:a.a.oneOfType([a.a.bool,a.a.number,a.a.string]),order:m,offset:m})]),y={tag:u.j,xs:g,sm:g,md:g,lg:g,xl:g,xxl:g,className:a.a.string,cssModule:a.a.object,widths:a.a.array},v=function(t,e,n){return!0===n||""===n?t?"col":"col-".concat(e):"auto"===n?t?"col-auto":"col-".concat(e,"-auto"):t?"col-".concat(n):"col-".concat(e,"-").concat(n)};function _(t){var e=t.className,n=t.cssModule,r=t.widths,o=void 0===r?d:r,a=t.tag,s=void 0===a?"div":a,m=function(t,e){var n=t,r=[];return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:d).forEach((function(t,i){var o=n[t];if(delete n[t],o||""===o){var a=!i;if(Object(u.e)(o)){var s,c=a?"-":"-".concat(t,"-"),h=v(a,t,o.size);r.push(Object(u.g)(l()((f(s={},h,o.size||""===o.size),f(s,"order".concat(c).concat(o.order),o.order||0===o.order),f(s,"offset".concat(c).concat(o.offset),o.offset||0===o.offset),s)),e))}else{var p=v(a,t,o);r.push(p)}}})),{colClasses:r,modifiedAttributes:n}}(p(t,c),n,o),g=m.modifiedAttributes,y=m.colClasses;y.length||y.push("col");var _=Object(u.g)(l()(e,y),n);return i.a.createElement(s,h({},g,{className:_}))}_.propTypes=y,e.a=_},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f={bordered:a.a.bool,borderless:a.a.bool,className:a.a.string,cssModule:a.a.object,dark:a.a.bool,hover:a.a.bool,innerRef:a.a.oneOfType([a.a.func,a.a.string,a.a.object]),responsive:a.a.oneOfType([a.a.bool,a.a.string]),responsiveTag:u.j,size:a.a.string,striped:a.a.bool,tag:u.j};function d(t){var e=t.className,n=t.cssModule,r=t.size,o=t.bordered,a=t.borderless,s=t.striped,f=t.dark,d=t.hover,m=t.responsive,g=t.tag,y=void 0===g?"table":g,v=t.responsiveTag,_=void 0===v?"div":v,b=t.innerRef,x=p(t,c),w=Object(u.g)(l()(e,"table",!!r&&"table-"+r,!!o&&"table-bordered",!!a&&"table-borderless",!!s&&"table-striped",!!f&&"table-dark",!!d&&"table-hover"),n),S=i.a.createElement(y,h({},x,{ref:b,className:w}));if(m){var E=Object(u.g)(!0===m?"table-responsive":"table-responsive-".concat(m),n);return i.a.createElement(_,{className:E},S)}return S}d.propTypes=f,e.a=d},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),i.a.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),i.a.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),i.a.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Grid",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="X",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),i.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Send",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("polyline",{points:"3 6 5 6 21 6"}),i.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Trash",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","color","body","inverse","outline","tag","innerRef"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f={body:a.a.bool,className:a.a.string,color:a.a.string,cssModule:a.a.object,innerRef:a.a.oneOfType([a.a.object,a.a.string,a.a.func]),inverse:a.a.bool,outline:a.a.bool,tag:u.j};function d(t){var e=t.className,n=t.cssModule,r=t.color,o=t.body,a=t.inverse,s=t.outline,f=t.tag,d=void 0===f?"div":f,m=t.innerRef,g=p(t,c),y=Object(u.g)(l()(e,"card",!!a&&"text-white",!!o&&"card-body",!!r&&"".concat(s?"border":"bg","-").concat(r)),n);return i.a.createElement(d,h({},g,{className:y,ref:m}))}d.propTypes=f,e.a=d},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","innerRef","tag"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f={className:a.a.string,cssModule:a.a.object,innerRef:a.a.oneOfType([a.a.object,a.a.string,a.a.func]),tag:u.j};function d(t){var e=t.className,n=t.cssModule,r=t.innerRef,o=t.tag,a=void 0===o?"div":o,s=p(t,c),f=Object(u.g)(l()(e,"card-body"),n);return i.a.createElement(a,h({},s,{className:f,ref:r}))}d.propTypes=f,e.a=d},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","top","bottom","tag"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f={bottom:a.a.bool,className:a.a.string,cssModule:a.a.object,tag:u.j,top:a.a.bool};function d(t){var e=t.className,n=t.cssModule,r=t.top,o=t.bottom,a=t.tag,s=void 0===a?"img":a,f=p(t,c),d="card-img";r&&(d="card-img-top"),o&&(d="card-img-bottom");var m=Object(u.g)(l()(e,d),n);return i.a.createElement(s,h({},f,{className:m}))}d.propTypes=f,e.a=d},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=["className","cssModule","tag"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f={className:a.a.string,cssModule:a.a.object,tag:u.j};function d(t){var e=t.className,n=t.cssModule,r=t.tag,o=void 0===r?"p":r,a=p(t,c),s=Object(u.g)(l()(e,"card-text"),n);return i.a.createElement(o,h({},a,{className:s}))}d.propTypes=f,e.a=d},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.a.createElement("polyline",{points:"14 2 14 8 20 8"}),i.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.a.createElement("polyline",{points:"10 9 9 9 8 9"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="FileText",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),i.a.createElement("line",{x1:"1",y1:"10",x2:"23",y2:"10"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="CreditCard",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("polyline",{points:"20 6 9 17 4 12"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Check",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),i.a.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Copy",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i.a.createElement("polyline",{points:"22,6 12,13 2,6"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Mail",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Phone",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),i.a.createElement("polyline",{points:"13 2 13 9 20 9"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="File",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(5);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}var u=["className","cssModule","tag","innerRef"];function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}(this,n)}}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var y={children:a.a.node,tag:s.j,innerRef:a.a.oneOfType([a.a.object,a.a.func,a.a.string]),className:a.a.string,cssModule:a.a.object},v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(a,t);var e,n,r,o=d(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).getRef=e.getRef.bind(m(e)),e.submit=e.submit.bind(m(e)),e}return e=a,(n=[{key:"getRef",value:function(t){this.props.innerRef&&this.props.innerRef(t),this.ref=t}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.cssModule,r=t.tag,o=void 0===r?"form":r,a=t.innerRef,l=h(t,u),p=Object(s.g)(e,n);return i.a.createElement(o,c({},l,{ref:a,className:p}))}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Component);v.propTypes=y,e.a=v},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(1),a=n(7),s=n(0);const l=o.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,striped:o,bordered:l,borderless:u,hover:c,size:h,variant:p,responsive:f,...d}=t;const m=Object(a.c)(n,"table"),g=i()(r,m,p&&"".concat(m,"-").concat(p),h&&"".concat(m,"-").concat(h),o&&"".concat(m,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),l&&"".concat(m,"-bordered"),u&&"".concat(m,"-borderless"),c&&"".concat(m,"-hover")),y=Object(s.jsx)("table",{...d,className:g,ref:e});if(f){let t="".concat(m,"-responsive");return"string"===typeof f&&(t="".concat(t,"-").concat(f)),Object(s.jsx)("div",{className:t,children:y})}return y}));e.a=l},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Eye",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("polyline",{points:"1 4 1 10 7 10"}),i.a.createElement("polyline",{points:"23 20 23 14 17 14"}),i.a.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="RefreshCcw",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("circle",{cx:"12",cy:"12",r:"4"}),i.a.createElement("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="AtSign",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("path",{d:"M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"}),i.a.createElement("polyline",{points:"8 10 12 14 16 10"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="Pocket",e.a=u},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o);function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=Object(r.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,o=t.size,a=void 0===o?24:o,u=l(t,["color","size"]);return i.a.createElement("svg",s({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),i.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))}));u.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},u.displayName="XCircle",e.a=u},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(1),a=n(7),s=n(0);const l=o.forwardRef(((t,e)=>{let{bsPrefix:n,variant:r,animation:o="border",size:l,as:u="div",className:c,...h}=t;n=Object(a.c)(n,"spinner");const p="".concat(n,"-").concat(o);return Object(s.jsx)(u,{ref:e,...h,className:i()(c,p,l&&"".concat(p,"-").concat(l),r&&"text-".concat(r))})}));l.displayName="Spinner",e.a=l},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(1),a=n(7),s=n(0);const l=o.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o="div",...l}=t;return r=Object(a.c)(r,"card-body"),Object(s.jsx)(o,{ref:e,className:i()(n,r),...l})}));l.displayName="CardBody";var u=l;const c=o.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o="div",...l}=t;return r=Object(a.c)(r,"card-footer"),Object(s.jsx)(o,{ref:e,className:i()(n,r),...l})}));c.displayName="CardFooter";var h=c;const p=o.createContext(null);p.displayName="CardHeaderContext";var f=p;const d=o.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,as:l="div",...u}=t;const c=Object(a.c)(n,"card-header"),h=Object(o.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return Object(s.jsx)(f.Provider,{value:h,children:Object(s.jsx)(l,{ref:e,...u,className:i()(r,c)})})}));d.displayName="CardHeader";var m=d;const g=o.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,variant:o,as:l="img",...u}=t;const c=Object(a.c)(n,"card-img");return Object(s.jsx)(l,{ref:e,className:i()(o?"".concat(c,"-").concat(o):c,r),...u})}));g.displayName="CardImg";var y=g;const v=o.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o="div",...l}=t;return r=Object(a.c)(r,"card-img-overlay"),Object(s.jsx)(o,{ref:e,className:i()(n,r),...l})}));v.displayName="CardImgOverlay";var _=v;const b=o.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o="a",...l}=t;return r=Object(a.c)(r,"card-link"),Object(s.jsx)(o,{ref:e,className:i()(n,r),...l})}));b.displayName="CardLink";var x=b,w=n(71);const S=Object(w.a)("h6"),E=o.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o=S,...l}=t;return r=Object(a.c)(r,"card-subtitle"),Object(s.jsx)(o,{ref:e,className:i()(n,r),...l})}));E.displayName="CardSubtitle";var O=E;const k=o.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o="p",...l}=t;return r=Object(a.c)(r,"card-text"),Object(s.jsx)(o,{ref:e,className:i()(n,r),...l})}));k.displayName="CardText";var M=k;const C=Object(w.a)("h5"),T=o.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:o=C,...l}=t;return r=Object(a.c)(r,"card-title"),Object(s.jsx)(o,{ref:e,className:i()(n,r),...l})}));T.displayName="CardTitle";var P=T;const A=o.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,bg:o,text:l,border:c,body:h=!1,children:p,as:f="div",...d}=t;const m=Object(a.c)(n,"card");return Object(s.jsx)(f,{ref:e,...d,className:i()(r,m,o&&"bg-".concat(o),l&&"text-".concat(l),c&&"border-".concat(c)),children:h?Object(s.jsx)(u,{children:p}):p})}));A.displayName="Card";e.a=Object.assign(A,{Img:y,Title:P,Subtitle:O,Body:u,Link:x,Text:M,Header:m,Footer:h,ImgOverlay:_})},function(t,e,n){"use strict";var r,i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(t){return"string"===typeof t&&a.test(t)},l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};e.a=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return c(r)}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(51),c=n.n(u),h=n(110),p=n(34);function f(t){var e=t.children,n=t.innerRef,i=r.useContext(h.c),o=r.useCallback((function(t){Object(p.c)(n,t),Object(p.b)(i,t)}),[n,i]);return r.useEffect((function(){return function(){return Object(p.c)(n,null)}}),[]),r.useEffect((function(){c()(Boolean(i),"`Reference` should not be used outside of a `Manager` component.")}),[i]),Object(p.d)(e)({ref:o})}var d=n(55),m=n(5),g=["className","cssModule","variant","innerRef"];function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y.apply(this,arguments)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var x={active:a.a.bool,"aria-label":a.a.string,onClick:a.a.func,variant:a.a.oneOf(["white"]),className:a.a.string,cssModule:a.a.object,innerRef:a.a.oneOfType([a.a.object,a.a.string,a.a.func])};function w(t){var e=t.className,n=(t.cssModule,t.variant),r=t.innerRef,o=b(t,g),a=Object(m.g)(l()(e,"btn-close",n&&"btn-close-".concat(n)));return i.a.createElement("button",y({ref:r,type:"button",className:a},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"aria-label":"close"},o)))}w.propTypes=x;var S=w,E=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function O(){return O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O.apply(this,arguments)}function k(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var M={active:a.a.bool,"aria-label":a.a.string,block:a.a.bool,children:a.a.node,className:a.a.string,cssModule:a.a.object,close:a.a.bool,color:a.a.string,disabled:a.a.bool,innerRef:a.a.oneOfType([a.a.object,a.a.func,a.a.string]),onClick:a.a.func,outline:a.a.bool,size:a.a.string,tag:m.j};function C(t){var e=Object(r.useCallback)((function(e){if(!t.disabled)return t.onClick?t.onClick(e):void 0;e.preventDefault()}),[t.onClick,t.disabled]),n=t.active,o=t["aria-label"],a=t.block,s=t.className,u=t.close,c=t.cssModule,h=t.color,p=void 0===h?"secondary":h,f=t.outline,d=t.size,g=t.tag,y=void 0===g?"button":g,v=t.innerRef,_=k(t,E);if(u)return i.a.createElement(S,_);var b="btn".concat(f?"-outline":"","-").concat(p),x=Object(m.g)(l()(s,"btn",b,!!d&&"btn-".concat(d),!!a&&"d-block w-100",{active:n,disabled:t.disabled}),c);return _.href&&"button"===y&&(y="a"),i.a.createElement(y,O({type:"button"===y&&_.onClick?"button":void 0},_,{className:x,ref:v,onClick:e,"aria-label":o}))}C.propTypes=M;var T=C;function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}var A=["className","color","cssModule","caret","split","nav","tag","innerRef"];function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(this,arguments)}function D(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function L(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N(t);if(e){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z(t)}(this,n)}}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}var F={caret:a.a.bool,color:a.a.string,children:a.a.node,className:a.a.string,cssModule:a.a.object,disabled:a.a.bool,onClick:a.a.func,"aria-haspopup":a.a.bool,split:a.a.bool,tag:m.j,nav:a.a.bool,innerRef:a.a.oneOfType([a.a.object,a.a.string,a.a.func])},B=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(a,t);var e,n,r,o=L(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).onClick=e.onClick.bind(z(e)),e}return e=a,(n=[{key:"onClick",value:function(t){this.props.disabled||this.context.disabled?t.preventDefault():(this.props.nav&&!this.props.tag&&t.preventDefault(),this.props.onClick&&this.props.onClick(t),this.context.toggle(t))}},{key:"getRole",value:function(){return this.context.menuRole||this.props["aria-haspopup"]}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.className,o=n.color,a=n.cssModule,s=n.caret,u=n.split,c=n.nav,h=n.tag,p=n.innerRef,d=D(n,A),g=d["aria-label"]||"Toggle Dropdown",y=Object(m.g)(l()(r,{"dropdown-toggle":s||u,"dropdown-toggle-split":u,"nav-link":c}),a),v="undefined"!==typeof d.children?d.children:i.a.createElement("span",{className:"visually-hidden"},g);return c&&!h?(t="a",d.href="#"):h?t=h:(t=T,d.color=o,d.cssModule=a),this.context.inNavbar?i.a.createElement(t,I({},d,{className:y,onClick:this.onClick,ref:this.context.onToggleRef,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:v})):i.a.createElement(f,{innerRef:p},(function(n){var r,o,a,s=n.ref;return i.a.createElement(t,I({},d,(a=function(t){s(t);var n=e.context.onToggleRef;n&&n(t)},(o="string"===typeof t?"ref":"innerRef")in(r={})?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r),{className:y,onClick:e.onClick,"aria-expanded":e.context.isOpen,"aria-haspopup":e.getRole(),children:v}))}))}}])&&j(e.prototype,n),r&&j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a.Component);B.propTypes=F,B.defaultProps={color:"secondary","aria-haspopup":!0},B.contextType=d.a;e.a=B},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(110),l=n(3),u=n.n(l),c=n(55),h=n(5),p=i.a.createContext({});function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}var d=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"];function m(){return m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m.apply(this,arguments)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}(this,n)}}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var S={a11y:a.a.bool,disabled:a.a.bool,direction:a.a.oneOf(["up","down","start","end","left","right"]),group:a.a.bool,isOpen:a.a.bool,nav:a.a.bool,active:a.a.bool,size:a.a.string,tag:h.j,toggle:a.a.func,children:a.a.node,className:a.a.string,cssModule:a.a.object,dropup:a.a.bool,inNavbar:a.a.bool,setActiveFromChild:a.a.bool,menuRole:a.a.oneOf(["listbox","menu"])},E=[h.f.space,h.f.enter,h.f.up,h.f.down,h.f.end,h.f.home],O=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(a,t);var e,n,r,o=b(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).addEvents=e.addEvents.bind(x(e)),e.handleDocumentClick=e.handleDocumentClick.bind(x(e)),e.handleKeyDown=e.handleKeyDown.bind(x(e)),e.removeEvents=e.removeEvents.bind(x(e)),e.toggle=e.toggle.bind(x(e)),e.handleMenuRef=e.handleMenuRef.bind(x(e)),e.handleToggleRef=e.handleToggleRef.bind(x(e)),e.containerRef=i.a.createRef(),e.menuRef=i.a.createRef(),e.toggleRef=i.a.createRef(),e}return e=a,(n=[{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(t){this.props.isOpen!==t.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"handleMenuRef",value:function(t){this.menuRef.current=t}},{key:"handleToggleRef",value:function(t){this.toggleRef.current=t}},{key:"handleDocumentClick",value:function(t){if(!t||3!==t.which&&("keyup"!==t.type||t.which===h.f.tab)){var e=this.getContainer(),n=this.getMenu(),r=this.getToggle().contains(t.target),i=n&&n.contains(t.target)&&n!==t.target,o=!1;e&&(o=e.classList.contains("input-group")&&e.classList.contains("dropdown")&&"INPUT"===t.target.tagName),(!(r&&!o||i)||"keyup"===t.type&&t.which!==h.f.tab)&&this.toggle(t)}}},{key:"handleKeyDown",value:function(t){var e=this,n="menuitem"===t.target.getAttribute("role")||"option"===t.target.getAttribute("role"),r=this.getMenuCtrl()===t.target,i=h.f.tab===t.which;if(!(/input|textarea/i.test(t.target.tagName)||i&&!this.props.a11y||i&&!n&&!r)&&((-1!==E.indexOf(t.which)||t.which>=48&&t.which<=90)&&t.preventDefault(),!this.props.disabled)){if(r)if([h.f.space,h.f.enter,h.f.up,h.f.down].indexOf(t.which)>-1)this.props.isOpen||this.toggle(t),setTimeout((function(){var t;return null===(t=e.getMenuItems()[0])||void 0===t?void 0:t.focus()}));else if(this.props.isOpen&&i){var o;t.preventDefault(),null===(o=this.getMenuItems()[0])||void 0===o||o.focus()}else this.props.isOpen&&t.which===h.f.esc&&this.toggle(t);if(this.props.isOpen&&n)if([h.f.tab,h.f.esc].indexOf(t.which)>-1)this.toggle(t),this.getMenuCtrl().focus();else if([h.f.space,h.f.enter].indexOf(t.which)>-1)t.target.click(),this.getMenuCtrl().focus();else if([h.f.down,h.f.up].indexOf(t.which)>-1||[h.f.n,h.f.p].indexOf(t.which)>-1&&t.ctrlKey){var a=this.getMenuItems(),s=a.indexOf(t.target);h.f.up===t.which||h.f.p===t.which&&t.ctrlKey?s=0!==s?s-1:a.length-1:(h.f.down===t.which||h.f.n===t.which&&t.ctrlKey)&&(s=s===a.length-1?0:s+1),a[s].focus()}else if(h.f.end===t.which){var l=this.getMenuItems();l[l.length-1].focus()}else if(h.f.home===t.which)this.getMenuItems()[0].focus();else if(t.which>=48&&t.which<=90)for(var u=this.getMenuItems(),c=String.fromCharCode(t.which).toLowerCase(),p=0;p<u.length;p+=1)if((u[p].textContent&&u[p].textContent[0].toLowerCase())===c){u[p].focus();break}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"getContextValue",value:function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,onToggleRef:this.handleToggleRef,menuRole:this.props.menuRole}}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getMenu",value:function(){return this.menuRef.current}},{key:"getToggle",value:function(){return this.toggleRef.current}},{key:"getMenuCtrl",value:function(){return this._$menuCtrl||(this._$menuCtrl=this.getToggle()),this._$menuCtrl}},{key:"getItemType",value:function(){return"listbox"===this.props.menuRole?"option":"menuitem"}},{key:"getMenuItems",value:function(){var t=this.getMenu()||this.getContainer();return[].slice.call(t.querySelectorAll('[role="'.concat(this.getItemType(),'"]')))}},{key:"addEvents",value:function(){var t=this;["click","touchstart","keyup"].forEach((function(e){return document.addEventListener(e,t.handleDocumentClick,!0)}))}},{key:"removeEvents",value:function(){var t=this;["click","touchstart","keyup"].forEach((function(e){return document.removeEventListener(e,t.handleDocumentClick,!0)}))}},{key:"toggle",value:function(t){return this.props.disabled?t&&t.preventDefault():this.props.toggle(t)}},{key:"render",value:function(){var t,e=this,n=Object(h.h)(this.props,["toggle","disabled","inNavbar","a11y"]),r=n.className,o=n.cssModule,a=n.direction,l=n.isOpen,p=n.group,f=n.size,v=n.nav,_=n.setActiveFromChild,b=n.active,x=n.tag,w=(n.menuRole,y(n,d)),S=x||(v?"li":"div"),E=!1;_&&i.a.Children.map(this.props.children[1].props.children,(function(t){t&&t.props.active&&(E=!0)}));var O=Object(h.g)(u()(r,!(!v||!b)&&"active",!(!_||!E)&&"active",(g(t={"btn-group":p},"btn-group-".concat(f),!!f),g(t,"dropdown",!p),g(t,"dropup","up"===a),g(t,"dropstart","start"===a||"left"===a),g(t,"dropend","end"===a||"right"===a),g(t,"show",l),g(t,"nav-item",v),t)),o);return this.context.insideInputGroup?i.a.createElement(c.a.Provider,{value:this.getContextValue()},i.a.createElement(s.a,null,i.a.Children.map(this.props.children,(function(t){return i.a.cloneElement(t,{onKeyDown:e.handleKeyDown})})))):i.a.createElement(c.a.Provider,{value:this.getContextValue()},i.a.createElement(s.a,null,i.a.createElement(S,m({},w,g({},"string"===typeof S?"ref":"innerRef",this.containerRef),{onKeyDown:this.handleKeyDown,className:O}))))}}])&&v(e.prototype,n),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a.Component);O.propTypes=S,O.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1},O.contextType=p;e.a=O},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(17),l=n.n(s),u=n(3),c=n.n(u),h=n(110),p=n(34),f=n(165),d=function(){},m=function(){return Promise.resolve(null)},g=[];function y(t){var e=t.placement,n=void 0===e?"bottom":e,i=t.strategy,o=void 0===i?"absolute":i,a=t.modifiers,s=void 0===a?g:a,l=t.referenceElement,u=t.onFirstUpdate,c=t.innerRef,y=t.children,v=r.useContext(h.b),_=r.useState(null),b=_[0],x=_[1],w=r.useState(null),S=w[0],E=w[1];r.useEffect((function(){Object(p.c)(c,b)}),[c,b]);var O=r.useMemo((function(){return{placement:n,strategy:o,onFirstUpdate:u,modifiers:[].concat(s,[{name:"arrow",enabled:null!=S,options:{element:S}}])}}),[n,o,u,s,S]),k=Object(f.a)(l||v,b,O),M=k.state,C=k.styles,T=k.forceUpdate,P=k.update,A=r.useMemo((function(){return{ref:x,style:C.popper,placement:M?M.placement:n,hasPopperEscaped:M&&M.modifiersData.hide?M.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:M&&M.modifiersData.hide?M.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:C.arrow,ref:E},forceUpdate:T||d,update:P||m}}),[x,E,n,M,C,P,T]);return Object(p.d)(y)(A)}var v=n(55),_=n(5);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}var x=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container","updateOnSelect"];function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w.apply(this,arguments)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=I(t);if(e){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}var D={tag:_.j,children:a.a.node.isRequired,dark:a.a.bool,end:a.a.bool,flip:a.a.bool,modifiers:a.a.array,className:a.a.string,cssModule:a.a.object,style:a.a.object,persist:a.a.bool,strategy:a.a.string,container:_.k,updateOnSelect:a.a.bool,right:Object(_.c)(a.a.bool,'Please use "end" instead.')},j={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},R=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(a,t);var e,n,r,o=A(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"getRole",value:function(){return"listbox"===this.context.menuRole?"listbox":"menu"}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.cssModule,o=e.dark,a=e.end,s=e.right,u=e.tag,h=void 0===u?"div":u,p=e.flip,f=void 0===p||p,d=e.modifiers,m=void 0===d?[]:d,g=e.persist,v=e.strategy,b=e.container,S=e.updateOnSelect,O=C(e,x),M=Object(_.g)(c()(n,"dropdown-menu",{"dropdown-menu-dark":o,"dropdown-menu-end":a||s,show:this.context.isOpen}),r),T=h;if(g||this.context.isOpen&&!this.context.inNavbar){var P=j[this.context.direction]||"bottom",A=a||s?"end":"start",I="".concat(P,"-").concat(A),D=[].concat(k(m),[{name:"flip",enabled:!!f}]),R={};g&&(R.display="block",R.visibility=this.context.isOpen?"visible":"hidden");var L=i.a.createElement(y,{placement:I,modifiers:D,strategy:v},(function(e){var n=e.ref,r=e.style,o=e.placement,a=e.update,s=E(E(E({},t.props.style),R),r);return i.a.createElement(T,w({tabIndex:"-1",role:t.getRole(),ref:function(e){n(e);var r=t.context.onMenuRef;r&&r(e)}},O,{style:s,"aria-hidden":!t.context.isOpen,className:M,"data-popper-placement":o,onClick:function(){return S&&a()}}))}));return b?l.a.createPortal(L,Object(_.d)(b)):L}var z=this.context.onMenuRef;return i.a.createElement(T,w({tabIndex:"-1",role:this.getRole()},O,{ref:z,"aria-hidden":!this.context.isOpen,className:M,"data-popper-placement":O.placement,"data-bs-popper":"static"}))}}])&&T(e.prototype,n),r&&T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.a.Component);R.propTypes=D,R.contextType=v.a;e.a=R},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),l=n.n(s),u=n(5),c=n(44),h=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.apply(this,arguments)}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=m(m({},c.e.propTypes),{},{children:a.a.oneOfType([a.a.arrayOf(a.a.node),a.a.node]),tag:u.j,baseClass:a.a.string,baseClassActive:a.a.string,className:a.a.string,cssModule:a.a.object,innerRef:a.a.oneOfType([a.a.object,a.a.string,a.a.func])}),v=m(m({},c.e.defaultProps),{},{timeout:u.b.Fade,appear:!0,enter:!0,exit:!0,in:!0});function _(t){var e=Object(r.useRef)(null),n=t.tag,o=void 0===n?"div":n,a=t.baseClass,s=void 0===a?"fade":a,d=t.baseClassActive,g=void 0===d?"show":d,y=t.className,_=t.cssModule,b=t.children,x=t.innerRef,w=void 0===x?e:x,S=f(t,h),E=Object(u.i)(m({defaultProps:v},S),u.a),O=Object(u.h)(S,u.a);return i.a.createElement(c.e,p({nodeRef:w},E),(function(t){var e="entered"===t,n=Object(u.g)(l()(y,s,e&&g),_);return i.a.createElement(o,p({className:n},O,{ref:w}),b)}))}_.propTypes=y,_.defaultProps=v;var b=_,x=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w.apply(this,arguments)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var M={children:a.a.node,className:a.a.string,closeClassName:a.a.string,closeAriaLabel:a.a.string,color:a.a.string,cssModule:a.a.object,fade:a.a.bool,innerRef:a.a.oneOfType([a.a.object,a.a.string,a.a.func]),isOpen:a.a.bool,tag:u.j,toggle:a.a.func,transition:a.a.shape(b.propTypes)};function C(t){var e=t.className,n=t.closeClassName,r=t.closeAriaLabel,o=void 0===r?"Close":r,a=t.cssModule,s=t.tag,c=void 0===s?"div":s,h=t.color,p=void 0===h?"success":h,f=t.isOpen,d=void 0===f||f,m=t.toggle,g=t.children,y=t.transition,v=void 0===y?E(E({},b.defaultProps),{},{unmountOnExit:!0}):y,_=t.fade,S=void 0===_||_,O=t.innerRef,M=k(t,x),C=Object(u.g)(l()(e,"alert","alert-".concat(p),{"alert-dismissible":m}),a),T=Object(u.g)(l()("btn-close",n),a),P=E(E(E({},b.defaultProps),v),{},{baseClass:S?v.baseClass:"",timeout:S?v.timeout:0});return i.a.createElement(b,w({},M,P,{tag:c,className:C,in:d,role:"alert",innerRef:O}),m?i.a.createElement("button",{type:"button",className:T,"aria-label":o,onClick:m}):null,g)}C.propTypes=M;e.a=C}]]);
//# sourceMappingURL=2.1c790abd.chunk.js.map